<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--saved from url=(0082)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_3a_4.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

<title>CS 1, 2 and3B Module 3A Section 4</title>
<link href="./CS 1, 2 and3B Module 3A Section 4_files/programming_styles_1.css" rel="stylesheet" type="text/css"/>
</head>

<body bgcolor="FFFFFF" data-gr-c-s-loaded="true">
<a name="1_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - Bit Operations</h1>
	<h2>3A.4.1 Shift Operators</h2>
	<p>Now that we know how numbers are stored internally, we can manipulate them as   bits rather than numbers.  By that I mean you can shift the bits left or   right a specified number of positions.</p>
	<ul>
		<li>101 shifted left one position is 1010</li>
		<li>101 shifted left three positions is 101000</li>
		<li>101 shifted right one position is 10</li>
		<li>101 shifted right three position is 0</li>
	</ul>
	<p>Shifting left and right turns out to be a useful operation in cellular   automata, as you will discover.  C++,  Java and Python all support <em><strong>shift operations</strong></em><strong></strong> using   the <span class="codeInLine">&lt;&lt;</span> (shift <em><strong>left</strong></em>) and <span class="codeInLine">&gt;&gt;</span> (shift <em><strong>right</strong></em>) operators.</p>
	<h4>Java and C++</h4>
	<pre>// shift yInt left three positions and store the result in xInt
xInt = yInt &lt;&lt; 3;</pre>
	<h4>Python</h4>
	<pre># shift y_int right two positions and store the result in x_int
x_int = y_int &gt;&gt; 2</pre>
	<h4>Decimal Shifts</h4>
	<p>You undoubtedly know that in <em><strong>decimal</strong></em> arithmetic, <em><strong>multiplying by 10</strong></em> is easily done by <em><strong>appending a zero</strong></em> to the digits of the number.  This is a <em><strong>left-shift operation</strong></em>.  <em><strong>Appending two zeros</strong></em>,   i.e., <em><strong>shifting left two places</strong></em>, is the same as <em><strong>multiplying by 100</strong></em>.  Similarly, <em><strong>shifting right</strong></em> is   like <em><strong>dividing by 10</strong></em>.  Of course,   when we shift right we lose the fractional place, so this is really an<em><strong> integer</strong></em> (or <em><strong>floor</strong></em>) <em><strong>division</strong></em>, not a floating point one.</p>
	<h4>Binary Shifts</h4>
	<p>In   <strong><em>binary</em></strong> arithmetic, <em><strong>shifting left once</strong></em> is equivalent to <em><strong>multiplying by 2</strong></em>, <em><strong>shifting left   twice</strong></em> is equivalent to <em><strong>multiplying by 4</strong></em>, etc.  Similarly, <em><strong>shifting right</strong></em> is   like  dividing by 2 in <em><strong>binary</strong></em>.  Again, we lose the fractional place, so this is really an <em><strong>integer   division</strong></em>.</p>
	<h2>3A.4.2 Logical bit operators</h2>
	<p>If we   think of the <em><strong>bit</strong></em> <strong>1</strong> as <strong> <em>true</em></strong> and the bit <strong>0</strong> as <strong> <em>false</em></strong>,   we can apply the operations <em><strong>and</strong></em>, <em><strong>or</strong></em> and <em><strong>not</strong></em> to <em><strong>bits</strong></em> just as we did with &quot;<strong><em>booleans</em></strong>.&quot;  The <em><strong>bitwise operators</strong></em> for <em><strong>and</strong></em>, <em><strong>or</strong></em> and <em><strong>not</strong></em> are <span class="codeInLine">&amp;</span>, <span class="codeInLine">|</span> and <span class="codeInLine">~</span>, respectively.  The definitions for these operators on a   single bit are:</p>
	<div class="narrowTable">
			<table border="0" cellpadding="0" cellspacing="0" summary="The | operator" width="90%">
				<caption>
					Bitwise OR
				</caption>
				<tbody><tr>
					<th scope="col">a</th>
					<th scope="col">b</th>
					<th scope="col">a | b</th>
				</tr>
				<tr>
					<td>1</td>
					<td>1</td>
					<td>1</td>
				</tr>
				<tr>
					<td>0</td>
					<td>1</td>
					<td>1</td>
				</tr>
				<tr>
					<td>1</td>
					<td>0</td>
					<td>1</td>
				</tr>
				<tr>
					<td>0</td>
					<td>0</td>
					<td>0</td>
				</tr>
			</tbody></table>
		</div>
		<p> </p>
		<div class="narrowTable">
			<table border="0" cellpadding="0" cellspacing="0" summary="The | operator" width="90%">
				<caption>
					Bitwise AND
				</caption>
				<tbody><tr>
					<th scope="col">a</th>
					<th scope="col">b</th>
					<th scope="col">a &amp; b</th>
				</tr>
				<tr>
					<td>1</td>
					<td>1</td>
					<td>1</td>
				</tr>
				<tr>
					<td>0</td>
					<td>1</td>
					<td>0</td>
				</tr>
				<tr>
					<td>1</td>
					<td>0</td>
					<td>0</td>
				</tr>
				<tr>
					<td>0</td>
					<td>0</td>
					<td>0</td>
				</tr>
			</tbody></table>
		</div>
		<p> </p>
		<div class="narrowTable">
			<table border="0" cellpadding="0" cellspacing="0" summary="The | operator" width="90%">
				<caption>
					Bitwise NOT
				</caption>
				<tbody><tr>
					<th scope="col">a</th>
					<th scope="col">~a</th>
				</tr>
				<tr>
					<td>1</td>
					<td>0</td>
				</tr>
				<tr>
					<td>0</td>
					<td>1</td>
				</tr>
			</tbody></table>
		</div>
		<p> </p>
		<p>Now, this only gives the result of a <em><strong>single bit</strong></em>.  Numbers in computers   are stored in <em><strong>words</strong></em> that are several bits: 8, 16, 32 and 64 typically.  If you do a <em><strong>bitwise operation</strong></em> on two numbers,    the result will be applied to <em><strong>each bit position</strong></em> individually, the result of   one position having no influence on the result of any other position.</p>
	<p>For example, </p>
	<ul>
		<li>11110000 | 01010101= 11110101 </li>
		<li>11110000 &amp; 01010101= 01010000</li>
		<li>~11110000 = 00001111</li>
		<li>~01010101 = 10101010</li>
	</ul>
	<p>Apply the above rules to each position, individually, to see this.  If you   want to prove it to yourself, convert <strong>11110000</strong> and <strong>01010101</strong> to   either <em><strong>hex</strong></em> or <em><strong>decimal</strong></em> so you can use them in a program, and assign them to two   variables.  Then apply the bitwise operators and display the results.    Convert the results to <em><strong>binary</strong></em> and you should get the answers shown above.  </p>
    <div class="parenthetical">
      <p><strong>Warning</strong>:  the <em><strong>bitwise</strong></em> <em><strong>not</strong></em> (complement) operator, <span class="codeInLine">~</span>, will convert all the   <strong>0</strong>s of the number to <strong>1</strong>s.  Since this includes left-most <strong>0</strong>s (that we don&apos;t   usually think about) the answer will be a number with a lot of <strong>1</strong>s in the   leftmost positions.  This results in a <em><strong>negative value</strong></em> for most <strong>ints</strong>, so  the answer you see will be <em><strong>a strange looking negative number</strong></em>.  Unless you   want to look-up &quot;two&apos;s complement&quot; to see how this negative number is stored   internally, you&apos;ll probably just have to take my word for the last two results.    (Can you think of an easy — almost trivial — way to test that bit-wise complement <em>seems</em> to work correctly?)</p>
    </div>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1a/cs_1A_2b_6.html -->



<a name="2_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 6 - String Concatenation</h1>
	<h2>2B.6.1 The Concatenation Operator</h2>
	<p>We&apos;ve seen the <strong><em>concatenation operator, +,</em></strong> in action before:</p>

<pre>   System.out.println( &quot;someNumber is &quot; + someNumber );</pre>


	<p>The <em><strong>concatenation operator</strong></em> is used to   join together two or more <strong>Strings</strong>.  We can <em><strong>concatenate</strong></em> either <strong>String   variables </strong><em>or</em><strong> String literals</strong>.  </p>
	<p>The next program will help you if you ever receive an Oscar at the   Academy Awards.  It will demonstrate use of the <em><strong>concatenation   operator, +</strong></em>, as well as the new <strong>String</strong> data type that we just   presented.  We will create a speech by piecing together certain phrases. </p>
	<p>Notice how we first declare the <strong>String</strong> <strong><em>references</em></strong>, then   later use them to <em><strong>instantiate</strong></em> specific <strong>String</strong> <em><strong>objects</strong></em> with phrases in them.  Also, there is one new item that you&apos;ll see:    an example where we combine the <strong>String</strong> declaration with the object instantiation   into one statement.  </p>
	<p>Have a look:</p>

<pre>

public class Foothill 
{
   public static void main(String[] args)
   {             
      // declare some string references (variables)
      String thxMom, thxAgent, thxFox;
      String outputString;
      
      // for fun, create the String object directly in the declaration
      String acceptanceSpeech = new String(&quot;I&apos;d like to thank &quot;);
     
      // create the rest of the  string objects to use 
      // in your speech.
      thxMom = new String(&quot;my Mother, Reva, and wife Coleen.&quot;);
      thxFox = new String(&quot;everyone at Fox and FBC.&quot;);
      thxAgent = new String(&quot;my agent and everyone at Paradigm.&quot;);
 
      // stand up at the podium and get settled ...
      // for this use String Literals directly in the
      // output statements.
      System.out.println( 
         &quot;I didn&apos;t really expect to win ...&quot;);
      System.out.println( 
         &quot;I don&apos;t even have a speech prepared!&quot;);
      System.out.println( &quot;Anyway ...&quot;);
 
      // now finally start to thank people.
      outputString = &quot;First of all &quot; + acceptanceSpeech + thxFox;
      System.out.println( outputString);
  
      outputString = &quot;Next, &quot; + acceptanceSpeech + thxAgent;
      System.out.println( outputString);
 
      outputString = &quot;But mostly, &quot; + acceptanceSpeech + thxMom;
      System.out.println( outputString); 
   }
}
</pre>
	
	<p>This program has a few variations of what we learned:</p>
	<ul>
		<li>There are several instances of the <em><strong>concatenation operator</strong></em> being used to glue together <strong>String <em>literals</em></strong> and<strong> String <em> variables</em>.</strong></li>
		<li>We have a short-cut statement that <em><strong>declares</strong></em> and <em><strong> instantiates</strong></em> a <strong>String</strong> <em><strong>object</strong></em> in one line.    	Can you find it?</li>
		<li>We used a <strong>String <em>reference</em></strong>, <strong>outputString</strong>, to hold   	the result of some <strong>String</strong> <em><strong>concatenations</strong></em>. Do you see   	this?</li>
	</ul>
	<p>Paste this into your compiler IDE and run it.  It&apos;s a fun little program   and you can use it as a basis for doing homework assignments.</p>
	<div class="picCenter"><img alt="decorative basket of flowers" border="0" height="360" src="./CS 1A Module 2B Section 6_files/cs_A_common_46.JPG" width="240"/></div>
	</div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_2b_1.html -->



<a name="3_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 -  Recursion</h1>
	<h2>2B.1.1 Recursive Functions (<font color="#ff0000">Review from CS 1A</font>)</h2>
	<p>We review a functional concept, <strong><em>recursion</em></strong>, which you   may have had in <em><strong>CS 1A</strong></em> (CIS 27A).  We need recursion in our next search algorithm, the   binary search.</p>
	<p align="center"> <img alt="decorative statue" border="0" height="300" src="./CS 1B Module 2B Section 1_files/cs_B_common_10.JPG" width="200"/></p>
	<p align="left">Look at this example:</p>

<pre>public class Sample
{   
   // -------  main --------------
   public static void main(String[] args)
   {
      System.out.println( myPow(2.4, 4) + &quot; vs. &quot; 
            + Math.pow(2.4, 4));
      System.out.println( myPow(1.23, 9) + &quot; vs. &quot; 
            + Math.pow(1.23, 9));
      System.out.println( myPow(5535, -29) + &quot; vs. &quot; 
            + Math.pow(5535, -29));
   }
  
   // -------  My Power --------------
   public static double myPow(double base, long exp)
   {
      if (exp == 0)
         return 1.;
      if (exp &lt; 0)
         return 1. / myPow( base, -exp);
      else
         return base * myPow( base, exp-1 );
   } 
}  
</pre>

	<p>As you see, I am defining my own home-rolled version of the <strong>Math.pow()</strong> method which I call <strong>myPow()</strong>.  In my version, I only care about integer   exponents, so I make the exponent parameter a <strong>long</strong>.  Then, I test to see   if I get the same results as <strong>Math.pow()</strong>, and, of course, I do.  The odd   thing about this method is that it calls itself!</p>

	<p><em><strong>Recursion</strong></em> is sometimes defined as a method calling itself, and<strong> myPow()</strong> certainly does that. There is more to it than that, but that usually   gets the right neurons firing when thinking about the concept. <br/>
	 </p>
	<p>This method <strong>myPow()</strong> used to compute a <em><strong>base</strong></em> to an <em><strong> exp</strong></em> power, say<strong> 2.4<sup>4</sup></strong> or &quot;2.4 raised to the 4th power&quot;   which is </p>
	<pre>    2.4 * 2.4 * 2.4 * 2.4.  </pre>
	<p>The way this method works is by breaking the situation into cases. Ignore the <strong>exp&lt;0 </strong>case for now. </p>
	<ul>
		<li><strong>If exp == 0</strong>, then the answer is 1, because <em>anything to the 0 power is 1</em>. If you didn&apos;t know that before, now you do. <br/>
		</li>
		<li><strong>If exp is &gt; 0</strong>, Let&apos;s say <strong>4</strong>, then <strong>myPow(base, 4)</strong> ends up using the final else statement of the method, which will evaluate   	to: 
	<pre>        base * myPow(base, 3);</pre>

So the <em><strong>function calls itself </strong></em>using the same <em><strong>base</strong></em>, but a   	power of <strong>3</strong>, instead of <strong>4</strong>. Whatever answer the function gets on that &quot;inner&quot;   	call, it multiplies that answer by the <em><strong>base</strong></em>, and that is the   	final answer we want. This should make sense to you, since<br/>
<br/>
<span class="picCenter"><strong>base<sup>4</sup></strong> is nothing more than<strong> base * base<sup>3</sup></strong></span> <br/>
<br/>
In fact, this always works: <strong>myPow(7, 5)</strong> is computed by finding <strong> myPow(7, 4)</strong> and multiplying that answer by one more <strong>7</strong>. You don&apos;t   	have to follow the logic all the way down;  just realize that if the function   	keeps calling itself (as it will do) the <strong>exp</strong> gets smaller and smaller   	until it finally hits 0 at which time the function returns a 1. Then the   	function calls (which have built up) start &quot;paying off&quot; -- or &quot;unwinding&quot;   	-- resulting in that 1 being multiplied by a <strong>7</strong>.  Continuing to   	unwind, that answer is   	multiplied by another <strong>7</strong>, etc. This happens five times in total. It sounds messy, but look at   	the program. It&apos;s really clean and simple.
</li>

		<li><strong>The exp &lt; 0</strong> case is for negative exponents. A negative exponent   	is just the <em><strong>reciprocal</strong></em> of the positive exponent (remember that   	from high school arithmetic?), and that is why that case looks as it does. </li>
	</ul>
	<p>In general, a <em><strong>recursive function </strong></em>has <em><u>at least </u></em>two   cases. </p>
	<ul>
		<li>One case returns a value without the function calling itself.  There is   	no recursive call in this case.  This is called the <em><strong>escape case.</strong></em></li>
		<li>The other case(s) results in the function calling itself, but the inner   	function call uses <em><strong>different arguments</strong></em> than it was passed.    	The new arguments that it passes to &quot;itself&quot; must bring us closer to the   	so-called <em><strong>escape case</strong></em> (above). </li>
	</ul>
	<p>In our example, the escape case is the one in which exp==0.  The other cases always   result in a recursive call that brings us closer to that escape case.  For example, if we enter the method with <strong>exp</strong> equal to 7, then we call <strong>myPow() </strong>recursively passing in 6 to the <strong>exp</strong>, thus bringing it closer to the escape case   of 0.</p>
	<p>As you can see, the above program works:</p>

<pre>33.1776 vs. 33.1776
6.44386 vs. 6.44386
2.81572e-109 vs. 2.81572e-109
</pre>
<div class="important"> Caution
	<p> Recursion is not as efficient as an algorithm   that does something using loops, directly, without calling itself.  The <strong>myPow()</strong> method is not a good example of when recursion should be used,   but it is the universal way to teach recursion (although factorials and   Fibonacci are two other popular substrates, and Fibonacci is a disaster if done   recursively).</p>
</div>
<p>There are times when you simply have no viable alternative to recursion, and   there are other times when you can manage without recursion, but with no   meaningful savings and an increase in complexity.</p>
	<p>An example of a situation where one cannot do without recursion is a 3-D   imaging application called a &quot;ray tracer&quot;.  Most such algorithms must &quot;recurse&quot;   - there is just no way around it.  &quot;Radiosity&quot; algorithms are even more   sophisticated lighting methods that create realism to computer animation.    Again, recursion is a requirement here.  The up-coming binary search   algorithm is an example where one might find a non-recursive solution, but it   would suffer the following two drawbacks:</p>
	<ol>
		<li>It would lack simplicity and clarity.</li>
		<li>It would not really reduce the overhead significantly.</li>
	</ol>
	<p>You have to gauge the time and place to apply recursion.  </p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_2b_2.html -->



<a name="4_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - Binary Searching</h1>
	<h2>2B.2.1 Need for Efficiency</h2>
	<p>There is one problem with the <em><strong>linear search</strong></em>:  it is not   efficient.  If we have an array of 1,000,000 students and we are searching for   one, we&apos;ll have to compare, on average, 500,000 names with the <em><strong>key</strong></em> before we return with the position of the student. We <em>may</em> have to test all 1,000,000 (or maybe we get lucky and find it on the first test).</p>
	<p>A<em><strong> binary search</strong></em> promises to find a student in one million names   using at most 20 name/key comparisons!  There&apos;s one catch:  we have to <em><strong> sort</strong></em> the array first.  This is not as bad as it sounds since we often   store the array in sorted order anyway.</p>
	<p>The concept is simple.  We start out by comparing the <em><strong>key</strong></em> to the <em><strong>middle</strong></em> element of the   (sorted) array.  If the <em><strong>key</strong></em> is <u><em>greater than</em></u> the <em> <strong>middle</strong></em> student, we know that <em><strong>key</strong></em>, if present in the   array, is in the <em><strong>upper half of the array</strong></em>. On the other hand, if the <em><strong>key</strong></em> is <em><u>less than</u></em> the <em><strong>middle</strong></em> student, then the <em><strong> key</strong></em>, if present, is in the <strong> <em>lower half sub-array</em></strong>.    Either way, we take the appropriate (upper or lower) sub-array as the new array   (it&apos;s now half as big as the original, thankfully) and repeat the test   recursively.  This gets repeated until we either find the key or the   sub-array shrinks to nothing.</p>
	<div class="picCenter"><img alt="scenic death valley sign" border="0" height="200" hspace="25" src="./CS 1B Module 2B Section 2_files/cs_B_common_11.JPG" vspace="7" width="300"/></div>
	<h2>2B.2.2 A Binary Algorithm</h2>
	<p>Here is an example.  First, we will simplify the <strong>Student</strong> class so that   it contains only last names.  Now, imagine the array contains 100 elements and we   are looking for the <em><strong>key</strong></em> &quot;chloe&quot;.  Assume that &quot;chloe&quot; is in the   array.  We sort the array and assume that &quot;chloe&quot; ends up at index 41 after the   sort.  </p>
	<p><em>Informally</em> (meaning, in the syntax below, wherein we sloppily identify the name &quot;chloe&quot; with the object for which we are searching) we are going to inspect the expression:</p>

<pre> &quot;chloe&quot;.compareTo(array[k].lastName)
</pre>

	<p>Since the array is sorted, we know that if k &lt; 41 the comparison will return   a positive number because &quot;chloe&quot; is greater than <strong>lastName</strong>.  If <strong>k   &gt;   41</strong>, the result will be negative,  because &quot;chloe&quot; will be less than <strong> lastName</strong>.  If we compare &quot;chloe&quot; to item <strong>41</strong> exactly, <strong>compareTo()</strong> will return a <strong>0</strong>, indicating a perfect match.   If we get a perfect match   we return the <em><strong>index </strong></em>(41) to the <em><strong>client</strong></em>.</p>
	<p>We now start our binary search.  (Note:  You do not have to memorize the   following sequence.  It is done automatically by the recursion.  You only need   to understand the principles).</p>
<ul>
	<li>We enter the method with the entire index range 0 to 99.</li>
	<li><strong>middleIndex</strong> = (0 + 99)/2 = 49 (we use int arithmetic)</li>
	<li>&quot;chloe&quot; is less than the name in location 49, so we now search only the   	lower portion of the array, 0 to 48.</li>
	<li><strong>middleIndex</strong> = (0+48)/2 = 24</li>
	<li>&quot;chloe&quot; is greater than the name in <strong>middleIndex</strong>, 24, so we search the   	sub-array 25 to 48.</li>
	<li><strong>middleIndex</strong> = (25+48)/2 = 36</li>
	<li>&quot;chloe&quot; is greater than the name in <strong>middleIndex</strong>, 36, so we search the   	sub-array 37 to 48.</li>
	<li><strong>middleIndex</strong> = (37+48)/2 = 42</li>
	<li>&quot;chloe&quot; is less than the name in <strong>middleIndex</strong>, 42, so we search the   	sub-array 37 to 41.</li>
	<li><strong>middleIndex</strong> = (37+41)/2 = 39</li>
	<li>&quot;chloe&quot; is greater than the name in <strong>middleIndex</strong>, 39, so we search the   	sub-array 40 to 41.</li>
	<li>middleIndex = (40+41)/2 = 40</li>
	<li>&quot;chloe&quot; is greater than the name in <strong>middleIndex</strong>, 40, so we search the   	sub-array 41 to 41.</li>
	<li>&quot;chloe&quot; is equal to the name in <strong>middleIndex</strong>, 41, so we return 41</li>
</ul>
	<p>Now the methods start &quot;unwinding,&quot; returning from the last call back to the   first, passing back the 41 as they make their way back up the recursive chain.    This took us 7 comparisons compared to 41 if we had gone through the list   linearly.</p>
	<p>For any name key that we want to find in the array, we go through this   process until we either find the student or the size of the sub-array we are   searching collapses into nothing.  In an array of 1 million students, this   happens in, at most, 20 comparisons.</p>
	<p>Here is the complete binary search algorithm as implemented in a static class   method of Student:</p>

<pre>    public static int binarySearch(Student[] array, String keyLast,
       int firstIndex, int lastIndex)
    {
       int middleIndex, result;
       
       if (firstIndex &gt; lastIndex)
          return -1;
          
       middleIndex = (firstIndex + lastIndex) / 2;
       result 
          = keyLast.compareToIgnoreCase(array[middleIndex].lastName);
       
       if (result == 0)
          return middleIndex;   //found him!
       else if (result &lt; 0)
          return binarySearch( array, keyLast, firstIndex, 
             middleIndex - 1);
       else
          return binarySearch( array, keyLast, middleIndex + 1, 
             lastIndex); 
    }
</pre>

	<p>Notice that we always call<strong> binarySearch()</strong> with a smaller array than we   came in with, guaranteeing that we will either find the name, or that the first   and last index will eventually cross, resulting in the escape condition which   returns a -1.</p>
	<p>Since the binary search requires a sorted array, we do a quick review of   sorting, then complete the example -- we&apos;re almost there!</p>
  </div>
  </div>
<!--end .container -->



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_2b_3.html -->



<a name="5_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - Review of Sorting</h1>
	<h2>2B.3.1 Sorting an Array of Strings</h2>
	<p>To make the binary search algorithm work, we have to sort the array   of <strong>Students</strong> in alphabetical order.  You should have had sorting in <span class="sectionOrAssignmentTitle">CS 1A</span>. If   so, you can skip this section.  If you want the review, here is a separate   example that shows how to sort an array.  In this case we are sorting based on <em><strong>name</strong></em> so we use the <strong>String</strong> instance method <strong>compareToIgnoreCase()</strong>:</p>

<pre>   string1.compareToIgnoreCase( string2 )
</pre>

	<p>If we were sorting on a numeric key, we would use &lt;  as the comparison.</p>
	<p>The output would look like this:</p>

<pre>-------- Before:  -------- 
martin
claudia
sandra
samuels
terry
jack
clark
palmer
abraham
Mike

-------- After:  -------- 
abraham
clark
claudia
jack
martin
Mike
palmer
samuels
sandra
terry

</pre>

	<p>Here is the program. </p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      String[] myArray = {&quot;martin&quot;, &quot;claudia&quot;, &quot;sandra&quot;, &quot;samuels&quot;,
         &quot;terry&quot;, &quot;jack&quot;, &quot;clark&quot;, &quot;palmer&quot;, &quot;abraham&quot;, &quot;Mike&quot;};
      
      printArray(&quot;Before: &quot;, myArray);
      arraySort(myArray);
      printArray(&quot;After: &quot;, myArray);
   }
   
   // returns true if a modification was made to the array
   public static boolean floatLargestToTop(String[] data, int top)
   {
      boolean changed = false;
      String temp;
      
      // notice we stop at length -2 because of expr. k+1 in loop
      for (int k = 0; k &lt; top; k++)
         if (data[k].compareToIgnoreCase(data[k + 1]) &gt; 0)
         {
            temp = data[k];
            data[k] = data[k + 1];
            data[k + 1] = temp;
            changed = true;
         }
      return changed;
   }
   
    public static void arraySort(String[] array)
    {
       for (int k = 0; k &lt; array.length; k++)
          if ( !floatLargestToTop(array, array.length-1-k) )
             return;
    }
    
   // print out array with string as a title for the message box
   public static void printArray(String title, String[] data)
   {
      
      System.out.println(&quot;-------- &quot; + title + &quot; -------- &quot;);
      for (int k = 0; k &lt; data.length; k++)
         System.out.println(data[k]);
      System.out.println();

   }
}

</pre>

	<p>Okay!  We&apos;re ready to see it all.</p>
  </div>
  </div>
<!--end .container -->



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_2b_4.html -->



<a name="6_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - Complete Binary Search Program</h1>
	<h2>2B.4.1 Student Search in Binary Form</h2>
	<p>Here is the complete listing that uses an updated <strong>Student</strong> class which contains   only one <strong>name</strong>.  Here are the points of interest:</p>
	<ul>
		<li>The sort algorithm and supporting methods are defined to be <em><strong>static</strong></em> methods in the <strong>Student</strong> class.  That&apos;s because they require no   	object to call them, but they take a <strong>Student</strong> array as a parameter.    	This is common.  It makes sense to place methods that deal with arrays   	of objects into the objects&apos; class and declare them <em><strong>static</strong></em>.</li>
		<li>The binary search algorithm is exactly the short method presented about   	two sections back.  It, also, is declared <strong><em>static</em></strong> since there is no one <strong>Student</strong> object   	which calls it.  It takes a <strong>String</strong> (the search key) and an array of <strong>Students</strong>.</li>
	</ul>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Student[] myClass = 
      {
         new Student(&quot;smith&quot;, 95), 
         new Student(&quot;bauer&quot;, 123),
         new Student(&quot;jacobs&quot;, 195), 
         new Student(&quot;renquist&quot;, 148),
         new Student(&quot;3ackson&quot;, 108), 
         new Student(&quot;perry&quot;, 225),
         new Student(&quot;loceff&quot;, 44), 
         new Student(&quot;stollings&quot;, 452),
         new Student(&quot;charters&quot;, 295), 
         new Student(&quot;cassar&quot;, 321),
      };
  
      Student.printArrayConsole(&quot;The Array to be Searched:&quot;, myClass);
      Student.arraySort(myClass);
      Student.printArrayConsole(&quot;The Array to be Searched:&quot;, myClass);
 
      String last;
      int found;
 
      last = &quot;stollings&quot;;
      found = Student.binarySearch(myClass, last, 0, 
         myClass.length - 1);
      if ( found &gt;= 0 )
         System.out.println(last + &quot; IS in list at position &quot; 
            + found);
      else
         System.out.println(last + &quot; is NOT in list.&quot;);
 
      last = &quot;Jacobs&quot;;
      found = Student.binarySearch(myClass, last, 
         0, myClass.length - 1);
      if ( found &gt;= 0 )
         System.out.println(last + &quot; IS in list at position &quot; + found);
      else
         System.out.println(last + &quot; is NOT in list.&quot;);

      last = &quot;Smart&quot;;
      found = Student.binarySearch(myClass, last, 
         0, myClass.length - 1);
      if ( found &gt;= 0 )
         System.out.println(last + &quot; IS in list at position &quot; + found);
      else
         System.out.println(last + &quot; is NOT in list.&quot;);
    }
}

class Student
{
   private String lastName;
   private long totalPoints;
   
   // constructor requires parameters - no default supplied
   public Student( String lastNm,long pts)
   {
      lastName = &quot;zz-error&quot;;
      totalPoints = 0;
      // at least require that it starts with a letter
      if (lastNm != null &amp;&amp; Character.isLetter(lastNm.charAt(0)))
         lastName = lastNm;
      if (pts &gt;= 0 &amp;&amp; pts &lt;= 1000)
         totalPoints = pts;    
   }
   
   public String toString()
   {
      String strStudent = lastName + &quot; Points: &quot; + totalPoints;
      return strStudent;
   }
 
   // print out array with string as a title for the message box
   public static void printArrayConsole(String title, Student[] data)
   {
      
      System.out.println(&quot;\n********** &quot; + title + &quot; **********\n&quot;);
      for (int k = 0; k &lt; data.length; k++)
         System.out.println( data[k].toString() );
      System.out.println();
  }

   // returns true if a modification was made to the array
   private static boolean floatLargestToTop(Student[] data, int top)
   {
      boolean changed = false;
      Student temp;
      
      // notice we stop at length -2 because of expr. k+1 in loop
      for (int k = 0; k &lt; top; k++)
        if (data[k].lastName.compareToIgnoreCase(data[k + 1].lastName) &gt; 0)
        {
           temp = data[k];
           data[k] = data[k + 1];
           data[k + 1] = temp;
           changed = true;
        }
      return changed;
   }
   
    public static void arraySort(Student[] array)
    {
       for (int k = 0; k &lt; array.length; k++)
          if ( !floatLargestToTop(array, array.length - 1 - k) )
             return;
    }
    
    public static int binarySearch(Student[] array, String keyLast,
       int firstIndex, int lastIndex)
    {
       int middleIndex, result;
       
       if (firstIndex &gt; lastIndex)
          return -1;
       middleIndex = (firstIndex + lastIndex) / 2;
       result = keyLast.compareToIgnoreCase(array[middleIndex].lastName);
       
       if (result == 0)
          return middleIndex;   //found him!
       else if (result &lt; 0)
          return binarySearch(array, keyLast, firstIndex, middleIndex - 1);
       else
          return binarySearch(array, keyLast, middleIndex + 1, lastIndex); 
    }
}
</pre>

	<p>The output:</p>

<pre>********** The Array to be Searched: **********

smith Points: 95
bauer Points: 123
jacobs Points: 195
renquist Points: 148
zz-error Points: 108
perry Points: 225
loceff Points: 44
stollings Points: 452
charters Points: 295
cassar Points: 321


********** The Array to be Searched: **********

bauer Points: 123
cassar Points: 321
charters Points: 295
jacobs Points: 195
loceff Points: 44
perry Points: 225
renquist Points: 148
smith Points: 95
stollings Points: 452
zz-error Points: 108

stollings IS in list at position 8
Jacobs IS in list at position 3
Smart is NOT in list.
</pre>

  </div>
  </div>
<!--end .container -->



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_2b_5.html -->



<a name="7_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 5 - A Puzzle</h1>
	<h2>2B.5.1 Mathematical Induction</h2>
	<p>Before ending this topic, I want to give you   something entertaining to think about.  First, we return to the concept of <em><strong>recursion</strong></em>.</p>
	<p><em><strong>Recursion</strong></em> is a computational algorithm   that is based on the more abstract concept of <em><strong>mathematical induction</strong></em>.  <em><strong>Mathematical induction</strong></em> is a technique for proving an assertion   about all positive integers, <em>n</em>, which involves two steps.</p>
	<div class="question"> <strong>Mathematical Induction
		</strong>
		<ol>
			<li> Prove that the assertion is true for <em>n</em> = 1.			</li>
			<li> Assume, without proof, that the assertion is   	true for all integers up to and including some integer <em>k</em> (but not   	necessarily for any integer greater than <em>k</em>).  Under this  assumption, prove   	that the assertion is true for the integer <em>k</em>+1. </li>
	</ol>
	</div>
		<p>If you can accomplish both steps, then the assertion   must be valid for all positive integers <em>n</em>.</p>
	
	<p>For example, let&apos;s prove that the alleged equality</p>
	<div class="picCenter"><img alt="equ 1" height="74" src="./CS 1B Module 2B Section 5_files/cs_B_common_13.jpg" width="413"/></div>
	<p>holds true for all positive integers <em>n</em>, no matter how large.</p>
	<h4>We prove that this holds when <em>n</em> = 1.  </h4>
	<p>By   checking both sides of the assertion, we can see that they each evaluate to 1,   therefore we have proved step 1.</p>
	<h4>Assume that the assertion holds for k and we will   show that this implies it must hold for k+1.  </h4>
	<p>Start with the assumed truth   for <em>k</em>, namely,</p>
	<div class="picCenter"><img alt="equ 2" height="74" src="./CS 1B Module 2B Section 5_files/cs_B_common_14.jpg" width="424"/></div>
	<p>Now, we know that we can take any equation and add   the same number to both side, and this will result in another true equation.    So we add <em>k</em>+1 to both sides of the last equality to get</p>
	<div class="picCenter"><img alt="equ 3" height="70" src="./CS 1B Module 2B Section 5_files/cs_B_common_15.jpg" width="654"/></div>
<p>Re-arrange the <strong>right side</strong> using elementary algebra and we find</p>
<div class="picCenter"><span class="picCenter"><img alt="equ 4" height="191" src="./CS 1B Module 2B Section 5_files/cs_B_common_16.JPG" width="491"/></span></div>
<p>Together, the last two equations yield  </p>
<div class="picCenter"><img alt="equ 5" height="90" src="./CS 1B Module 2B Section 5_files/cs_B_common_17.JPG" width="575"/></div>
<p>But look at this carefully: it is just our assertion when stated in terms of (k+1) rather than <em>k</em>. So this proves that the assertion is true for the integer <em>k</em>+1.</p>
	<p>Since we have proved <em><strong> <span style="background-color:#00FFFF; ">it to be true for k = 1</span></strong></em>, and we have   also shown that <em><strong>if it is true for n = k, then it is also true for n = k+1</strong></em>, we   have completed our proof in general. The equation must hold for all positive   integers <em>n</em>.</p>
	<p>Many mathematical truths that we know today are   based on this kind of proof.
</p>
    
	<h2>2B.5.2 A Famous Puzzle</h2>
    
<img alt="scenic island" border="2" src="./CS 1B Module 2B Section 5_files/cs_B_common_12.jpg"/>
	<h2>2B.5.2 A Famous Puzzle</h2>
    
<img alt="scenic island" border="2" src="./CS 1B Module 2B Section 5_files/cs_B_common_12.jpg"/>

    <h4>The   Isle of  Blue and Brown Eyed Monks</h4>
    
	<p>This is a famous puzzle which has an answer (i.e.,   proof) that anyone can find on the Web.  I encourage you to think about it   on your own for at least a day or two before searching for the solution on-line.</p>
	<p>There once was an island of 300 monks, some of whom   had blue eyes, and those that didn&apos;t had brown eyes (and the monks knew this). They were also aware that there was no assurance that at any given time  both or either color had to be expressed in the population: they could all be blue-eyed, all brown-eyed, or some of each, and this could change as the population changed due to births and deaths.</p>
    <div class="parenthetical"> The number <strong>300</strong> doesn&apos;t matter its  only significance being that is a <em><strong>constant</strong></em> for the purpose of this problem, and it <em><strong>less that 365</strong></em>, the number of days in a year, alluded to in the story, later.    </div>
	<p>There were no reflective   surfaces on the island, so no monk could see what he or she looked like,   although they could each see <em>all</em> the others, and in fact did so on a   daily basis.  Furthermore, these monks were highly   intelligent, capable of solving any mathematical or logical puzzle instantly if   there was enough information at their disposal.  </p>
	<p>They considered the island a paradise, with ample food, natural flora and fauna, beautiful waterfalls and mountains, and a climate conducive to work, academic study and play. They lived in harmony and needed nothing from outside their perfect world.</p>
	<p>Lastly, they had a strange   cultural rule: if any one of them was to learn the color of his or her own eyes   on any given day, that monk was to self-banish: he or she had to <em>leave the island, permanantly,</em> at exactly midnight at the end   of that day (using canoes built for that purpose, which they paddled away, presumabily to one of the nearby islands, none of which were nearly as desirable as their native home.) Needless to say, it was forbidden for the residents to speak about eye color,   and no monk ever violated this rule.</p>
	<p>For years, this population lived in peace and   harmony with no suicides.  One day, a shipwrecked victim was washed ashore onto   the island and the monks cared for the visitor for some weeks until she was   healthy enough to return to the mainland.  A helicopter was summoned and the   visitor made a short farewell speech.  She said. &quot;I am forever indebted to you   all for saving my life.  You have shown me great hospitality.  With your   permission I will return in a year to see you all once more.&quot;  The group nodded,   happily, in agreement.  As the visitor stepped into the chopper, she turned back   at the smiling group and waved, adding, &quot;I look forward to seeing some of your   beautiful blue and brown eyes upon my return.&quot;  As the helicopter flew off, the monks,   pondering her words, became extremely distraught.  </p>
	<p>When the visitor returned in a year, she found that   all the monks had left the island.</p>
	<p>Explain why, and prove (using mathematical   induction) that there was no other possible outcome once the visitor had uttered   her words.  Also, explain exactly when the suicides occurred, measured from the   day that the visitor departed which you can call day 1.</p>
	<p>For the purposes of explanation and class   discussion, we will assume that, from the start, 100 of the monks had blue eyes   and 200 had brown eyes, although there is nothing special about these numbers.    The same logic will apply to any breakdown of blue and brown eyes, except, of   course, that, at the time the visitor left, at least one monk must had blue eyes and at least one other, brown eyes, otherwise the visitor would   not have mentioned blue and brown eyes in her farewell speech.</p>
	<p>There are no tricks or hidden variables.  This is a   completely solvable (and provable) puzzle.  On-line, you will find many   frustrated people who don&apos;t believe or understand the answer, but that&apos;s because   those people simply do not comprehend mathematical induction.  You, on the   other hand, are about to join the well-educated who can see the solution   clearly.  We will discuss it over the next few days in the public forums.</p>
    
    
	<p><span><img align="right" alt="guy with blackboard" border="0" height="91" src="./CS 1B Module 2B Section 5_files/cs_A_common_2.gif" width="149"/></span></p>
	<h4>Prevent Point Loss</h4>
	<ul>
		<li><strong>Do not use ASCII or UNICODE.</strong>  When you need a <strong>char</strong> constant in your program, do not use numbers,   	such as <strong>65</strong> or <strong>57</strong> which are meaningless to programmers.  Instead use   	understandable chars like <strong>A</strong> or<strong> &apos;9&apos;</strong> instead.  In addition to being   	more readable and less error-prone, this rule makes your job easier.   	(1 - 2 point penalty)</li>
		<li><strong>Write to spec.</strong> Don&apos;t change the names or   	purpose of program variables, methods or output.  Write your program so   	that it does exactly what is asked, not<em> sort-of</em> or <em>an enhanced   	version of</em> the assignment.    	(4 - 12 point penalty)</li>
		<li> <strong>Don&apos;t duplicate logic.</strong> If you have one method (function), such as <strong>set()</strong> or <strong>checkVal()</strong>,   	that does error checking, call that method from others that need the error   	checking, don&apos;t rewrite the error checking code in two places.  If you have   	the same code in two places, consider making a separate method (function)   	out of that code and calling that method from those two places.    	(1 - 2 point penalty) </li>
		<li> <strong>Use member names   	directly</strong> from instance or static methods   	(like <strong>socSecNum</strong>) - do not use accessors from inside those methods   	(like <strong>getSocSecNum()</strong>) as it is unnecessary.    	(1 - 2 point penalty) </li>
		<li> <strong>Use loops on arrays</strong>.    	Do not have a sequence of practically identical statements, like <strong>somArray[0] = ...xyz, somArray[1] =   	...xyz, somArray[2] = xyz. ...</strong>,   	that involve literal (constant) indexes.  Use one statement, with a variable   	index, like <strong>somArray[k] = xyz</strong> inside a loop. (2 - 3 point penalty) </li>
		<li><strong>Console and GUI don&apos;t mix.</strong>   	If and when we have a GUI option, decide which kind of I/O style you are going to   	use, and stick with that throughout your program.   	(1-3 point penalty) </li>
	</ul>

  </div>
  </div>
<!--end .container -->



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3a_1.html -->



<a name="8_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Introduction and Resources</h1>
  	<h2>3A.1.1 Overview</h2>
  	<p> <img align="right" alt="scenic grapes" border="0" height="300" hspace="11" src="./CS 1B Module 3A Section 1_files/cs_B_common_20.JPG" vspace="7" width="200"/>In the first half of the week, we cover special topics in computer   science that are variously called <em><strong>cellular automata</strong></em>, artificial life and   self-replicating <em><strong>algorithms</strong></em>.  We discuss a classic game called <strong><em>life</em></strong> and learn   how to program some of its one-dimensional cousins.</p>
  	<p>In the second <span class="sectionOrAssignmentTitle">Module</span>, we&apos;ll talk about <em><strong>multi-dimensional arrays</strong></em>, specifically the all-powerful <em><strong>2-D array</strong></em>.  After that, we&apos;ll round out this busy week with an introduction to <strong><em>stack data structures</em></strong>.</p>
<h2>3A.1.2 Assigned Reading</h2>
<p>As usual, read the week&apos;s <span class="sectionOrAssignmentTitle">Modules</span> and paste  code samples into your <em><strong>IDE</strong></em> for experimentation.</p>
<p>After reading the <span class="sectionOrAssignmentTitle">Modules</span>, look up any new terms in your textbook index, and see what it has to say about these things.</p>
<h3>Additional Module Readings</h3>
	<p>Don&apos;t forget to check the<em> <span class="sectionOrAssignmentTitle">class schedule</span></em> on <span class="sectionOrAssignmentTitle">Page 2</span> of your <span class="sectionOrAssignmentTitle">Syllabus</span> to see what extra handout <span class="sectionOrAssignmentTitle">Modules</span> you have this week. I recommend re-reading last week&apos;s handouts, especially:</p>
	<ul>
	  <li><strong>Syllabus</strong>  — Review sections on course rules and assignment rules   	until you feel you understand them well.</li>
		<li><strong>Resource 1R</strong>, <strong>2R</strong> and <strong>3R</strong>  — Read a little deeper each week,   	paying close attention to those rules that apply to this week&apos;s material.</li>
	</ul>
    <h2>3A.1.3 Resources for the Entire Course</h2>
    <p>By now, you should be reading these links more carefully and memorizing a few of the methods and classes that we have been using in the modules and assignments.</p>
    <h4>Recommended Style Booklet</h4>
    <p><em><strong>The Elements of Java Style</strong></em> listed in the   syllabus.</p>
    <h4>Web Resources</h4>
    <p>The master link is</p>
		<div class="picCenter"><a href="http://docs.oracle.com/javase/7/docs/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/index.html</a>
		</div>
<p>and the specifics are under it. In particular, follow the links for the String class or any other particular resource group you are interested in.</p>
		<ul>
			<li><strong>For General Java Language Answers:</strong> Java Language → Java Language   	Specification →  View HTML: <br/>
			<a href="http://docs.oracle.com/javase/specs/" target="_blank">http://docs.oracle.com/javase/specs/</a></li>
			<li><strong>For Information On The Built-In Java Classes: </strong><br/>
			Java SE API→ Packages →java.lang → [String, Math, Integer, etc]: <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/package-summary.html" target="_blank"> http://docs.oracle.com/javase/7/docs/api/java/lang/package-summary.html</a></li>
			<li><strong>For Information on Swing:<br/>
			</strong><a href="http://docs.oracle.com/javase/7/docs/api/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/api/index.html</a> → javax.swing</li>
			<li><strong>For Non-Swing GUI Classes:<br/>
			</strong><a href="http://docs.oracle.com/javase/7/docs/api/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/api/index.html</a> → java.awt</li>
			<li><strong>For Common Utility Classes:<br/>
			</strong><a href="http://docs.oracle.com/javase/7/docs/api/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/api/index.html</a> → java.util<br/>
  </li></ul></div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3a_6.html -->



<a name="9_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 6 - Implementing M. Mitchell Rules (and StringBuffer)</h1>
	<h2>3A.6.1 The Plan</h2>
	<p>You have to always think in terms of <em><strong>objects</strong></em> when you start a project like this.  What will the   <em><strong>objects</strong></em> be?  In <strong>CA</strong>, one answer is that there   should be at least one <em><strong>class</strong></em>:</p>
<ul>
      <li> An <strong>Automaton</strong> <em><strong>class</strong></em> — it  accepts   	a <em><strong>rule</strong></em> in its <em><strong>constructor</strong></em> and   	has <em><strong>methods</strong></em> that compute and display new generations as   	a result of repeatedly applying the <em><strong>rule</strong></em>.		</li>
    </ul>
    
    <div class="parenthetical">We could also pass a <em><strong>seed</strong></em> to the <strong>Automaton</strong> <em><strong>constructor</strong></em>, but to keep things manageable for this lecture and assignment, we&apos;ll always assume the <em><strong>seed</strong></em> is  a<em><strong> &quot;single 1, swimming in an infinite sea of 0s</strong></em>,&quot; i.e., <span class="codeInLine">  ...000000000000<strong>1</strong>000000000000... </span>.</div>
    <p>With this in mind, we will create an <strong> Automaton</strong> <em><strong>class</strong></em> that  provides a <span class="codeInLine">propagateNewGeneration()</span> <em><strong>method</strong></em> (to compute the <em><strong>next gen</strong></em> based on the <strong><em>rule</em></strong> and <em><strong>current gen</strong></em>) and a<strong class="codeInLine"> toStringCurrentGen()</strong> (which returns a <strong>String</strong>, like <strong class="codeInLine">*   * ** * *</strong>). We will let the <em><strong>client</strong></em> do the modest work of <em><strong>looping</strong></em> to produce <em><strong>multiple generations</strong></em>, displaying each <em><strong>generation</strong></em>, one-beneath-the-previous. We will always assume the <em><strong>seed</strong></em> is a<em><strong> single asterisk </strong></em>surrounded by <em><strong>infinite blanks</strong></em>, like, <strong class="codeInLine">...          *        ... </strong>. </p>
	<p align="left">I often like to start with a proposed<strong> <em>main</em></strong> that shows how we will use the <em><strong>class</strong></em>.  From   there, it makes the class design a little easier.</p>
    
<pre>import java.util.Scanner;

public class Foothill
{
   public static void main(String[] args)
   {
      int rule, k;
      String strUserIn;
      
      Scanner inputStream = new Scanner(System.in);
      Automaton aut;

      // get rule from user
      do
      {
         System.out.print(&quot;Enter Rule (&quot;  
               + Automaton.MIN_RULE + &quot; - &quot; +  Automaton.MAX_RULE + &quot;): &quot;);
         // get the answer in the form of a string:
         strUserIn = inputStream.nextLine();
         // and convert it to a number so we can compute:
         rule = Integer.parseInt(strUserIn);

      } while (rule &lt; Automaton.MIN_RULE || rule &gt; Automaton.MAX_RULE);

      // create automaton with this rule and single central dot
      aut = new Automaton(rule);

      // now show it
      System.out.println(&quot;   start&quot;);
      for (k = 0; k &lt; 50; k++)
      {
         System.out.println( aut.toStringCurrentGen() );
         aut.propagateNewGeneration();
      }
      inputStream.close();
      System.out.println(&quot;   end&quot;);
   }
}</pre>

	<p>We immediately see that the <em><strong>constructor</strong></em> takes the<strong> rule</strong> (as an <strong>int</strong>). That implies that it is stored   internally. While an <strong>int</strong> is, indeed, a compact way to represent a <em><strong>rule</strong></em>,   it is not necessarily the most useful.  We should   probably devise a slightly more intuitive internal   representation of a <em><strong>rule</strong></em>.  If we keep our minds fixed on the observation that a <em><strong>rule</strong></em> needs to give an <em><strong>output</strong></em>, <strong>on</strong> or <strong>off</strong>, for each of the    eight possible <em><strong>input combinations</strong></em>, we will instantly conclude that a <em><strong>rule</strong></em> is easily representable    as an <em><strong>array</strong></em> of <em><strong>eight </strong></em><strong>booleans</strong>. <span class="codeInLine">rule[0]</span> will give the <em><strong>output</strong></em> (<strong>True</strong>=ON or <strong>False</strong>=OFF) from the <em><strong>input</strong></em> combination <span class="codeInLine">000</span>.  <span class="codeInLine">rule[1]</span> would give the <em><strong>output</strong></em> for <span class="codeInLine">001</span>.  <span class="codeInLine">rule[2]</span>, the <em><strong>output</strong></em> for <span class="codeInLine">010</span>, <span class="codeInLine">rule[3]</span> the <em><strong>output</strong></em> for <span class="codeInLine">011</span>,   and so on, up to <span class="codeInLine">rule[7]</span> which tells the <em><strong>output</strong></em> for the <em><strong>input</strong></em> combo <span class="codeInLine">111</span>.</p>
	<p>We   should also store a <strong>String</strong> that represents the <em><strong>current generation</strong></em> or,   as I call it, <span class="codeInLine">thisGen</span>. </p>
	<h2>3A.6.2 Class Automaton</h2>
	<p>With this introduction, we can now give a reasonable   overview for <em><strong>class</strong></em> <strong>Automaton</strong>:</p>
<pre>class Automaton
{
   // class constants
   public final static int RULES_SIZE = 8;
   public final static int BITS_IN_RULE_SIZE 
      = (int)(Math.log(RULES_SIZE) / Math.log(2));
   public final static int MIN_DISPLAY_WIDTH = 21;
   public final static int MAX_DISPLAY_WIDTH = 121;
   public final static int DFLT_DISPLAY_WIDTH = 79;
   public final static int MIN_RULE = 0;
   public final static int MAX_RULE = (int)Math.pow(2,RULES_SIZE) - 1; // 255
   public final static int DFLT_RULE = 1;
   public final static String ON_STR = &quot;*&quot;;
   public final static String OFF_STR = &quot; &quot;;
   
   // private members
   private boolean rule[];   // allocate rule[8] in constructor!
   private String thisGen;   // same here
   String extremeBit; // bit, &quot;*&quot; or &quot; &quot;, implied everywhere &quot;outside&quot;
   int displayWidth;  // an odd number so it can be perfectly centered
   
   // public constructors, mutators, etc. (need to be written)
   public Automaton(int newRule)
   public void resetFirstGen()
   public boolean setRule(int newRule)
   public boolean setDisplayWidth(int width)
   public String toStringCurrentGen()
   public void propagateNewGeneration()
}</pre>
<h3>Static Class Finals</h3>
<p>Looking up, you can see there are several <em><strong>public</strong></em> <strong>symbolic</strong><span class="codeInLine"> finals</span>:</p>
<ul>
  <li><span class="codeInLine">RULES_SIZE</span></li>
  <li><span class="codeInLine">BITS_IN_RULE_SIZE</span> // optional</li>
  <li><span class="codeInLine">MIN_DISPLAY_WIDTH</span></li>
  <li><span class="codeInLine">MAX_DISPLAY_WIDTH</span></li>
  <li><span class="codeInLine">DFLT_DISPLAY_WIDTH</span></li>
  <li><span class="codeInLine">MIN_RULE</span></li>
  <li><span class="codeInLine">MAX_RULE</span></li>
  <li><span class="codeInLine">DFLT_RULE</span></li>
  <li><span class="codeInLine">ON_STR</span></li>
  <li> <span class="codeInLine">OFF_STR</span></li>
</ul>
<p>Their values are given in the code, above. <strong><em>You must define all of them, and use them all</em></strong>, rather than the <em><strong>literal</strong></em> values they represent, <em>except for the <strong>optional</strong></em><span class="codeInLine"> BITS_IN_RULE_SIZE</span>, which you might find difficult to leverage. The other <span class="codeInLine">CONSTANTS</span> are either obvious by their names and values, or they are explained below. Be sure that <em><strong>you never use the literals, 8, 79, 255,</strong></em> <em><strong>etc.</strong></em> anywhere in your program (<em><strong>main</strong></em> or <em><strong>class</strong></em>) in place of the <em><strong>symbolic constants</strong></em>. <em><strong>If you violate this rule, you will lose 2 points. </strong></em>Using <strong><em>literals</em></strong> instead of the <span class="codeInLine">CONSTANTS</span> means the code is difficult to update.</p>
<h3>The Private Instance Members</h3>
	<p>Here is a lising of the <em><strong>members</strong></em> that each <em><strong>object</strong></em> of this <em><strong>class</strong></em> has. I&apos;ll explain the meaning of each <strong>member</strong> in the <span class="sectionOrAssignmentTitle">sections</span> that follow.</p>
	<ul>
	  <li><span class="codeInLine">thisGen</span> — a <strong>String</strong> that represents the <em><strong>current generation</strong></em> destined to be  sent to the console as part of <em><strong>one line</strong></em> to be displayed in the creation of the larger <em><strong>output pattern</strong></em>.</li>
	  <li><span class="codeInLine">displayWidth</span>  — &quot;how much&quot; of the <strong> <span class="codeInLine">thisGen</span> </strong> <strong>String</strong> to send to the console. </li>
	  <li><span class="codeInLine">extremeBit</span> — a single character (in a <strong>String</strong> form) which is either blank, <strong> </strong>, or an asterisk, <strong>*</strong>. It represents the value we imagine to be stored in <em><strong>every </strong></em><strong>String</strong><em><strong> position</strong></em> to the <em><strong>far left</strong></em> and <em><strong>far right</strong></em> (out to <em><strong>infinity</strong></em>), beyond the actual, interesting, middle portion of the <strong>String</strong>. </li>
	  <li><span class="codeInLine">rule[]</span> — an <em><strong>array</strong></em> of <strong>booleanss</strong> that expresses how a <em><strong>new generation</strong></em> is formed from the <em><strong>current generation</strong></em>.</li>
    </ul>
	<h4 class="codeInLine">rule[]</h4>
	<p>We&apos;ve talked about what a <em><strong>rule</strong></em> is in the previous pages. Our <em><strong>rule</strong></em> will be an <strong>int</strong> from <strong>0 - 255</strong>. A <em><strong>client</strong></em> passes the <strong>int</strong> to the <em><strong>constructor</strong></em> as an <em><strong>argument</strong></em>.  If that <strong>int</strong> were <strong><em>33</em></strong>, for example, it would be a binary <strong>00100001</strong> which, in <em><strong>array</strong></em> form, is (informally) <strong>[False, False, True, False, False, False, False, True]</strong>. So, the <em><strong>mutator</strong></em> <span class="codeInLine">setRule()</span> would construct an <strong><em>array</em></strong> that has this form (if it received a <strong>33</strong> as its <strong><em>parameter</em></strong>).</p>
	<h4><span class="codeInLine">thisGen</span></h4>
	<p>Loosely speaking, <span class="codeInLine">thisGen</span> is the <strong>String</strong> we send to the display to see what state the <strong>Automaton</strong> is in. Conceptually, it&apos;s a long <strong>String</strong>, like:</p>
	<pre>                      ** ****                      </pre>
	<p>but in reality, that line is made up of an &quot;<strong><em>interesting middle part</em></strong>, maybe only 7 characters near the center...</p>
	<pre>                       &quot;** ****&quot;</pre>
	<p>... surrounded on the <em><strong>left</strong></em> and <em><strong>right</strong></em> with a bunch of either all <em><strong>blanks</strong></em>, <span class="codeInLine"> </span> (in this case), or a bunch of all <strong><em>asterisks</em></strong>, <span class="codeInLine">*</span> (in some other case). </p>
	<p>Here&apos;s an example of the <em><strong>display string</strong></em> in a different situation:</p>
	<pre> &quot;*******************  *  *  *** ******************&quot;</pre>
	<p>In this case, <span class="codeInLine">thisGen</span> ia actually just the middle part, a <strong>String</strong> of length 13 ...</p>
	<pre>                    &quot;  *  *  *** *&quot;</pre>
	<p>... surrounded  by all the same character,  that character now being an <strong><em>asterisk</em></strong>, <span class="codeInLine">*</span>.<span class="codeInLine"></span>
  </p>
  
	<h4><span class="codeInLine">displayWidth</span></h4>
	<p><span class="codeInLine">displayWidth</span> tells us how much of the <span class="codeInLine">thisGen</span> <strong>string</strong> to send to the console. This enables <span class="codeInLine"> thisGen</span>  to get extremely long (millions of characters) without causing a mess on the console. </p>
	<p>The <em><strong>mutator</strong></em> for this <em><strong>member</strong></em>, <span class="codeInLine">setDisplayWidth()</span>, will check that the passed value is <em><strong>within range</strong></em> and, for technical reasons, an <em><strong>odd number</strong></em>. Typically <span class="codeInLine"> displayWidth</span>  will be <strong>79</strong>, but we allow it to be any value from <span class="codeInLine">MIN_DISPLAY_WIDTH</span> to <span class="codeInLine">MAX_DISPLAY_WIDTH</span></p>
	<p>The <strong><em>stringizer</em></strong>, <span class="codeInLine">toStringCurrentGen()</span>, will make carerul use of this <em><strong>member</strong></em>. If <span class="codeInLine"> thisGen</span> is <em><strong>longer</strong></em> than <strong> <span class="codeInLine"> displayWidth</span></strong>, <span class="codeInLine">toStringCurrentGen()</span> has to decide which sub-portion of <span class="codeInLine"> thisGen</span>  to display. The answer is the <em><strong>exact center section</strong></em>, cropping off excess characters, equally, from the left and right before it <em><strong>returns</strong></em> its <strong>string</strong>.  If <span class="codeInLine"> thisGen</span> is <em><strong>shorter</strong></em> than <strong><span class="codeInLine"> displayWidth</span></strong>, <span class="codeInLine">toStringCurrentGen()</span> will need to &quot;pad&quot; <span class="codeInLine"> thisGen</span>, left and right, with enough characters (<em><strong>all blanks</strong></em> or <em><strong>all asterisks</strong></em>, explained below), to make it exactly <strong><span class="codeInLine"> displayWidth</span> </strong> charaters long, before it <em><strong>returns</strong></em> its <strong>string</strong>.</p>
    
    
    
	<h3><span class="codeInLine">extremeBit</span> and Generating a New Generation</h3>
          
	<p>What is this strange sounding <em><strong>attribute</strong></em>, <span class="codeInLine">extremeBit</span>? It is a<em><strong> single character</strong></em> (in a <strong>String</strong> form) which is either <em><strong>blank</strong></em>, <strong class="codeInLine"> </strong>, or an <em><strong>asterisk</strong></em>, <strong class="codeInLine">*</strong>. It represents the value we <em>imagine</em> is stored in <em><strong>every </strong></em><strong>String</strong><em><strong> position</strong></em> to the <em><strong>far left</strong></em> and <em><strong>far right</strong></em> (out to <em><strong>infinity</strong></em>), beyond the actual, interesting, <em><strong>middle portion</strong></em> of the <strong>String</strong> (<span class="codeInLine">thisGen</span>).</p>
	<p>To do this automaton correctly, we have to imagine that <em><strong>every generation is infinite in both directions</strong></em>. We begin by assuming that everything to the left and right, which is not the central, single <span class="codeInLine">*</span> <em><strong>asterisk</strong></em>, is a <em><strong>blank</strong></em>, <span class="codeInLine"> </span>. Therefore, <span class="codeInLine">extremeBit</span> is initially <em><strong>blank</strong></em>, <strong class="codeInLine"> </strong>.  However, after we start applying the <strong><em>rule</em></strong> to that initial <em><strong>generation</strong></em>, it might change those <em><strong>blanks</strong></em> to <em><strong>asterisks</strong></em><strong></strong>. Also, <span class="codeInLine">thisGen</span>, which starts off as a single <em><strong>asterisk</strong></em>, <strong class="codeInLine">*</strong>, will grow by two characters each generation, so for the <em><strong>second generation</strong></em> it&apos;s <em><strong>three characters</strong></em>, for the <em><strong>third generation</strong></em> it&apos;s <em><strong>five characters</strong></em>, and so on. </p>
	<div class="question"> How does <span class="codeInLine">thisGen</span>, grow in length, and how the do the infinite number of distant bits to the far left and far right, represented by <span class="codeInLine">extremeBit</span>, change from <strong><em>blanks</em></strong>, <span class="codeInLine">&quot; &quot; to </span><strong><em>asterisks</em></strong>, <span class="codeInLine">*</span>, and maybe back to <strong>blanks</strong>, <span class="codeInLine"> </span>? </div>
	<p>The following  description of the the most important <em><strong>method</strong></em> in our <em><strong>class</strong></em>, <span class="codeInLine">propagateNewGeneration()</span>, will explain how <span class="codeInLine">extremeBit</span> and <span class="codeInLine">thisGen</span> work together and change together.</p>
	<ul>
      <li>When we are testing the <em><strong>input</strong></em> values <em>near the center</em>,  the initial <strong class="codeInLine">*</strong>, or <strong>1</strong>, bit,  will join with  neighboring <strong class="codeInLine"> </strong>, or <strong>0,</strong> bits to form a number like <strong>1,</strong> <strong>2</strong> or <strong>4</strong> as an <em><strong>input</strong></em> to the <em><strong>rule</strong></em>. </li>
      <li>To make this  clear, apply what you learned in the last page to see what happens if you use the <em><strong>rule</strong></em> <em><strong>14</strong></em> on  the initial <span class="codeInLine">thisGen</span> <strong>String</strong>, which is just <span class="codeInLine">*</span> and with <span class="codeInLine">extremeBit</span>, always starting off as <strong class="codeInLine"> </strong>, or <strong>0</strong>. <br/>
        <br/>
        <div class="parenthetical"><strong>Remember</strong>: <em><strong>Everything</strong></em> <em><strong>outside</strong></em> that initial <em><strong>one asterisk</strong></em><strong><em></em></strong> in (&quot;*&quot;) in <span class="codeInLine">thisGen</span> is implicitly defined by our <span class="codeInLine">extremeBit</span>, which starts out <em><strong>blank</strong></em>, <span class="codeInLine"> </span>. That&apos;s an <em><strong>infinite number of blanks</strong></em> to the left and right of the central  &quot;*&quot;. So, in our first application of <em><strong>rule 14</strong></em> to this <em><strong>first generation</strong></em>, we need to use <em><strong>four</strong></em> of those <em><strong>blank </strong></em><span class="codeInLine">extremeBits</span><em><strong>,</strong></em> together with the center <em><strong>asterisk</strong></em>, to create the <em><strong>length 5 </strong></em><strong>String</strong> <span class="codeInLine">  *  </span> (binary <span class="codeInLine">00100</span>) for <em><strong>input</strong></em> to <em><strong>rule 14. </strong></em> We&apos;ll then have enough bits to get the <em><strong>three &quot;central&quot; output children</strong></em> of the <strong><em>second generation</em></strong>. That means we will create three <em><strong>input triplets</strong></em> <strong>1</strong>, <strong>2</strong> and <strong>4</strong> (or, if you prefer,<strong> <em>binary</em></strong><span class="codeInLine"> 001</span>, <span class="codeInLine">010</span> and <span class="codeInLine">100</span>, also representable as &quot;  *&quot;, &quot; * &quot;,  and  &quot;*  &quot;), all of which involve the single, initial (central) <strong class="codeInLine">*</strong> combined with two of the added four <strong><em>blank</em></strong> <span class="codeInLine">extremeBit</span>s. They are  sent to<em><strong> rule 14</strong></em> three times, to get the three <em><strong>output bits</strong></em>.</div>
        <br/>
        <br/>
For <em><strong>rule 14,</strong></em>. the <em><strong>output bit </strong></em>for the first two triplets, (decimal <strong>1</strong>, or &quot;    *&quot; and decimal <strong>2</strong>, or &quot;  *  &quot;), is &quot;*&quot; (<strong>0</strong> or <strong>true</strong>/<strong>ON</strong>). For the third triplet, (decimal 4, or &quot;*    &quot;), the output is &quot; &quot; (<strong>0</strong> or <strong>false</strong>/<strong>OFF</strong>). (Write out <em><strong>rule 14</strong></em> in binary and refer to the algorithm in the previous page to see why.) That means the <em><strong>second generation</strong></em> will have a &quot;**  &quot; in the center, produced by <em><strong>rule 14</strong></em> applied to the <em><strong>5-character input</strong></em> <strong>String</strong> <span class="codeInLine">  *  </span>. [If it takes you more than a 1 or 2 minutes   to compute this result, then you need to reread the last section.] That is, the <span class="codeInLine">&quot;*&quot; </span>together with its <em><strong>four neighboring implied</strong></em> <strong><em>blanks</em></strong>, <span class="codeInLine"> </span>s, near  it, produced <em><strong>three children, all asterisks,</strong></em> in the <em><strong>second generation</strong></em>. </li>
      <li>The rest of the <em><strong>infinite bits</strong></em> in the <em><strong>second generation</strong></em> are <em><strong>blanks</strong></em> (<strong>0</strong>s), because the <em><strong>input triplets</strong></em> for the <em><strong>infinite</strong></em> <strong>Strings</strong> to the left and right are all <strong class="codeInLine">&quot;   &quot; </strong>(binary <span class="codeInLine">000</span> or decimal<strong> 0</strong>), and when <strong>0</strong> is sent to <em><strong>rule 14</strong></em> it produces an <em><strong>output</strong></em> of 0. [This time it&apos;s easer, so if it takes you more than 30 seconds to see it, review the last page.]</li>
      <li>Now that we&apos;ve figured out the <em><strong>second generation</strong></em>, we move on to the <em><strong>third generation</strong></em>. <span class="codeInLine">thisGen</span> has become a central <strong>string</strong> &quot;** &quot;, together with an infinite <em><strong>sea of blanks</strong></em> (<span class="codeInLine">extremeBit</span> = <strong class="codeInLine"> </strong>, or <strong>0</strong>) on either side. We use <em><strong>four</strong></em> of those implied <em><strong>blanks</strong></em>, <em><strong>two</strong></em> on either side of the centeral &quot;**  &quot;<strong>,</strong> to produce a new input,<span class="codeInLine"><strong>  **   </strong></span>, a 7-character input <strong>String</strong>. That, with the help of <em><strong>rule 14</strong></em>, produces a new <strong><em>5-character output</em></strong> <strong>string</strong> for <span class="codeInLine">thisGen</span>., specifically, the String <span class="codeInLine">**   </span>. So, in the <em><strong>third generation</strong></em>, <span class="codeInLine">thisGen</span> has  grown to <em><strong>five  characters</strong></em>.  As with the <em><strong>first generation</strong></em>, <span class="codeInLine">extremeBit</span> in the <em><strong>second generation</strong></em> is still <strong>0</strong>, so using that as <strong><em>input</em></strong> to <em><strong>rule 14</strong></em> continues to produce another <strong>0</strong> for  the <em><strong>third generation</strong></em>&apos;s <span class="codeInLine">extremeBit</span>.</li>
      <li>So the original<strong class="codeInLine"> &quot;*&quot;</strong> causes a spread of <em><strong>asterisks</strong></em> and <em><strong>spaces</strong></em> from the center, depending on what the <em><strong>rule</strong></em> is. This is one way that some of original <strong>0</strong>s (<em><strong>blanks</strong></em>) close to, but outside, <span class="codeInLine">thisGen</span> can turn to <strong>1</strong>s: they may  get converted by the spreading of the original, central <strong class="codeInLine">*</strong> as a result of <em><strong>rule</strong></em> application.</li>
      <li>Very far from this <em><strong>central interesting part</strong></em>, everything is <strong>0</strong>, initially. So every triplet is <strong>000</strong>, which means the <em><strong>input</strong></em> to the <em><strong>rule</strong></em> (in the<em><strong> first generation</strong></em>) is always <strong>0</strong> way out there. But the <em><strong>rule</strong></em> might  say that <strong>rule[0] = true</strong>. If so, all those distant <strong>0</strong>s will turn into <em><strong>an infinite number of</strong></em> <strong>1</strong>s in the <em><strong>second generation</strong></em>: the sea of <span class="codeInLine"> </span>s (blanks,<em><strong>0</strong></em>s) will become a sea of <span class="codeInLine">*</span>s (asterisks, <strong>1</strong>s). That would mean <span class="codeInLine">extremeBit</span> would become <strong>1</strong> after an application of the <em><strong>rule</strong></em>. And if the rule <strong><em>does</em></strong> change the <span class="codeInLine">extremeBit</span> to <strong>1</strong>, then an application of the <em><strong>rule</strong></em> to input 111 (7,<span class="codeInLine"> &quot;***&quot;</span>) might, in a later generation, convert <span class="codeInLine">extreme_bit</span> back to <strong>0</strong>. It depends on the <em><strong>rule</strong></em>.</li>
	</ul>
	<p>Either way, besides the growing central <strong><em>signal</em></strong>, or interesting part, there will be a boring sea of either all <strong>0</strong>s or all <strong>1</strong>s. The <span class="codeInLine">extremeBit</span> <strong>String</strong> is a <em><strong>single character</strong></em> that tells us which it is. If it is <span class="codeInLine"> </span>, it means  <span class="codeInLine">thisGen</span> is swimming in a sea of <strong>0</strong>s. If it is a <span class="codeInLine">*</span>, it means <span class="codeInLine">thisGen</span> is swimming in a sea of <strong>1</strong>s. This is needed to compute the <em><strong>next generation</strong></em>.</p>
	<h3>The Member Methods</h3>
	<p>Let&apos;s describe the <em><strong>methods</strong></em>.</p>
    
	<ul>
		<li><strong>Automaton(int newRule)</strong> — a <em><strong>constructor</strong></em>. Through the <em><strong>mutator</strong></em>, below, we&apos;ll sanitize <strong>rule</strong> and then convert it to our   	internal representation. We also need to establish the <em><strong>seed</strong></em>: a <em>single </em><strong>1</strong><em> in a sea of </em><strong>0</strong><em>s</em>. This is our <em><strong>first generation</strong></em>. Do this by setting <strong>thisGen</strong> to <span class="codeInLine">*</span> and <strong>extremeBit</strong> to <span class="codeInLine"> </span>.</li>
	  <li><strong>String toStringCurrentGen()</strong> — This <strong>public</strong> stringizer returns a <strong>String</strong> consisting of the current generation, <strong>thisGen</strong>, but does so by embedding it in a <strong>returnString</strong> whose length is <em>exactly</em> <strong>displayWidth</strong> long. If <strong>thisGen</strong> is <em>smaller</em> than <strong>displayWidth</strong>, it is positioned in the center of the larger <strong>returnString</strong>, with the excess padded by <strong>extremeBit</strong> characters. If <strong>thisGen</strong> is <em>longer</em> than <strong>displayWidth</strong>, it has to be truncated (on both ends) so that it is perfectly centered in the returned <strong>returnString</strong>, any excess trimmed off both ends, equally.</li>
		<li><strong>Four Public Mutators</strong>:
          <ul>
    
    <li><strong>boolean setRule(int newRule) </strong> — converts the int <strong>newRule</strong>, a number from <strong>0-255</strong>, to an <em><strong>array</strong></em> of   		eight <strong>bools</strong>.  For example, if the <strong>newRule</strong> is <strong>182</strong>,   		then this is the binary number <strong>1 </strong> <font color="#FF0000"><strong> <span style="background-color:#33CCCC; ">0</span></strong></font><strong> 1 1 0 1 </strong> <font color="#0000FF"><strong> <span style="background-color:#FFFF00; ">1</span></strong></font><strong> 0</strong>, which means that the resultant <em><strong>array</strong></em> will be
      <blockquote> rule[7] = true, <br/>
        <font color="#FF0000"> <span style="background-color:#33CCCC; font-weight:700; "> rule[6] =   		false </span></font>, <br/>
        rule[5] = true, <br/>
        rule[4] = true, <br/>
        rule[3] = false, <br/>
        rule[2] = true, <br/>
        <font color="#0000FF"> <span style="background-color:#FFFF00; font-weight:700; "> rule[1] = true </span></font> , <br/>
        rule[0] = false. </blockquote>
      I have color coded two of the bits in <strong>182</strong> and   		their corresponding <strong>bools</strong> in the <em><strong>array</strong></em> <span class="codeInLine">rule[]</span> so you   		can easily see how the conversion needs to work.    		As usual, this must sanitize the <strong>int</strong> so that   		only values in the legal range <strong>0-255</strong> are allowed.</li>
    <li><strong>boolean setDisplayWidth(int width)</strong> — a <strong>mutator</strong> for <span class="codeInLine">displayWidth</span> which checks the <em><strong>argument</strong></em> against <span class="codeInLine">MIN_DISPLAY_WIDTH</span> and  <span class="codeInLine">MAX_DISPLAY_WIDTH</span> and also only allows <em><strong>odd widths</strong></em> (for centering purposes).</li>
    <li><strong>void resetFirstGen() </strong> — a <em><strong>mutator-like</strong></em> <em><strong>method</strong></em> that resets <span class="codeInLine">thisGen</span> and the <span class="codeInLine">extremeBit</span> to some initial and/or default values.</li>
    <li><strong>void propagateNewGeneration()</strong> —this <em><strong>mutator-like</strong></em> <em><strong>method</strong></em> is the workhorse.  It will use the three private members, <span class="codeInLine">thisGen</span>, <span class="codeInLine">extremeBit</span> and<span class="codeInLine"> rule[]</span>, to create the <em><strong>next   	generation</strong></em> from them.  This <em><strong>method</strong></em> must first append two <span class="codeInLine">extremeBit</span>s to each side of <span class="codeInLine">thisGen</span> in order to provide it with enough bits (or chars)  needed by <span class="codeInLine">rule[]</span>.  This adds four chars to <span class="codeInLine">thisGen</span>, temporarily. We then apply <span class="codeInLine">rule[]</span> in a <em><strong>loop</strong></em> to the new, larger, <span class="codeInLine">thisGen</span>, which  creates a separate (local) <span class="codeInLine">nextGen</span> <strong>String</strong>. If you do this correctly,<strong>  <span class="codeInLine">nextGen</span> </strong>will be two  characters smaller than   the recently augmented <span class="codeInLine">thisGen </span>(but still two larger than the original <span class="codeInLine">thisGen </span>that entered the <em><strong>method</strong></em>). [<em>You must understand this statement, conceptually, before you write your first line of code, or you will be doomed.</em>] Then, you replace the old <span class="codeInLine">thisGen </span>with our new <span class="codeInLine">nextGen</span>.<br/>
      <br/>
      In summary, we pad<span class="codeInLine"> thisGen </span>with four <span class="codeInLine">extremeBit</span>s, then apply <strong>rule[]</strong>, and we have a new <span class="codeInLine">nextGen</span>, two larger than we started out with. We copy that back to <span class="codeInLine">thisGen</span> to complete the cycle.<br/>
      <br/>
      Finally, we have to apply <span class="codeInLine">rule[]</span> to<strong><em> three consecutive </em></strong><span class="codeInLine">extremeBit</span>s to figure out what the new<span class="codeInLine"> extremeBit</span> will be for the <em><strong>next generation</strong></em> (<span class="codeInLine"> </span> or <span class="codeInLine">*</span>?) .  What do I mean by &quot;<em>three consecutive</em>&quot;?  We apply <span class="codeInLine">rule[]</span> to an <strong>int</strong> representing a 3-bit pattern inside the old generation.  In this   case, we are doing it way out, where all the bits are the same:  <span class="codeInLine">extremeBit</span>.  So each input will be three <strong>0</strong>s or three <strong>1</strong>s — an <strong>int</strong> <strong>0</strong> or   an <strong>int 7</strong> — depending on the value of <span class="codeInLine">extremeBit</span>.  The result will   enable us determine the new value of <span class="codeInLine">extremeBit</span>.  We must do this before we return, so <span class="codeInLine">extremeBit</span> is correct for the next call to this <em><strong>method</strong></em>.</li>
    </ul>
	  </li>
	</ul>
	<h3>General Coding Requirement</h3>
	<p>Aside from the spec in the <span class="sectionOrAssignmentTitle">Modules</span>, and the usual &quot;<em><strong>avoid point loss</strong></em>&quot; hints, here is a specific requirement I want you to pay close attention to. <strong><em>Use loops whenever possible</em></strong> rather than repeating nearly identical code, <strong><em>3 times</em></strong> or, worse, <em><strong>8 times</strong></em>. If you find that you have several small, <em><strong>nearly identical code fragments</strong></em> or <em><strong>if blocks</strong></em>, <em><strong>one below the next</strong></em> you can be sure you are forgetting some elementary <strong><em>looping</em></strong> lesson from your <span class="sectionOrAssignmentTitle">first programming course</span>. The repeated code can and should be condensed into a single <em><strong>loop</strong></em>. This <span class="sectionOrAssignmentTitle">Assignment</span> lends itself to <em><strong>loops</strong></em>, so use them.</p>
	<h2>3A.6.3 The Implementation</h2>
	<p>You will be implementing this as part of your <span class="sectionOrAssignmentTitle">lab assignment</span> this week.</p>
	<h2>3A.6.4 StringBuffer</h2>
	<p>For those of you who have never seen <strong>StringBuffer</strong> before and want to use something slightly more powerful than <strong>String</strong>, you may try it.  I&apos;ll let you research this class on your own with the help of the links I provide in the first section of this module. </p>
	<p>But before you go off in that direction, know that you can use <strong>String</strong>, rather than <strong> StringBuffer</strong> and do this assignment very easily using only what you already learned about String last quarter.</p>
	<p>On the surface it seems like <strong>StringBuffer</strong> might be more useful because:	</p>
	<ol>
      <li>you can modify individual <strong>char</strong>s inside a <strong>StringBuffer</strong> object.</li>
	    <li>You can <strong>append()</strong> a char to a <strong>StringBuffer</strong> object, while <strong>String</strong>&apos;s + operator only works when both are <strong>String</strong>s.</li>
	    <li>With <strong>StringBuffer</strong> you end up with less garbage collection behind the scenes:  <span class="codeInLine">myString = myString + &quot;*&quot; </span>creates a little garbage, even though it is a short and legal statement.</li>
      </ol>
    <p>To summarize, <strong>String</strong> is fine, but if you feel like learning something new, try out <strong>StringBuffer</strong>. </p>
    <p></p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3b_1.html -->



<a name="10_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Rectangular 2-D Arrays</h1>
	<h2>3B.1.1  Two Dimensional Arrays</h2>
	<p>A <em><strong>two dimensional array </strong></em>(or<strong><em> 2-D   Array</em></strong>) comes in two flavors:  the <strong><em>rectangular</em></strong> or <strong><em> fixed-size</em></strong> variety and the <strong><em>ragged</em></strong>. Most 2-D arrays you are likely   to encounter will be rectangular, since ragged arrays usually indicate more of an   array-of-lists data structure.  However both have their place, and I&apos;ll show   you both types.</p>
	<p>We start with a simple rectangular array (also called a <em><strong>matrix</strong></em>).    A 2-D array of floats is declared and instantiated like this: </p>

<pre>   double[][] moon;      
   moon = new double[4][6];
</pre>

	<p>Or, you could do it in a single line:</p>

<pre>   double[][] moon = new double[4][6];
</pre>

	<p>Either way, this tells the compiler that we want 24 float locations, organized in a   rectangular arrangement: 4 rows, each with 6 columns, for example: </p>

<pre>1.000 0.500 0.333 0.250 0.200 0.167 
2.000 1.000 0.667 0.500 0.400 0.333 
3.000 1.500 1.000 0.750 0.600 0.500 
4.000 2.000 1.333 1.000 0.800 0.667 
</pre>

	<p>Initializing the elements in an array   of primitive data (like floats) is simply a matter of running through both   indexes in a nested for loop.  In fact, this simple procedure reveals   something about 2-D arrays, so let&apos;s examine it:</p>

<pre>for ( row = 0; row &lt; moon.length; row++)
   for ( col = 0; col &lt; moon[row].length; col ++)
      moon[row][col] = (row+1.)/(col+1.);
</pre>

	<p align="left"> <img align="right" alt="scenic surfer" border="2" height="169" hspace="9" src="./CS 1B Module 3B Section 1_files/cs_B_common_23.jpg" vspace="4" width="214"/>You&apos;ll notice that instead of using the constants 4 and 6, we let Java tell   us what the limits of the loops are.  In the outer loop, we are using <strong> moon.length</strong> to control the number of passes.  This looks suspiciously   like an ordinary 1-D array technique.  Guess what?  <strong>moon</strong> is a 1-D   array!  It is an 1-D array containing 4 elements, and each element is,   itself a 1-D array (of length 6).  So <strong>moon.length</strong> evaluates to 4 in the   example.  The inner loop completes our analysis, proving the claim I just   made.  Each of the arrays that make up the &quot;rows&quot; of <strong>moon</strong> are named <strong>moon[0], moon[1]</strong>, etc. and those names are used to get their lengths (which all   happen to be 6).</p>
	<p>Here is a short program that produces the output array that I posted above.</p>

<pre>import javax.swing.*;
import java.util.*;
import java.text.*;

public class Foothill
{
   public static void main (String[] args)
   {
      int row, col;
      double[][] moon = new double[4][6];
      
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(3);
      tidy.setMinimumFractionDigits(3);
      
      // load the array with values
      for ( row = 0; row &lt; moon.length; row++)
         for ( col = 0; col &lt; moon[row].length; col ++)
            moon[row][col] = (row+1.)/(col+1.);
      
      // print out the whole array
      for ( row = 0; row &lt; moon.length; row++)
      {
         for ( col = 0; col &lt; moon[row].length; col ++)
            System.out.print(tidy.format(moon[row][col]) + &quot; &quot;);
         System.out.println();
      }   
   }
}
</pre>

	<p>This array-of-arrays concept in Java is important. It means that any   multi-dimensional array 2-D, 3-D, or higher, is really an array of arrays (of   arrays ...).</p>
	<p>This suggests the more general concept of <em><strong>ragged array</strong></em> which we will discuss in a   few moments.  Since each row of the <strong>moon</strong> array is really an independent   array in its own right, there is no reason these rows have to all be the same length.  But I&apos;m getting ahead of myself. </p>
	<h2>3B.1.2  Flexible Row or Column Addressing</h2>
	<p>Because we have two indexes in the 2-D array, we can address the numbers as if   they were in a rectangle. In fact, this is the beauty and utility of 2-D arrays. For example </p>

<pre>   // print out the 3rd column (col=2)
   for (row = 0; row &lt; moon.length; row++)
      System.out.println(tidy.format(moon[row][2]));
</pre>

	<p>will easily print the <em>third</em> column (col=2 is the third column   because we begin numbering from 0).   Here&apos;s the proof that it worked:</p>

<pre>0.333
0.667
1.000
1.333
</pre>

	<p>Compare this with the above matrix to see that it&apos;s right.  Imagine   trying to do this trick with a 1-D array of 24 elements rather than the 4 x 6   array <strong>moon</strong>.  It would involve messy computation.</p>
	<p>Here&apos;s the same idea, where we pluck out the third row instead of the third   column.</p>

<pre>   // print out the 3rd row (row=2)
   for (col = 0; col &lt; moon[2].length; col++)
      System.out.print(tidy.format(moon[2][col]) + &quot; &quot;);
</pre>

	<p>And the output:</p>

<pre> 3.000 1.500 1.000 0.750 0.600 0.50
</pre>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3b_2.html -->



<a name="11_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - Cards in Two Dimensions</h1>
	<h2>3B.2.1  A Different Way to Cut the Cards</h2>
	<p>Two dimensional arrays can help us manage our bookkeeping immediately in our   class of Cards. Here is a new main class that declares the deck as a 2-D array.   Compare with the earlier rendition to see the easier, less error-prone, array   access.</p>
    <div class="parenthetical">Note: In your lab assignments, you created an entire OOP solution for a <strong>deck</strong>: a class <strong>Deck</strong>. I am now back-tracking to a <strong>deck</strong> as an ordinary <em><strong>array</strong></em><strong></strong> and comparing this <em><strong>2-D array</strong></em> solution with our previous <em><strong>1-D array</strong></em> solution.</div>
    
<pre>public class Foothill
{
   public static void main(String[] args)
   {
      Card[][] deck = new Card[4][13];
      int kSuit, kValue;
      Card.Suit suitThisLoop;
      String cardVals = &quot;23456789TJQKA&quot;;

      // instantiate the array elements
      for (kSuit = 0; kSuit &lt; Card.Suit.values().length; kSuit++)
      {
         suitThisLoop = Card.Suit.values()[kSuit];

         for (kValue = 0; kValue &lt; cardVals.length(); kValue++)
            deck[kSuit][kValue] 
               = new Card(cardVals.charAt(kValue), suitThisLoop);
      }

      for (kSuit = 0; kSuit &lt; Card.Suit.values().length; kSuit++)
         for (kValue = 0; kValue &lt; cardVals.length(); kValue++)
            System.out.println( deck[kSuit][kValue] );
      System.out.println();
   }
}
</pre>

	<p>Here is a partial screen shot of the output:</p>
	<p> <img alt="console shot" border="1" src="./CS 1B Module 3B Section 2_files/pic_1b3_1.jpg"/></p>
	<p>The syntax for the <strong>Suit</strong> enums assumes the <strong>Card</strong> class was implemented as requested in lab assignments #1 and #2 (if you were assigned a <strong>Card</strong> class for your labs). Specifically, I am assuming an <em>inner</em> <strong>enum Card.Suit</strong>, not a <em>global-scope</em> <strong>enum Suit</strong>.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3b_3.html -->



<a name="12_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - Ragged 2-D Arrays</h1>
	<h2>3B.3.1  A College of Courses</h2>
	<p>We now use a <em><strong>ragged array</strong></em> approach, in which each row of the 2-D array might   be a different length from every other row.  Here is the setting:  We   have a college that contains several courses.  Each course will have a   different number of students (or maximum seats).  We will get information   from the user about the number of courses and the number of students in each   course and create a <em><strong>ragged 2-D array</strong></em> of <strong>Strings</strong> based on his responses.</p>
	<p>Our basic data type is a 2-D array reference, but we can&apos;t do any   instantiation without first consulting the user.</p>

<pre>   String[][] courseRoster;
</pre>

	<p>We ask the user the first question:  &quot;How many courses?&quot; and get <strong>numCourses</strong> as a result.    We will allocate our main array of &quot;rows&quot;:</p>

<pre>   System.out.print(&quot;How many courses do you want to load: &quot;);
   userChoice = input.nextLine();
   numCourses = Integer.parseInt(userChoice);
   courseRoster = new String[numCourses][];</pre>

	<p>Notice how this is done.  You place the number <strong>numCourses</strong> into   the first brackets, indicating that you know how many rows you want, but you are not   allocating any <strong>Strings</strong> for those rows.  You are, strictly speaking,   allocating an empty <strong>String[]</strong> for each element in the array, only. Each element in this 1-D array of references is nothing other than an <em> un-instantiated reference</em> to an, as yet, non-existent <strong>String</strong> array).</p>
	<p>Next, we go into a loop, getting the number of students for each course, and   allocate as we go:</p>

<pre>   for (int k = 0; k &lt; numCourses; k++)
   {
      System.out.print(&quot;Number of students in course &quot; + k + &quot;: &quot;);
      userChoice = input.nextLine();
      numStudents = Integer.parseInt(userChoice);
      courseRoster[k] = new String[numStudents];
   }</pre>

	<p>At that point we have a 2-D array of ... what?  <strong>String</strong> <em><strong>references</strong></em>.  <em>Un-instantiated</em> String references, to be precise. So I will then go into a double loop   (the kind that we always use for 2-D arrays) filling each <strong>String</strong> reference with   a value.</p>

<pre>  for ( course = 0; course &lt; courseRoster.length; course++)
  {
     for ( student = 0; student &lt; courseRoster[course].length; 
           student++)
        courseRoster[course][student] = &quot;lily&quot; + student 
           + &quot; obrien&quot; + course;
     System.out.println();
  }</pre>

	<p>The thing you have to be careful about is this:  With <strong>Strings</strong>, we get   the false impression that we are dealing with primitive data types like <strong>doubles</strong> or <strong>ints</strong>.  In reality, the assignment statements are pointing the references   to allocated String values - a form of instantiation.  With more abstract   user-defined types, we would have to use <strong>new</strong> to create the elements.</p>
	<h2>3B.3.2 A Sample of the Run</h2>
	<p>Here is what we are after:</p>

<pre>How many courses do you want to load: 3
Number of students in course 0: 2
Number of students in course 1: 3
Number of students in course 2: 4</pre>

	<p>and then the console result:</p>

<pre>Course #0 -------------
  [lily0 obrien0]   [lily1 obrien0]
Course #1 -------------
  [lily0 obrien1]   [lily1 obrien1]   [lily2 obrien1] 
Course #2 -------------
  [lily0 obrien2]   [lily1 obrien2]   [lily2 obrien2]   [lily3 obrien2]</pre>

	<h2>3B.3.3 The Listing</h2>
	<p>Here is the full program.  I have added some safety to it by embedding   the user input/response with input filter loops to be sure we were getting valid   numbers from the user.  This is something you should always do.</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      String[][] courseRoster;
      int  numCourses, numStudents, course, student;
      Scanner input = new Scanner(System.in);
      String userChoice;

      // part 1: get the number of courses
      while(true)
      {
         System.out.print(&quot;How many courses do you want to load: &quot;);
         userChoice = input.nextLine();
         try
         {
            numCourses = Integer.parseInt(userChoice);
            break;
         }
         catch (NumberFormatException e)
         {
            continue;
         }
      }
      // an array of size numCourses, where each element is an empty String[] 
      courseRoster = new String[numCourses][];
		
      // part 2: get the size of each course
      for (int k = 0; k &lt; numCourses; k++)
      {
         while(true)
         {
            System.out.print(&quot;Number of students in course &quot; + k + &quot;: &quot;);
            userChoice = input.nextLine();
            try
            {
               numStudents = Integer.parseInt(userChoice);
               courseRoster[k] = new String[numStudents];
               break;
            }
            catch (NumberFormatException e)
            {
               continue;
            }
         }
      }
     
      // part 3: fill roster with bogus names
      for ( course = 0; course &lt; courseRoster.length; course++)
      {
         for ( student = 0; student &lt; courseRoster[course].length; 
               student++)
            courseRoster[course][student] = &quot;lily&quot;+ student 
                  + &quot; obrien&quot; + course;
         System.out.println();
      }   

      // part 4: show the rosters
      for ( course = 0; course &lt; courseRoster.length; course++)
      {
         System.out.println(&quot;Course #&quot; + course + &quot; -------------&quot;);
         for ( student = 0; student &lt; courseRoster[course].length; 
               student++)
            System.out.print(&quot;  [&quot; + courseRoster[course][student] 
                  + &quot;] &quot;);
         System.out.println();
      } 
      input.close();
   }
 }</pre>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3b_4.html -->



<a name="13_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - Array-Based Stacks</h1>
	<h2>3B.4.1 An Array-Based Stack</h2>
	<p><img alt="scenic skyscraper" height="420" src="./CS 1B Module 3B Section 4_files/cs_A_common_20.JPG" width="280"/></p>
	<p>A <em><strong>stack</strong></em> satisfies these rules: </p>
	<ul>
		<li>It stores data for us; if we have a <em><strong>stack</strong></em> object, say <strong>s</strong>,   	then when we want <strong>s</strong> to store a <em><strong>String</strong></em>, say   	&quot;hotdog&quot;, we <em><strong>push</strong></em> it onto the stack with a call: <strong> s.push(&quot;hotdog&quot;)</strong>. &quot;hotdog&quot; is then placed into the <em><strong>stack</strong></em> <strong>s</strong> and then joins the other items that were on the <em><strong>stack</strong></em>. </li>
		<li>Whenever we go to retrieve data (called <em><strong>popping</strong></em>) from the   	stack, the item we get will always be the <em> most recent item</em> that we <em><strong>pushed</strong></em>. So if we call <strong>s.pop()</strong> right after the above <em> <strong>push</strong></em>, the item   	returned by the <strong>pop() </strong>method would be &quot;hotdog&quot;. This also has the   	effect of removing &quot;hotdog&quot; from the <em><strong>stack</strong></em>, so it is no longer there. </li>
	</ul>
	<p>Notice that in the last paragraph, we said &quot;the item returned by <strong>pop()</strong>.&quot;    That means <strong>pop(</strong>) returns a value to the client - it <em>does not</em> make an   independent decision to, say, print the <em><strong>popped</strong></em> item to the screen.  </p>
	<div class="important"> Note
		<p><strong>pop(</strong>)   should not do any output - it should just return the popped value as a <em><strong>functional return</strong></em>. </p>
	</div>
<p>Let&apos;s say that we have defined a <em><strong>Stack</strong></em> class, and we have   instantiated a <em><strong>Stack</strong></em> object, <strong>s</strong>.  Then, using <strong>s</strong>,   if we push three times:</p>

<pre>   s.push(&quot;four&quot;);
   s.push(&quot;nine&quot;);
   s.push(&quot;two&quot;);
</pre>

	<p>Then the <strong><em>Stack</em> s</strong> looks like this: </p>


<pre>  top →
         &quot;two&quot;
         &quot;nine&quot;
         &quot;four&quot;
</pre>

	
	<p>If you then <strong>pop()</strong> once, the &quot;two&quot; is returned from the <em> <strong>stack</strong></em> and it will then   contain: </p>

<pre>  top →
         &quot;nine&quot;
         &quot;four&quot;
</pre>

	<p>If you <strong>push()</strong> another item:</p>


<pre>   s.push(&quot;7.3&quot;);
</pre>

	<p>the <em><strong>stack</strong></em> becomes: </p>

<pre>  top →
         &quot;7.3&quot;
         &quot;nine&quot;
         &quot;four&quot;
</pre>

	<p>If you <strong>pop()</strong> now, the &quot;7.3&quot; will be returned and if you <strong> pop()</strong> immediately after   that, the &quot;nine&quot; will be returned, leaving only the &quot;four&quot; on the stack. I think   you get the idea. </p>
	<p>Since <strong>s</strong> is an object of class <strong>Stack</strong>, we should be able to   instantiate more than one <strong>Stack</strong> at a time, say <strong>s1</strong> and <strong>s2</strong>,   and <strong>push()</strong> and <strong>pop()</strong> from them independently.  </p>
	<h2>3B.4.2 A Stack Example</h2>
	<p>This example defines the <strong>Stack</strong> class using techniques we have already   learned.  This   example is based on <strong>doubles</strong>. You&apos;ll have to compare the output to the source code   carefully so you can associate the pops with the output that results.</p>

<pre>// ------------- Class Foothill -------------- 
public class Foothill
{ 
   // -------  main --------------
   public static void main(String[] args)
   {    
      MyStack stk1 = new MyStack();
      MyStack stk2 = new MyStack();
      int k;
      double result;
      final double STACK_EMPTY = Double.MIN_VALUE;
   
      // Test the Stack - there should be nothing on it -----
      if ( !stk1.testStack(1) )
         System.out.println(&quot;empty stack; cannot pop&quot;);
   
      // push too much intentionally
      for (k = 0; k &lt; 11; k++)
         if ( ! stk1.push( k * 1.1 ) )
            System.out.println(&quot;stack stk1 full; cannot push&quot;);
   
      for (k = 0; k &lt; 5; k++)
         if ( ! stk2.push( k * 9 ) )
            System.out.println(&quot;stack stk2 full; cannot push&quot;);
   
      // pop too much intentionally 
      System.out.println(&quot;\n--------- First Stack ---------&quot;);
      for (k = 0; k &lt; 11; k++)
         if ( stk1.testStack(1) )
            System.out.println( stk1.pop() + &quot; : &quot; );
         else
            System.out.println(&quot;empty stack; cannot pop&quot;);
      System.out.println();
       
      // pop too much intentionally 
      System.out.println(&quot;\n--------- Second Stack ---------&quot;);
      for (k = 0; k &lt; 11; k++)
         if ( stk2.testStack(1) )
            System.out.println( stk2.pop() + &quot; : &quot; );
         else
            System.out.println(&quot;empty stack; cannot pop&quot;);
      System.out.println();
   } 
} // end of class Foothill ---------------------

// ------------- Class MyStack -------------- 
class MyStack 
{
   final private static int SIZE = 10;
   private double stck[];
   private int tos;
    
   // ---------------------------------------------------
   public  MyStack()
   {
      tos = 0;
      stck = new double[SIZE];
   }
     
   // ---------------------------------------------------
   public boolean push( double item )
   {
      if (tos == SIZE)
         return false;
      stck[tos++] = item;
      return true;
   }
     
   // ---------------------------------------------------
   public double pop()
   {
      if (tos == 0)
         return Double.MIN_VALUE;  // non-optimal way to flag error
          
      return stck[--tos];
   }
   //---------------------------------------------------
   // returns true if at least num_needed items are on the stack
   public boolean testStack( int num_needed )
   {
      if (tos &gt;= num_needed)
         return  true;
      else
         return  false;
   }
} // end of class MyStack -------------------------
</pre>

	<p> And the output:</p>

<pre>empty stack; cannot pop
stack stk1 full; cannot push

--------- First Stack ---------
9.9 : 
8.8 : 
7.700000000000001 : 
6.6000000000000005 : 
5.5 : 
4.4 : 
3.3000000000000003 : 
2.2 : 
1.1 : 
0.0 : 
empty stack; cannot pop


--------- Second Stack ---------
36.0 : 
27.0 : 
18.0 : 
9.0 : 
0.0 : 
empty stack; cannot pop
empty stack; cannot pop
empty stack; cannot pop
empty stack; cannot pop
empty stack; cannot pop
empty stack; cannot pop
</pre>

	<p>What&apos;s up with a few of those strange (7.700000000000001) numbers?  <strong> Double</strong> math sometimes results in unexpected round-off errors within the   tolerance of the data type.  In Java if you are within .000000000000001 of   a number, you <em><strong>are</strong></em> the number.  If you recall, we provided a   solution to this problem earlier in the course. I didn&apos;t incorporate the   formatting code into the example above, because I wanted to keep the logic   simple.</p>
	<p>Notice that when we have more than one class in a single source file (as I   often do), only one class can be declared <strong>public</strong>.  In a single file   project this would be your main class, that is, the one that contains the <strong> main()</strong> method.  In our current example, the <strong>Foothill</strong> class is   the main class, and is declared <strong>public</strong>, while the <strong>MyStack</strong> class   has default access (no modifier in front of the class name).</p>
	<h2>3B.4.3 There are Stacks And Then There Are Stacks</h2>
	<p>You may have used built-in stack data structures in a collections or   container framework in the past.  You will certainly do so in the future.    Be careful to read the API of the class carefully because each implementation is   slightly different.  Some stacks have a <strong>pop()</strong>  that   removes but does not return the top of the stack, leaving the return to another   function, often named <strong>top()</strong>.  Other   implementations don&apos;t have <strong>pop()</strong> or <strong>push()</strong> but, instead, use names   like <strong>popBack()</strong> and <strong>pushBack()</strong>.  While the ideas are   universal, the details are not, so don&apos;t assume anything when you encounter a   new stack class.</p>

	</div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_3b_5.html -->



<a name="14_"></a>


<div class="container">
  <div class="content">
	<h1>Section 5 - Multi-File Projects</h1>
	<h2>3B.5.1 Creating a New File for Your MyStack Class</h2>
	<p>We have been writing our programs in a single source file up to this point.   As projects contain more classes, this makes the files hard to navigate and   organize.  The standard practice for Java programs is to create a separate .java   file for every principal class of the program.</p>
	<p>This is a simple matter.  In our <strong>MyStack</strong> example we would create a new   file, <strong>MyStack.java</strong>,<strong> </strong>and place the source for the <strong>MyStack</strong> class   into that file, making certain to declare that class as public.  In Eclipse, you   actually declare a new class, give it the name <strong>MyStack</strong>, and it automatically   generates the <strong>MyStack.java</strong> file for you.  The details are next.</p>
	<h2>3B.5.2 The MyStack Class And Its .java File</h2>
	<p>Make sure that you have created a project like the one in the last section,   and get the bugs out so we start clean.  Now, we will break the one file (which   was <strong>Foothill.java</strong> in my case because the main class was named <strong>Foothill</strong>)   into two:</p>
	<ul>
		<li><strong>Foothill.java</strong> (will contain the main <strong>Foothill</strong> class,   	declared <strong>public</strong>) </li>
		<li><strong>MyStack.java </strong>(will contain the class <strong>MyStack</strong>, declared <strong> public</strong>) </li>
	</ul>
	<p>In the Package Explorer at the left of your Eclipse IDE, right-click on <strong> Foothill </strong>and select <strong>New -&gt; Class </strong></p>
	<div class="picCenter"><img alt="IDE shot" border="2" height="184" src="./CS 1B Module 3B Section 5_files/pic_1b3_2.jpg" width="577"/></div>
	<p>When you are given a dialog box,  give the class the name <strong>MyStack,</strong> and uncheck the<strong> public static void main() </strong>box:</p>
	<div class="picCenter"><img alt="IDE shot" border="2" height="132" src="./CS 1B Module 3B Section 5_files/pic_1b3_3.jpg" width="247"/>   →    <img alt="IDE shot" border="2" height="135" src="./CS 1B Module 3B Section 5_files/pic_1b3_4.jpg" width="205"/></div>
<p>You will now have two <strong>.java</strong> files under your <strong>Foothill</strong> project:  <strong>Foothill.java </strong>and<strong> MyStack.java</strong>.  You will probably also have   both files open in your center window.  You can switch back and forth   between the two files by clicking on the tabs at the top.</p>
<div class="picCenter"><img alt="IDE shot" border="2" height="168" src="./CS 1B Module 3B Section 5_files/pic_1b3_5.jpg" width="513"/>  </div>
	<h2>3B.5.3 Separating the Source Code</h2>
	<p>Now you should copy (cut) the entire <strong>MyStack</strong> source out of the <strong>Foothill.java</strong> file, and paste it into the <strong>MyStack.java</strong> file.  It&apos;s okay if you   replace/overwrite the blank <strong>MyStack</strong> class that Eclipse gave you when it created   this file. You already have the class header.  </p>
	<p>When you are done, make sure:</p>
	<ul>
		<li>The <strong>Foothill.java</strong> has only the <strong>Foothill</strong> class definition.  The <strong>MyStack</strong> class definition is gone.</li>
		<li>The <strong>MyStack.java</strong> class has only the <strong>MyStack</strong> class definition.    	Be sure you   	did not accidentally copy the <strong>Foothill</strong> class.</li>
		<li>You have added the keyword <strong>public</strong> in front of the <strong>MyStack</strong> class.</li>
	</ul>
	<p>Here are the two files:</p>
	<h5>File Foothill.java</h5>

<pre>// ------------- Class Foothill -------------- 
public class Foothill
{ 
   // -------  main --------------
   public static void main(String[] args)
   {    
      MyStack stk1 = new MyStack();
      MyStack stk2 = new MyStack();
      int k;
      double result;
      final double STACK_EMPTY = Double.MIN_VALUE;
   
      // Test the Stack - there should be nothing on it -----
      if ( !stk1.testStack(1) )
         System.out.println(&quot;empty stack; cannot pop&quot;);
   
      // push too much intentionally
      for (k = 0; k &lt; 11; k++)
         if ( ! stk1.push( k * 1.1 ) )
            System.out.println(&quot;stack stk1 full; cannot push&quot;);
   
      for (k = 0; k &lt; 5; k++)
         if ( ! stk2.push( k * 9 ) )
            System.out.println(&quot;stack stk2 full; cannot push&quot;);
   
      // pop too much intentionally 
      System.out.println(&quot;\n--------- First Stack ---------&quot;);
      for (k = 0; k &lt; 11; k++)
         if ( stk1.testStack(1) )
            System.out.println( stk1.pop() + &quot; : &quot; );
         else
            System.out.println(&quot;empty stack; cannot pop&quot;);
      System.out.println();
       
      // pop too much intentionally 
      System.out.println(&quot;\n--------- Second Stack ---------&quot;);
      for (k = 0; k &lt; 11; k++)
         if ( stk2.testStack(1) )
            System.out.println( stk2.pop() + &quot; : &quot; );
         else
            System.out.println(&quot;empty stack; cannot pop&quot;);
      System.out.println();
   } 
} // end of class Foothill ---------------------

</pre>

	<h5>File MyStack.java</h5>

<pre>// ------------- Class MyStack -------------- 
public class MyStack 
{
   final private static int SIZE = 10;
   private double stck[];
   private int tos;
    
   // ---------------------------------------------------
   public  MyStack()
   {
      tos = 0;
      stck = new double[SIZE];
   }
     
   // ---------------------------------------------------
   public boolean push( double item )
   {
      if (tos == SIZE)
         return false;
      stck[tos++] = item;
      return true;
   }
     
   // ---------------------------------------------------
   public double pop()
   {
      if (tos == 0)
         return Double.MIN_VALUE;  // non-optimal way to flag error
          
      return stck[--tos];
   }
   //---------------------------------------------------
   // returns true if at least num_needed items are on the stack
   public boolean testStack( int num_needed )
   {
      if (tos &gt;= num_needed)
         return  true;
      else
         return  false;
   }
} // end of class MyStack -------------------------
</pre>

	<p>That&apos;s it.  Try running the project again to make sure you haven&apos;t   broken anything. </p>
	<h2>3B.5.4 When To Use Separate Files</h2>
	<p>Normally you do not need a separate file for every class in your project. The   project would become unnecessarily complicated. If one class uses three or four   small helper classes that you will likely never use for any other project, place   those inside the same file as the class that uses them.  Declare only the   principal class <strong>public</strong> and allow those other classes to retain default access (or make them <strong>private</strong>).</p>
	<p>Programs with many classes are often neater when they are broken into   separate files.  You&apos;ll have to determine which classes will get their own   files, and if more than one class goes into a file, you&apos;ll have to decide which   one is <strong>public</strong>.  That decision should not be too hard: if you choose   the wrong one, the program will not work.  That&apos;s because only the class   declared as <strong>public</strong> in a file can be used outside of that file.</p>
	<div class="parenthetical"> <strong>Exception.</strong> If you or other programmers are writing code in the <em>same package</em> as the file in question, that code can access the <strong>non-public</strong>, <strong>default</strong> classes from this file.</div>
	<p> If more   than one class needs to be used outside the file -- especially from a different <em>package</em> -- you should create two files,   one for each class, and declare them both <strong>public</strong>.</p>
	<p>I will often place everything into a single file for these lectures so I can   make it easy for you to copy and paste an entire program into your IDE.    You should, likewise, send me projects that have everything in a single file to   make it easier for me to grade.  That means only one public class and all   the imports at the top of the file.</p>
	<h2>3B.5.5 Where We Were, Where We&apos;re Headed</h2>
	<p>That&apos;s all for this week.  We have reviewed and/or introduced all   fundamental Java concepts.  You have a solid foundation of the language,   basic programming practices, examples of data structures (stacks, arrays), review of Strings, a working knowledge of multi-dimensional arrays and the foundation of classes and objects.</p>
	<p>Now it&apos;s time to take a quantum step.  Next week we will learn the key   concept of advanced Object-Oriented Programming: <strong> Inheritance</strong>. </p>
	<p><span style="text-align: left"><img align="right" alt="guy with blackboard" border="0" height="91" src="./CS 1B Module 3B Section 5_files/cs_A_common_2.gif" width="149"/></span></p>
	<h4>Prevent Point Loss</h4>
	<ul>
		  	<li><strong>Don&apos;t be &quot;verbose&quot;.</strong>  In methods like   	constructors, mutators, or other non-I/O member functions, do not do any   	output - even in the case of an error.  Leave the decision of how and   	when to do output to the client.   	(1 - 2 point penalty)</li>
			<li><strong>Methods that should not be instance functions.</strong> Some methods should not be instance member functions.  If the method   	does not act on the class data or acts on it in a way that is so specialized   	that only one application out of a million will make use of it, it should   	not be in your class.  Make this an ordinary (static client or static   	main class) method, not a method of a lower-level class.    	(2 - 3 point penalty)</li>
			<li><strong>Methods that should be instance functions. </strong> On the other hand, if a static method (or a method of some other class) takes only   	one object of a class as a parameter and works only on that one object, then   	it probably should be made an instance method of that object&apos;s class, and the   	object parameter should be removed. The reason we can eliminate the   	parameter once we make the method an instance method (of the previously   	passed-object&apos;s class) is that the object is then passed intrinsically to the method via the &quot;this&quot;   	object.  (2 - 3 point penalty)</li>
		</ul>
	<p>Rest up and get ready for action.</p>
	<div class="picCenter"><img alt="mountain" border="0" height="182" src="./CS 1B Module 3B Section 5_files/cs_B_common_24.jpg" width="294"/></div>
	</div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4a_1.html -->



<a name="15_"></a>


<div class="container">
<div class="content">
  	<h1>Section 1 - Introduction to Inheritance: Base Classes</h1>
  	<h2>4A.1.1 Orientation	</h2>
  	<p>This week we introduce <em><strong>inheritance</strong></em>, the mechanism that allows us to reuse   old, or existing, <em><strong>classes</strong></em> in new applications.  <em><strong>Inheritance</strong></em> is universal to   all contemporary <em><strong>object-oriented</strong></em> programming languages, including C++, Python,   C# and, of course, Java.  The notation is slightly different in each language, but if you   understand the concept in one, you will understand it in all.</p>
	<p>Most large programming projects rely on <em><strong>inheritance</strong></em>.  <em><strong>Classes</strong></em> defined by    programmers, now long gone, have been completely debugged and   tested.  Nevertheless, you can still <em><strong>extend</strong></em> those classes (using <em><strong>inheritance</strong></em>) to create new   functionality, without going into the source code of the original <em><strong>class</strong></em>, known as the <em><strong>base</strong></em> (a.k.a. <em><strong>super</strong></em> or <em><strong>parent</strong></em>) <em><strong>class</strong></em>.</p>
	<div class="picCenter"><img alt="scenic chessboard" border="0" height="200" src="./CS 1B Module 4A Section 1_files/cs_B_common_26.JPG" width="300"/></div>
	<h2>4A.1.2 Reading and Resources</h2>
<p>All the resources needed for this week and instructions on textbook reading have already been posted in <span class="sectionOrAssignmentTitle">Module A1</span> of the first three weeks. Refer to those pages and links, regularly.</p>

<!--end .container -->
<h2>4A.1.3 A Base Class</h2>
<p>A <em><strong>base</strong></em> (or <em><strong>super</strong></em> or <em><strong>parent</strong></em>) <em><strong>class</strong></em> is just a <em><strong>class</strong></em>, the same way an <strong>Employee</strong> is just a <strong>Person</strong>. It is the creation of a second   entity (<em><strong>hiring</strong></em> the <strong>Person</strong>), that makes the <strong>Person</strong> an <strong>employee</strong>. A <em><strong>class</strong></em> like <strong>Person</strong> would be a <em><strong>base class</strong></em>, if we knew that it was about to be <em><strong>extended</strong></em> to another <em><strong>class</strong></em>, like <strong>Employee</strong>. To do that, we <em><strong>derive</strong></em> (or <em><strong> extend</strong></em> or <em><strong>subclass</strong></em>) a new <em><strong>class</strong></em> from it, which, without modification to the <em><strong>original class</strong></em>, turns that one into a   semantic entity known as a <em><strong>base</strong></em> (<em><strong>super, parent</strong></em>) <em><strong>class.</strong></em></p>
<p>Any <em><strong>class</strong></em> is a <em><strong>base class</strong></em> if you <strong><em>derive</em></strong> a <em><strong>new class</strong></em> (called the <strong><em>derived, child</em></strong> or <strong><em>sub</em></strong><em><strong>class</strong></em>) from it. </p>
<h3>Base Class: Phone</h3>
<p>We create an ordinary <em><strong>class</strong></em>, <strong>Phone</strong>. It will store an <em><strong>areaCode</strong></em> and <em><strong>phone number</strong></em> in two separate <strong>string</strong> <em><strong>members</strong></em> <span class="codeInLine">areaCode</span> and <span class="codeInLine">number</span>, respectively. The <em><strong>constructor</strong></em> for <strong>Phone</strong> will initialize all <em><strong>members</strong></em> so there is no   chance of garbage cluttering them up.   Since the <em><strong>class</strong></em> is so straightforward,   I&apos;ll list it inside the complete program.</p>
<p>Copy and paste it into your <strong><em>IDE</em></strong>, then run it:</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Phone me = new Phone(&quot;123&quot;, &quot;1234567&quot;),
            you = new Phone();

      System.out.println(&quot;\nAfter Constructors:&quot;);
      System.out.print(&quot;ME ...   \n   &quot;);
      me.showPhone();
      System.out.print(&quot;YOU ...   \n   &quot;);
      you.showPhone();
      
      me.setBoth(&quot;408&quot;, &quot;99XX9887BAD7&quot;);
      you.setBoth(&quot;714&quot;, &quot;9998877&quot;);
      
      System.out.println(&quot;\nAfter setBoth():&quot;);
      System.out.print(&quot;ME ...   \n   &quot;);
      me.showPhone();
      System.out.print(&quot;YOU ...   \n   &quot;);
      you.showPhone();
      
      if (!me.setAC(&quot;719498&quot;))
         me.setAC(&quot;818&quot;);
      if (!you.setPhNum(&quot;5551212&quot;))
         you.setPhNum(&quot;9997777&quot;);
      
      System.out.println(&quot;\nAfter setAC(), setPhNum():&quot;);
      System.out.print(&quot;ME ...   \n   &quot;);
      me.showPhone();
      System.out.print(&quot;YOU ...   \n   &quot;);
      you.showPhone();

      System.out.println(&quot;\nUsing accessors:&quot;);
      System.out.println(&quot;ME ...\n   &quot;
            + me.getAreaCode() + &quot;   &quot;
            + me.getNumber());
      System.out.println(&quot;YOU ...\n   &quot;
            + you.getAreaCode() + &quot;   &quot;
            + you.getNumber());
      
      System.out.println(&quot;\ndialing():&quot;);
      System.out.println(&quot;ME ...\n   &quot;
      + &quot;   &quot; +  me.dialing());
      System.out.println(&quot;YOU ...\n   &quot;
      + &quot;   &quot; +  you.dialing());

      System.out.println(&quot;\nredialing():&quot;);
      System.out.println(&quot;ME ...\n   &quot;
      + &quot;   &quot; +  me.redialing(3));
      System.out.println(&quot;YOU ...\n   &quot;
      + &quot;   &quot; +  you.redialing(3));
   }
}
   
// Base Class Phone  -----------------------------
class Phone
{
   // private data
   private  String areaCode;
   private  String number;

   // public static constants
   public static final String DEFAULT_AC  = &quot;000&quot;;
   public static final String DEFAULT_NUM  = &quot;0000000&quot;;
   public static final int VALID_PH_NUM_LEN = 7;
   public static final int VALID_AC_NUM_LEN = 3;

   public Phone()
   {
      number = DEFAULT_NUM;
      areaCode = DEFAULT_AC;
   }

   public Phone(String ac, String num)
   {
      if ( !setPhNum(num) )
         number = DEFAULT_NUM;
      if ( !setAC(ac) )
         areaCode = DEFAULT_AC;
   }

   // mutators
   public boolean setPhNum(String num)
   {
      if ( !validPhNumber(num) )
         return false;
      number = num;
      return true;
   }
   public boolean setAC(String ac)
   {
      if ( !validAC(ac) )
         return false;
      areaCode = ac;
      return true;
   }
   
   public boolean setBoth(String ac, String num)
   {
       // set only good args.  bad ones don&apos;t change member
       boolean retValNum, retValAC;

       retValNum = setPhNum(num);
       retValAC = setAC(ac);

       // client gets false if either was bad.
       return retValNum &amp;&amp; retValAC;
   }

   // accessors
   public String getAreaCode()
   {
      return areaCode;
   }
   public String getNumber()
   {
      return number;
   }

   // stringizers
   public String toString()
   {
      String result;
      result = &quot;(&quot; + areaCode + &quot;)&quot;
            + number.substring(0,3) + &quot;-&quot;
            + number.substring(3,7);
      return result;
   }

   public void showPhone()
   {
      System.out.println(toString());
   }

   // for demonstration
   public String dialing()
   {
      return  &quot;Now dialing &quot; + toString() + &quot;\n&quot;;
   }

   public String redialing(int numTimes)
   {
      int k;

      String retStr = &quot;Trying number &quot; + numTimes + &quot; times ...\n&quot;;

      for (k = 0; k &lt; numTimes; k++)
         retStr += dialing();
      retStr += &quot;done.\n&quot;;

      return retStr;
   }
   
   // helpers for vetting Phone numbers  --------------------------
   protected static boolean isNumber(String s)
   {
      for(int k = 0; k &lt; s.length(); k++)
         if (!Character.isDigit(s.charAt(k)))
            return false;
      return true;
   }

   private static boolean validPhNumber(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_PH_NUM_LEN))
         return true;
      return false;
   }

   private static boolean validAC(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_AC_NUM_LEN))
         return true;
      return false;
   }
}</pre>

<h4>Things worthy of note:</h4>
<ol>
	<li>We have a <strong><em>static class method</em></strong> <span class="codeInLine">isNumber()</span>.  Because   	this <em><strong>method</strong></em> is a utility that works exclusively on its <em><strong>parameter</strong></em>, a <strong>string</strong>, and there is no specific <strong>Phone</strong> <em><strong>object</strong></em> to which it belongs, it is natural to make it a <strong> static</strong> <em><strong>method</strong></em>.  It can be used (and is, above) to validate a <strong>string</strong>, testing whether it contains all numeric digits.</li>
	<li>We have two similar helper <em><strong>methods</strong></em> that are also <strong>static</strong> for the same reasons: <span class="codeInLine">validAC()</span> and <span class="codeInLine">validPhNumber()</span>.</li>
	<li><span class="codeInLine">isNumber() </span>is neither <strong>public</strong> nor <strong>private</strong>, but a new   	category called <strong>protected</strong>.  <strong>Protected</strong> is like <strong>private</strong> from the point of view of the <em><strong>client</strong></em>: the <em><strong>client</strong></em> may not access it.  But <em> <strong>derived classes</strong></em> (which we are about to introduce) that are based   	on <strong>Phone</strong> <em>can</em> use this <em><strong>method</strong></em>.  So <strong>protected</strong> means it is   	accessible from the <em><strong>class</strong></em> and its <em><strong>derived classes</strong></em>, but not from other,   	external <em><strong>classes</strong></em>. The <strong>protected</strong> <strong>access modifier</strong> can also be used for <em><strong>member</strong></em> data and<em><strong> instance </strong></em><strong><em>methods</em></strong>.     	Although we have not discussed <em><strong>packages</strong></em>, <strong>protected</strong> also confers accessibility to other <em><strong>methods</strong></em> within the same <em><strong>package</strong></em>.</li>
	<li>The <strong>class</strong> has the usual and expected <em><strong>members</strong></em> and <em><strong>methods</strong></em>. There are some <strong>static finals</strong> for defaults and limits, <em><strong>mutators</strong></em> for individual as well as multiple <strong>private members</strong>, <em><strong>accessor</strong></em>, <em><strong>stringizers</strong></em>, etc. This is a good <em><strong>class</strong></em> to compare with your prospective <span class="sectionOrAssignmentTitle">programming labs</span> before you submit them, if only to check that yours also has these properties.</li>
</ol>
<p>Here is a copy of the run:</p>
<pre>After Constructors:
ME ...   
   (123)123-4567
YOU ...   
   (000)000-0000

After setBoth():
ME ...   
   (408)123-4567
YOU ...   
   (714)999-8877

After setAC(), setPhNum():
ME ...   
   (818)123-4567
YOU ...   
   (714)555-1212

Using accessors:
ME ...
   818   1234567
YOU ...
   714   5551212

dialing():
ME ...
      Now dialing (818)123-4567

YOU ...
      Now dialing (714)555-1212


redialing():
ME ...
      Trying number 3 times ...
Now dialing (818)123-4567
Now dialing (818)123-4567
Now dialing (818)123-4567
done.

YOU ...
      Trying number 3 times ...
Now dialing (714)555-1212
Now dialing (714)555-1212
Now dialing (714)555-1212
done.</pre>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4a_2.html -->



<a name="16_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - Derived Classes</h1>
	<h2>4A.2.1 A Derived Class</h2>
	<p>If we wanted a <em><strong>phone-with-extension,</strong></em> we might consider   copy/pasting all of the above code into a new file and then adding one more <em><strong>member</strong></em>,   the <strong>extension</strong>. To that, we would then manually add any <strong><em>member functions</em></strong> or <em><strong>static finals</strong></em> needed to handle this <strong>extension</strong>. In Java, and any other <em><strong>OOP</strong></em> language, we can <em><strong>skip</strong></em> the <em><strong>copy/paste</strong></em> step and start immediately <em><strong>adding new code</strong></em>, even if we don&apos;t have access to, or permission to edit, the original <strong>Phone <em>class</em></strong>.</p>
	<p>We <em><strong>extend</strong></em> <strong>Phone</strong> to a new <em><strong>sub-class</strong></em>, called <strong>PhoneWX</strong> (&quot;<em>Phone With Extension</em>&quot;) like so: </p>

<pre>//Derived Class PhoneWX  -----------------------------
class PhoneWX extends Phone 
{
   // additional member
   private String extension;

   // public static constants
   public static final String DEFAULT_EXT  = &quot;00&quot;;
   public static final int VALID_EXT_LEN = 2;

   // constructors
   public PhoneWX()
   {
      super();
      extension = DEFAULT_EXT;
   }
   public PhoneWX(String ac, String num, String ext)
   {
      // first, base class stuff
      super(ac, num);

      // now the extension
      if ( !setExt(ext) )
         extension = DEFAULT_EXT;
   }

   // mutators
   public boolean setExt(String ext)
   {
      // first base class stuff
      if ( !validExt(ext) )
         return false;  // don&apos;t change anything, return false
      extension = ext;
      return true;
   }

   public boolean setAll(String ac, String num, String ext)
   {
      // set only good args.  bad ones don&apos;t change member
      boolean retValSetBoth, retValSetExt;

      // first base class stuff (unique call to base)
      retValSetBoth = setBoth(ac, num);

      // now derived member
      retValSetExt = setExt(ext);

      // client gets false if anything was bad.
      return retValSetBoth &amp;&amp;  retValSetExt;
   }

   // accessor
   public String getExt()
   {
      return extension;
   }

   // stringizers
   public String toString()
   {
      return super.toString() + &quot;  ext. &quot; + extension;
   }
   public void showPhone()
   {
      // System.out.println(super.toString() + &quot;  ext: &quot;  + extension );
      // or, easier, just 
      System.out.println( toString() );
   }
   public void showPhoneWithoutExtension()
   {
      System.out.println( super.toString() );
   }

   //overridden
   public String dialing()
   {
      String retStr;

      // chain to base class method
      retStr = super.dialing();

      // now add derived data to console
      retStr += &quot;   (&quot; + toString() + &quot;)\n&quot;;

      return retStr;
   }

   // overloaded
   public String redialing()
   {
      String retStr;

      // chain to base class method AS OVERLOAD, not OVERRIDE
      retStr = &quot;calling extension &quot; + toString() + &quot; only once ...\n&quot;;
      retStr += redialing(1);  // because of argument, 1, must be base call
      return retStr;
   }

   // helper for vetting extensions numbers  --------------------------
   private static boolean validExt(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_EXT_LEN))
         return true;
      return false;
   }
}</pre>

	<p><strong>PhoneWX</strong> is called a <em><strong>derived</strong></em> class or <em><strong>sub-class</strong></em> of <strong>Phone</strong>.  The first line, <strong>class PhoneWX extends Phone</strong> tells us that we are creating a new <em><strong>class</strong></em> that contains everything in the<em><strong> base class</strong></em>, plus whatever else we   put in. We see that we are adding </p>
	<ul>
      <li>two new <strong>static finals</strong>, <span class="codeInLine">DFLT_EXT</span> and <span class="codeInLine">VALID_EXT_LEN</span></li>
      <li>one new <em><strong>data member</strong></em>, the <span class="codeInLine">extension</span>, and </li>
      <li>several new <em><strong>member methods</strong></em>. </li>
	</ul>
	<p>Simply put, if we declare an <em><strong>object</strong></em> of the <em><strong>base </strong></em><strong><em>class</em></strong>, <strong>Phone</strong>,   it only contains what a <strong>Phone</strong> should — the <span class="codeInLine">areaCode</span> and <span class="codeInLine">number</span>.   If we declare an <em><strong>object</strong></em> of the <em><strong>derived</strong></em> class, <strong>PhoneWX</strong>, it   contains the previously defined <span class="codeInLine"> areaAode</span> and <span class="codeInLine">number</span> <em>plus the new additions,</em> <span class="codeInLine">extension</span>. </p>
    <div class="important"> Proper Use of Derived Classes
      <p>A <em><strong>derived class</strong></em> must possess an <font color="#0000FF"><b> <em>is a</em></b></font> relationship with its <em><strong>base class</strong></em>. An <strong>Employee </strong><font color="#0000FF"><b><em>is a</em></b></font> <strong>Person</strong>. A <strong>Truck</strong> <font color="#0000FF"><b><em>is an</em></b></font> <strong>Automobile</strong>. A <strong>PhoneWX</strong><em> <font color="#0000FF"><b>is a</b></font></em> <strong>Phone</strong>. However, a <strong>UserInterfaceForEmployee </strong><font color="#FF0000"><b><em>is NOT an</em></b></font><strong> Employee</strong>, and an <strong>EnginePart</strong><font color="#FF0000"><b><em> is NOT an</em></b></font><strong> Automobile</strong>. Making one <em><strong>class</strong></em> a<em><strong> sub-class</strong></em> of another just because, in your own mind, you can program something more easily is wrong headed. You will lose points. So make sure every <em><strong>extension</strong></em> of a<em><strong> base class</strong></em> to a <strong><em>derived class</em></strong> bears an &quot;<font color="#0000FF"><b>is a</b></font>&quot; relationship. (-5 points)</p>
    </div>
	<h2>4A.2.2 Method Overriding (Added Member Functions with the Same Names and Signatures)</h2>
	<p>Some <em><strong>methods</strong></em>,   like <span class="codeInLine">toString()</span>, have the <em><strong>same name</strong></em> and <em><strong>signature</strong></em> in <em><strong>base</strong></em> and <em><strong>derived classes</strong></em>.  Here is <span class="codeInLine">toString()</span> in the <em><strong>base class</strong></em>. It prints the <span class="codeInLine">areaCode</span> and <span class="codeInLine">number</span>:</p>
	<pre>   public String toString()
   {
      String result;
      result = &quot;(&quot; + areaCode + &quot;)&quot;
            + number.substring(0,3) + &quot;-&quot;
            + number.substring(3,7);
      return result;
   }</pre>
	<p>Here&apos;s its <em><strong>override</strong></em> in the <em><strong>derived class</strong></em>. We don&apos;t yet know what <strong>super</strong> means, but we will soon. The bottom line is that this <em><strong>override</strong></em> prints all three <strong><em>members</em></strong>,  <span class="codeInLine">areaCode</span>, <span class="codeInLine">number</span> and <span class="codeInLine">extension</span>:</p>
	<pre>   public String toString()
   {
      return super.toString() + &quot;  ext. &quot; + extension;
   }</pre>
	<p>If<span class="codeInLine"> toString()</span> is called through a <em><strong>base class object</strong></em>, then   the <em><strong>base class</strong> version</em> is executed; if it&apos;s called through a<em><strong> derived class   object</strong>,</em> the <em><strong>derived</strong> version</em> gets executed. </p>

<pre>   Phone base = new Phone(&quot;800&quot;, &quot;1234567&quot;);
   PhoneWX sub = new PhoneWX(&quot;313&quot;, &quot;5551234&quot;, &quot;39&quot;);
       
   System.out.println( 
      base.toString() + &quot;\n&quot; 
      + sub.toString()  );</pre>

	<p>The output:</p>
	<pre>(800)123-4567
(313)555-1234  ext. 39</pre>
	<p>The term for this behavior is  <em><strong>function</strong></em> or <em><strong>method</strong></em> <em><strong>overriding</strong></em>.  When you create a <em><strong>method</strong></em> in   your<em><strong> derived class</strong></em> having the <em><strong>same exact signature</strong></em>  as one in your <em><strong>base class</strong></em>, you are <strong><em>overriding</em></strong> the <em><strong>base class method</strong></em>.  Any <em><strong>object</strong></em> of   the <em><strong>derived class</strong></em> will <em><strong>invoke</strong></em> the <em><strong>derived method</strong></em>, not the <em><strong>base method</strong></em>.  As you see   above <span class="codeInLine">sub.toString()</span> calls the <strong>PhoneWX</strong> version of <span class="codeInLine">toString()</span>.</p>
	<div class="parenthetical">The <em><strong>derived</strong></em> <span class="codeInLine">toString()</span> did not <em>have</em> to print all three <em><strong>members</strong></em>. It might have printed only the <span class="codeInLine">extension</span>. The point is, it is a different <em><strong>method</strong></em> than its <em><strong>base class</strong></em> namesake, and a <em><strong>derived object&apos;s</strong></em> <em><strong>call</strong></em> will <em><strong>invoke</strong></em> <em>it</em>, not its <em><strong>base class partner</strong></em>. (We&apos;ll see what <strong>super</strong> does in a few moments.)</div>
	<h2>4A.2.3 Added Member Functions with Different Names or Signatures</h2>
	<p>There are also new <em><strong>member functions</strong></em> in the <em><strong>derived class</strong></em> that   have names which are not part of the <em><strong>base class</strong></em>.  These are <em><strong>new</strong></em>, added <em><strong>methods</strong></em>, and in the above example a few such <em><strong>methods</strong></em> are <strong>getExt(),</strong> <strong>setExt(), showAll()</strong> (different names, not seen in <em><strong>base</strong></em>), and<strong> redialing()</strong> (same name as <em><strong>base</strong></em>, but different <em><strong>signature</strong></em>).   In such   cases, there is no ambiguity.  Only a <em><strong>sub-class</strong></em> <em><strong>object</strong></em> (an <em><strong>object</strong></em> of the <em><strong>derived class</strong></em>) can reference them.  A <em><strong>base class object</strong></em> doesn&apos;t   possess them.</p>
	<p>Here is a new<strong> main()</strong> with some <strong><em>calls</em></strong> that involve two of the newly added and distinctly named <em><strong>methods</strong></em>, <span class="codeInLine">setExt()</span> and <span class="codeInLine">setAll()</span>, along with some <em><strong>base class</strong></em>-only <em><strong>calls</strong></em>, like <span class="codeInLine">setPhNum()</span> and <span class="codeInLine">setBoth()</span>:</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Phone base = new Phone(&quot;800&quot;, &quot;1234567&quot;);
      PhoneWX sub = new PhoneWX(&quot;313&quot;, &quot;5551234&quot;, &quot;39&quot;);

      System.out.println(&quot;base and sub after constructor:&quot;);
      base.showPhone();
      sub.showPhone();
      System.out.println();

      base.setAC(&quot;111&quot;);
      sub.setAC(&quot;999&quot;);
      sub.setPhNum(&quot;7777777&quot;);
      sub.setExt(&quot;99&quot;);

      System.out.println(&quot;base with areaCode set to 111&quot;);
      base.showPhone();
      System.out.println();
      
      System.out.println(&quot;sub with everything changed:&quot;);
      sub.showPhone();
      System.out.println();
      
      base.setBoth(&quot;555&quot;, &quot;5555555&quot;);
      sub.setAll(&quot;222&quot;, &quot;2222222&quot;, &quot;22&quot;);
      
      System.out.println(&quot;base-only call to setBoth() results in&quot;);
      base.showPhone();
      System.out.println(&quot;sub-only call to setAll() results in&quot;);      
      sub.showPhone();
   }
}</pre>

	<p>Here is an output from this <strong>main()</strong>:</p>
	<pre>base and sub after constructor:
(800)123-4567
(313)555-1234  ext. 39

base with areaCode set to 111
(111)123-4567

sub with everything changed:
(999)777-7777  ext. 99

base-only call to setBoth() results in
(555)555-5555
sub-only call to setAll() results in
(222)222-2222  ext. 22    </pre>
	<h2>4A.2.4 Invoking Base Class Methods from Derived Class Definitions</h2>
    
   	<h3>super</h3>
	<p>If a <em><strong>derived class method</strong></em> wants to <em><strong>invoke</strong></em> a <em><strong>base class   method</strong></em> that is <em><strong>overridden</strong></em> in the <em><strong>derived class</strong></em>, there is a potential   problem.  For example, some <em><strong>methods</strong></em> in the <em><strong>derived class</strong></em> want to access the <span class="codeInLine">toString()</span> <strong><em>method</em></strong> of the <em><strong>base class</strong></em>.  If they call <span class="codeInLine">toString()</span> they will get the <em><strong>derived class version</strong></em> that <em><strong>overrides</strong></em> the <em><strong>base class version</strong></em>.    How, then, can the <em><strong>derived class methods</strong></em> get at <em><strong>base class versions</strong></em> in this situation?   <strong>Answer:</strong>  Through use of the <strong>super</strong> keyword. </p>
	<p>Look at <span class="codeInLine">showPhoneWithoutExtension()</span> to see how this is done:</p>
	<pre>   public void showPhoneWithoutExtension()<br/>   {<br/>      System.out.println( super.toString() );<br/>   }</pre>
	<p>Notice how the  <span class="codeInLine">toString()</span>invocation is prefaced with the   keyword<strong> super</strong>. If the  <span class="codeInLine">toString()</span> invocation had   no prefix,  it would have referred to  a <em><strong>method</strong></em> <span class="codeInLine">toString()</span> of the self-same<em><strong> derived class</strong></em> and would have printed out the <span class="codeInLine">extension</span> as well.</p>
	<p>Dereferencing any <em><strong>method</strong></em> using <strong>super</strong> means that we are accessing the   <em><strong>base class</strong></em> version of the <em><strong>method</strong></em>, usually — but not always  — the one we are <em><strong>overriding</strong></em>. <strong>super</strong> can appear inside any <em><strong>methods</strong></em> of the <em><strong>derived class</strong></em>, <strong><em>overriding</em></strong> ones or non-<em><strong>overriding</strong></em> ones (additional).  Its   use is not based on the fact that it appears inside an <em><strong>overriding method</strong></em>, but   that it wants to <em><strong>invoke</strong></em> an <em><strong>overridden</strong></em> <em><strong>method</strong></em> in the <em><strong>base class</strong></em>.</p>
	<h3>Constructors and super</h3>
	<p>In <em><strong>constructors</strong></em>, <strong>super</strong> is   used alone, as in <strong>super(...)</strong>, and means that you want to have the <em><strong>base   class constructor</strong></em> execute, hopefully initializing all <em><strong>base class</strong></em> data.  It   must be the first statement in a <em><strong>constructor</strong></em> if you have it at all (and you   should always have it). </p>

<pre>   public PhoneWX(String ac, String num, String ext)
   {
      super(ac, num);
      
      // now the extension - let mutator do validation
      if ( !setExt(ext) )
         extension = DEFAULT_EXT;
   }</pre>
<h2>4A.2.5 Classifying All the Method Name Possibilities</h2>
<p>We&apos;ve talked about <em><strong>method overriding</strong></em>, and new, <em><strong>distinct methods</strong></em> in the <strong>derived class</strong> without name counterparts in the <em><strong>base class</strong></em>. Let&apos;s summarize this and add a  twist.<strong><em></em></strong></p>
<p>From the point of view of the <em><strong>derived class</strong></em>, when it looks &quot;up&quot; at the <em><strong>base   class</strong></em>, the <em><strong>base methods</strong></em> fall into three categories:</p>
<ol>
  <li><em><strong>Overridden Methods</strong></em> — <em><strong>methods</strong></em> that have the same <em><strong>signature</strong></em> (after <em><strong>default arguments</strong></em> are considered) as   	their counterparts in the <em><strong>derived class</strong></em>.  (Covered above.)</li>
  <li><em><strong>Base-Only Method Names</strong></em> — <em><strong>methods</strong></em> whose <em><strong>names</strong></em> don&apos;t appear at all in the <em><strong>derived class&apos;s namespace</strong></em>. </li>
  <li><strong><em>Overloaded Method Names</em></strong> — <em><strong>methods</strong></em> that have the <em><strong>same name</strong></em><strong></strong> as   	their counterparts in the <em><strong>derived class</strong></em>, but whose <strong><em>signatures</em></strong> (<strong><em>parameter</em></strong> lists) are incompatible their namesakes in the <em><strong>derived class</strong></em>. Same names, <em><strong>different signatures</strong></em>.</li>
  </ol>
<h3>Base-Only Method Names: Unique Call to Base from Derived </h3>
<p>Since we covered <em><strong>bullet 1</strong></em>, lets&apos; now dig into <em><strong>bullet 2</strong></em>.</p>
<p>If a <em><strong>derived class</strong></em> <em><strong>method</strong></em> wants to call a <em><strong> unique base class method</strong></em> (<em><strong>bullet 2</strong></em>), the <em><strong>derived method </strong></em> would do so as if   both it and the<em><strong> base class method</strong></em> were <em><strong>members</strong></em> of the <strong>same   class</strong> (<em>which they are</em>).  We are utilizing this property in <strong>PhoneWX</strong>&apos;s <span class="codeInLine">setAll()</span> definition when we call the <em><strong>base class</strong></em>&apos;s <span class="codeInLine">setBoth()</span>: </p>

<pre>   public boolean setAll(String ac, String num, String ext)
   {
      // set only good args.  bad ones don&apos;t change member
      boolean retValSetBoth, retValSetExt;

      // first base class stuff (unique call to base)
      retValSetBoth = setBoth(ac, num);

      // now derived member
      retValSetExt = setExt(ext);

      // client gets false if anything was bad.
      return retValSetBoth &amp;&amp;  retValSetExt;
   }</pre>
<p> <span class="codeInLine"><img align="left" alt="scenic meadow" border="0" height="167" hspace="17" src="./CS 1B Module 4A Section 2_files/cs_B_common_27.jpg" vspace="7" width="226"/>setBoth() </span>is being called from the <em><strong>derived</strong></em> <span class="codeInLine">setAll()</span>. No   problem here. We let the<em><strong> base class</strong></em> take care of itself, and we go on to deal   with the extra stuff ourselves.  </p>
<p>Also, notice that, as usual when calling   one <em><strong>instance method</strong></em> from another <em><strong>instance method</strong></em> of the same <em><strong>class</strong></em>, we do not   use an <em><strong>object</strong></em> to <em><strong>dereference</strong></em> the <em><strong>call</strong></em>.  The <em><strong>method call</strong></em>, <span class="codeInLine">setBoth(),</span> is assumed to be <em><strong>de-referenced</strong></em> through the implied <span class="codeInLine">this</span>.  Nevertheless, <span class="codeInLine">this.setBoth()</span> is alternate, equivalent way to <em><strong>invoke</strong></em> a <em><strong>sibling method</strong>. </em>(That syntax can be used to get into a <em><strong>base class method</strong></em> — if it is not <em><strong>overriden</strong></em> — since, in that case, it acts like a <em><strong>sibling</strong></em> <em><strong>method</strong></em>.) There is no need to specify the <em><strong>object</strong></em> or the <em><strong>class</strong></em> in this situation because the <em><strong>object</strong></em> that did   the calling (<span class="codeInLine">this</span>), is at the same time a <strong>Phone</strong> <em><strong>object</strong></em> and a <strong>PhoneWX</strong> <em><strong>object</strong></em>. There is only one <em><strong>object</strong></em> (just like you are both a person and a   student, but there is only one <em>you</em>). </p>
<h4>There is no ambiguity either regarding ...</h4>
<ul>
  <li><strong><em>which object</em></strong> is used to make the secondary <em><strong>call</strong></em> (it&apos;s the <span class="codeInLine">*this</span> <em><strong>object</strong></em>), or</li>
  <li><strong><em> which class&apos;s method</em></strong> is being <em><strong>called</strong></em> (only the <em><strong>base class</strong></em> has that <em><strong>method name</strong></em>). </li>
  </ul>
<h3>Overloaded Base Class Method Names: The Scope Resolution Operator ::</h3>
	<p>Now we cover<em><strong> bullet 3</strong></em>.</p>
	<p>If a <em><strong>derived class method</strong></em> wants to <em><strong>invoke</strong></em> a <em><strong>base class   method</strong></em> that is<em><strong> overloaded</strong></em> in the <em><strong>derived class</strong></em>, it has the same problem we encountered in the <em><strong>overriding</strong></em> case (<em><strong>bullet 1</strong></em>). The solution is the same: the <strong>super. </strong>operator.</p>

	<p>Here&apos;s an example in which the <strong>PhoneWX</strong> wants to get at an <em><strong>overloaded</strong></em>, not <em><strong>overridden</strong></em>, <em><strong>method</strong></em> of the <em><strong>base class</strong></em>. <span class="codeInLine">redialing()</span> is a <em><strong>method</strong></em> in both <em><strong>base</strong></em> and <em><strong>derived</strong></em> namespaces, but its <em><strong>signature</strong></em> is different between them. Here&apos;s the <em><strong>base class&apos;s</strong></em> signature:</p>
	<pre>   public String redialing(int numTimes)</pre>
	<p>And here&apos;s the <em><strong>subclass&apos;s</strong></em> signature:</p>
	<pre>   public String redialing()</pre>
	<p>It&apos;s not <em><strong>overridden</strong></em>, it&apos;s <em><strong>overloaded</strong></em>. Imagine a <em><strong>derived class object</strong></em> calling <span class="codeInLine">redialing()</span>. Consider a <strong><em>derived class object </em></strong>instigating the <em><strong>call</strong></em>:</p>
	<pre>herDerived.redialing();</pre>
	<p>The <em><strong>object</strong></em> tells C++ to go to the <em><strong>derived class</strong></em> for the <em><strong>invocation</strong></em>. If there is a <em><strong>derived</strong></em> <em><strong>method</strong></em> named <em><strong>redialing</strong></em> that <em><strong>takes no parameters</strong></em>, the compiler is happy and sends control to the <em><strong>derived method definition</strong></em>:</p>
	<pre>   public String redialing()
   {
      String retStr;

      // chain to base class method AS OVERLOAD, not OVERRIDE
      retStr = &quot;calling extension &quot; + toString() + &quot; only once ...\n&quot;;
      retStr += super.redialing(1);  // super used
      return retStr;
   }</pre>
	<p>To get at the <em><strong>base class</strong></em> (<strong>Phone</strong>&apos;s) <span class="codeInLine">redialing(int)</span>, which has a different <em><strong>signature</strong></em> than the <strong>derived</strong> <strong>PhoneWX </strong><span class="codeInLine">redialing()</span>, it can use the keyword <strong>super</strong>.</p>
    <div class="parenthetical"> You can also argue that, being part of the same <em><strong>class</strong></em>, and therefore <em><strong>inheriting the namespace of the base class</strong></em>, one should be able to forego the extra <strong>super</strong> syntax on the grounds of the <em><strong>same-class</strong></em> aspect of <em><strong>derived</strong></em> and <em><strong>base classes</strong></em> ... <em>and you would be right</em>. Another way to do this is to simply call <span class="codeInLine">redialing()</span> from inside the <em><strong>derived</strong></em> definition, without the dereference. The fact that only the<em><strong> base class</strong></em> version takes an argument disambiguates the <em><strong>call</strong></em> <span class="codeInLine">redialing(1)</span>.<br/>
      <br/>
      <pre>   public String redialing()
   {
      String retStr;

      // chain to base class method AS OVERLOAD, not OVERRIDE
      retStr = &quot;calling extension &quot; + toString() + &quot; only once ...\n&quot;;
      retStr += redialing(1);  // because of argument, 1, must be base call
      return retStr;
   }</pre>
    </div>
<h2>4A.2.5 Private and Protected</h2>
	<p>For ease of reference, I want to repeat   something that I stated earlier, but give it a heading of   its own:  the difference between <strong>Protected</strong> and <strong>Private</strong> data.  We    said that a <em><strong>Derived class methods</strong></em> cannot   access the <strong>private</strong> data of their <em><strong>base class</strong></em>.  That means that <strong>PhoneWX</strong> <em><strong>methods</strong></em> cannot use <span class="codeInLine">areaCode</span> or <span class="codeInLine">number</span> directly.  However, any   <em><strong>member</strong></em> of the <em><strong>base class</strong></em> that is of the <strong>protected</strong> category is   accessible to the <em><strong>derived class member functions</strong></em>.  This is the reason we   create some data as <strong>protected</strong> in a <em><strong>base class</strong></em>.  Other <strong><em>methods</em></strong> that are   not &quot;family&quot;, such as the <em><strong>client</strong></em> method <strong>main() </strong>(of another <em> <strong>package</strong></em>), cannot get at <strong> protected</strong> data.  Only <em><strong>methods</strong></em> in<em><strong> derived classes</strong></em> or in the <em><strong>same package</strong></em> can get at <strong>protected</strong> data.  This technique gives the <em><strong>base class</strong></em> a way to not expose   its <em><strong>members</strong></em> to the outside world (as they would be if they were declared <strong> public</strong>) yet still allow its <em><strong>derived class methods </strong></em>to gain access to them,   including those <em><strong>derived methods</strong></em> in another <em><strong>package</strong></em>.</p>
	<p>We are making use of this in the <strong>protected</strong> <em><strong>base class method</strong></em> i<strong>sNumber().</strong>  <strong>PhoneWX</strong> <em><strong>methods</strong></em> can call this <em><strong>base class function</strong></em> because <strong>PhoneWX</strong> is <em><strong>derived</strong></em> from <strong>Phone</strong>, where <span class="codeInLine">isNumber</span>() is classified as   <strong>protected</strong>.  However we could not call <span class="codeInLine">isNumber()</span> from other <em><strong>methods</strong></em> that are not in the <em><strong>derived class</strong></em> and are listed inside another <em><strong>package</strong></em>.  </p>
	<p>When placing all the classes in a single package or file, the difference   between <strong>public</strong> and <strong>protected</strong> is blurred.  However, in actual   applications most classes are packaged, and their difference is meaningful.</p>
	<h2>4A.2.6 References to Base and Derived Objects</h2>
	<p>There is a universal rule in Java about <em><strong>base class references </strong></em>and<strong><em> derived class references</em></strong>.  It goes like this:</p>
	<div class="important"> Fundamental Law of Base/Derived References
		<p>A<em><strong> base class</strong></em> reference can point to a <em><strong>derived class object</strong></em> without being cast (coerced).  A<em> <strong>derived class</strong> reference</em> can only point to a <em><strong>base class object</strong></em> if a   	<em><strong>type cast</strong></em> is used.</p>
	</div>
<p>Here is an illustration of this rule (these three statements are meant to be   isolated examples and not part of the same chunk of code):</p>

<pre>   base = sub; // okay if base is Phone reference and sub is a PhoneWX reference

   base = new PhoneWX();  // okay, even if base is a Phone reference
      
   sub = (PhoneWX) base;   // cast required - rarely done</pre>

	<p>Sometimes we know that a <em><strong>base class</strong></em> reference happens to be pointing to a   <em><strong>derived class object</strong></em> so we can type <em><strong>coerce</strong></em> the reference to squeeze it into a   <em><strong>derived class</strong></em> reference, then use that reference as a <em><strong>derived object</strong></em>.    However, we have to be careful, because if we are wrong — if the base class   reference we coerced was <em><strong>not</strong></em> actually referencing a <em><strong>derived object </strong></em>— then we will   get a runtime error.  This can be handled, because there is an operator <strong>instanceof</strong> that will help   us check a <em><strong>base class</strong></em> reference before trying to type cast:</p>

<pre>  if (base instanceof PhoneWX)
     sub = (PhoneWX) base; </pre>

	<p>It returns <strong>false</strong> if base is not pointing to a <strong>PhoneWX</strong> and therefore, the   <em><strong>coercion</strong></em> would not happen.</p>
	<h2>4A.2.7 The Entire Listing</h2>
	<p>Here is the full class and client.</p>
	<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Phone meBase = new Phone(&quot;123&quot;, &quot;1234567&quot;);
      PhoneWX herDerived = new PhoneWX(&quot;650&quot;, &quot;7654321&quot;, &quot;77&quot;);
      PhoneWX himDerived = new PhoneWX();

      System.out.println(&quot;\nAfter Constructors:&quot;);
      System.out.print(&quot;ME (BASE) ...   \n   &quot;);
      meBase.showPhone();
      System.out.print(&quot;HER (SUB) ...   \n   &quot;);
      herDerived.showPhone();
      System.out.print(&quot;HIM (SUB) ...   \n   &quot;);
      himDerived.showPhone();

      meBase.setBoth(&quot;408&quot;, &quot;9998877&quot;);
      himDerived.setAll(&quot;415&quot;, &quot;5551234&quot;, &quot;99&quot;);

      System.out.println(&quot;\nAfter setBoth(), setAll():&quot;);
      System.out.print(&quot;ME (BASE) ...   \n   &quot;);
      meBase.showPhone();
      System.out.print(&quot;HER (SUB) ...   \n   &quot;);
      herDerived.showPhone();
      System.out.print(&quot;HIM (SUB) ...   \n   &quot;);
      himDerived.showPhone();

      if (!meBase.setAC(&quot;719498&quot;))
         meBase.setAC(&quot;714&quot;);
      if (!himDerived.setExt(&quot;719&quot;))
         himDerived.setExt(&quot;20&quot;);

      System.out.println(&quot;\nAfter setAC(), setExt():&quot;);
      System.out.print(&quot;ME (BASE) ...   \n   &quot;);
      meBase.showPhone();
      System.out.print(&quot;HER (SUB) ...   \n   &quot;);
      herDerived.showPhone();
      System.out.print(&quot;HIM (SUB) ...   \n   &quot;);
      himDerived.showPhone();

      System.out.println(&quot;\nShowing that toString() calls depend on sub/base obj:&quot;);
      System.out.println( 
            meBase.toString() + &quot;\n&quot; 
                  + herDerived.toString()  );

      System.out.println(&quot;\nUsing accessors:&quot;);
      System.out.println(&quot;ME (BASE) ...\n   &quot;
            + meBase.getAreaCode() + &quot;   &quot;
            + meBase.getNumber());
      System.out.println(&quot;HER (SUB) ...\n   &quot;
            + herDerived.getAreaCode() + &quot;   &quot;
            + herDerived.getNumber() + &quot;   &quot;
            + herDerived.getExt());
      System.out.println(&quot;HIM (SUB) ...\n   &quot;
            + himDerived.getAreaCode() + &quot;   &quot;
            + himDerived.getNumber() + &quot;   &quot;
            + himDerived.getExt());

      System.out.println( &quot;\nLet&apos;s see the number w/out the ext of &apos;her&apos;:&quot;);
      herDerived.showPhoneWithoutExtension();

      System.out.println(&quot;\ndialing():&quot;);
      System.out.println(&quot;ME (BASE) ...\n  &quot;
            + &quot;   &quot; +  meBase.dialing());
      System.out.println(&quot;HER (SUB) ...\n   &quot;
            + &quot;   &quot; +  herDerived.dialing());
      System.out.println(&quot;HIM (SUB) ...\n   &quot;
            + &quot;   &quot; +  himDerived.dialing());

      System.out.println(&quot;\nredialing():&quot;);
      System.out.println(&quot;ME (BASE) ...\n  &quot;
            + &quot;   &quot; +  meBase.redialing(4));
      System.out.println(&quot;HER (SUB) ...\n   &quot;
            + &quot;   &quot; +  herDerived.redialing(3));
      System.out.println(&quot;HIM (SUB) ...\n   &quot;
            + &quot;   &quot; +  himDerived.redialing());
      System.out.println();
   }
}

// Base Class Phone  -----------------------------
class Phone
{
   // private data
   private  String areaCode;
   private  String number;

   // public static constants
   public static final String DEFAULT_AC  = &quot;000&quot;;
   public static final String DEFAULT_NUM  = &quot;0000000&quot;;
   public static final int VALID_PH_NUM_LEN = 7;
   public static final int VALID_AC_NUM_LEN = 3;

   public Phone()
   {
      number = DEFAULT_NUM;
      areaCode = DEFAULT_AC;
   }

   public Phone(String ac, String num)
   {
      if ( !setPhNum(num) )
         number = DEFAULT_NUM;
      if ( !setAC(ac) )
         areaCode = DEFAULT_AC;
   }

   // mutators
   public boolean setPhNum(String num)
   {
      if ( !validPhNumber(num) )
         return false;
      number = num;
      return true;
   }
   public boolean setAC(String ac)
   {
      if ( !validAC(ac) )
         return false;
      areaCode = ac;
      return true;
   }

   public boolean setBoth(String ac, String num)
   {
      // set only good args.  bad ones don&apos;t change member
      boolean retValNum, retValAC;

      retValNum = setPhNum(num);
      retValAC = setAC(ac);

      // client gets false if either was bad.
      return retValNum &amp;&amp; retValAC;
   }

   // accessors
   public String getAreaCode()
   {
      return areaCode;
   }
   public String getNumber()
   {
      return number;
   }

   // stringizers
   public String toString()
   {
      String result;
      result = &quot;(&quot; + areaCode + &quot;)&quot;
            + number.substring(0,3) + &quot;-&quot;
            + number.substring(3,7);
      return result;
   }

   public void showPhone()
   {
      System.out.println(toString());
   }

   // for demonstration
   public String dialing()
   {
      return  &quot;Now dialing &quot; + toString() + &quot;\n&quot;;
   }

   public String redialing(int numTimes)
   {
      int k;

      String retStr = &quot;Trying number &quot; + numTimes + &quot; times ...\n&quot;;

      for (k = 0; k &lt; numTimes; k++)
         retStr += dialing();
      retStr += &quot;done.\n&quot;;

      return retStr;
   }

   // helpers for vetting Phone numbers  --------------------------
   protected static boolean isNumber(String s)
   {
      for(int k = 0; k &lt; s.length(); k++)
         if (!Character.isDigit(s.charAt(k)))
            return false;
      return true;
   }

   private static boolean validPhNumber(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_PH_NUM_LEN))
         return true;
      return false;
   }

   private static boolean validAC(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_AC_NUM_LEN))
         return true;
      return false;
   }
}

//Derived Class PhoneWX  -----------------------------
class PhoneWX extends Phone 
{
   // additional member
   private String extension;

   // public static constants
   public static final String DEFAULT_EXT  = &quot;00&quot;;
   public static final int VALID_EXT_LEN = 2;

   // constructors
   public PhoneWX()
   {
      super();
      extension = DEFAULT_EXT;
   }
   public PhoneWX(String ac, String num, String ext)
   {
      // first, base class stuff
      super(ac, num);

      // now the extension
      if ( !setExt(ext) )
         extension = DEFAULT_EXT;
   }

   // mutators
   public boolean setExt(String ext)
   {
      // first base class stuff
      if ( !validExt(ext) )
         return false;  // don&apos;t change anything, return false
      extension = ext;
      return true;
   }

   public boolean setAll(String ac, String num, String ext)
   {
      // set only good args.  bad ones don&apos;t change member
      boolean retValSetBoth, retValSetExt;

      // first base class stuff (unique call to base)
      retValSetBoth = setBoth(ac, num);

      // now derived member
      retValSetExt = setExt(ext);

      // client gets false if anything was bad.
      return retValSetBoth &amp;&amp;  retValSetExt;
   }

   // accessor
   public String getExt()
   {
      return extension;
   }

   // stringizers
   public String toString()
   {
      return super.toString() + &quot;  ext. &quot; + extension;
   }
   public void showPhone()
   {
      // System.out.println(super.toString() + &quot;  ext: &quot;  + extension );
      // or, easier, just 
      System.out.println( toString() );
   }
   public void showPhoneWithoutExtension()
   {
      System.out.println( super.toString() );
   }

   //overridden
   public String dialing()
   {
      String retStr;

      // chain to base class method
      retStr = super.dialing();

      // now add derived data to console
      retStr += &quot;   (&quot; + toString() + &quot;)\n&quot;;

      return retStr;
   }

   //overloaded
   public String redialing()
   {
      String retStr;

      // chain to base class method AS OVERLOAD, not OVERRIDE
      retStr = &quot;calling extension &quot; + toString() + &quot; only once ...\n&quot;;
      retStr += redialing(1);  // because of argument, 1, must be base call
      return retStr;
   }

   // helper for vetting extensions numbers  --------------------------
   private static boolean validExt(String s)
   {
      if (isNumber(s) &amp;&amp; (s.length() == VALID_EXT_LEN))
         return true;
      return false;
   }
}</pre>
	<p>The run:</p>
	<pre>After Constructors:
ME (BASE) ...   
   (123)123-4567
HER (SUB) ...   
   (650)765-4321  ext. 77
HIM (SUB) ...   
   (000)000-0000  ext. 00

After setBoth(), setAll():
ME (BASE) ...   
   (408)999-8877
HER (SUB) ...   
   (650)765-4321  ext. 77
HIM (SUB) ...   
   (415)555-1234  ext. 99

After setAC(), setExt():
ME (BASE) ...   
   (714)999-8877
HER (SUB) ...   
   (650)765-4321  ext. 77
HIM (SUB) ...   
   (415)555-1234  ext. 20

Showing that toString() calls depend on sub/base obj:
(714)999-8877
(650)765-4321  ext. 77

Using accessors:
ME (BASE) ...
   714   9998877
HER (SUB) ...
   650   7654321   77
HIM (SUB) ...
   415   5551234   20

Let&apos;s see the number w/out the ext of &apos;her&apos;:
(650)765-4321

dialing():
ME (BASE) ...
     Now dialing (714)999-8877

HER (SUB) ...
      Now dialing (650)765-4321  ext. 77
   ((650)765-4321  ext. 77)

HIM (SUB) ...
      Now dialing (415)555-1234  ext. 20
   ((415)555-1234  ext. 20)


redialing():
ME (BASE) ...
     Trying number 4 times ...
Now dialing (714)999-8877
Now dialing (714)999-8877
Now dialing (714)999-8877
Now dialing (714)999-8877
done.

HER (SUB) ...
      Trying number 3 times ...
Now dialing (650)765-4321  ext. 77
   ((650)765-4321  ext. 77)
Now dialing (650)765-4321  ext. 77
   ((650)765-4321  ext. 77)
Now dialing (650)765-4321  ext. 77
   ((650)765-4321  ext. 77)
done.

HIM (SUB) ...
      calling extension (415)555-1234  ext. 20 only once ...
Trying number 1 times ...
Now dialing (415)555-1234  ext. 20
   ((415)555-1234  ext. 20)
done.    </pre>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4a_3.html -->



<a name="17_"></a>


<div class="container">
<div class="content">
	<h1>Section 3 - Building Blocks of A Dynamic Stack</h1>
	<h2>4A.3.1 Linked List Style Programming</h2>
	<p>We are going to take a few minutes to create a new <em><strong>class</strong></em>.  Once we do   that, we can return to <em><strong>inheritance</strong></em> and <em><strong>derived classes</strong></em>. (You might have guessed that the <em><strong>class</strong></em> we create will become a <em><strong>base class</strong></em> for further <strong><em>subclassing</em></strong>.)</p>
	<p> <img align="right" alt="scenic duck art" border="0" height="200" hspace="10" src="./CS 1B Module 4A Section 3_files/cs_B_common_28.JPG" vspace="7" width="300"/>In   a past lesson we created a <em><strong>stack</strong></em> data structure.  We now want to   implement a <em><strong>stack</strong></em> in another manner — one which will give us a   more flexible basis for other solutions. It will be based on a very general data   structure called a <em><strong>linked-list</strong></em>.</p>
	<p><em><strong>Linked lists</strong></em> are powerful structures that are explored in <span class="sectionOrAssignmentTitle">CS   1C</span> and other data structures courses. They can be used for many things besides   creating <em><strong>dynamic stacks</strong></em>.  Our implementation of <em><strong>stacks</strong></em> using <em><strong>linked lists </strong></em>will   reveal the power of <strong><em>linked lists</em></strong>and give you an idea of other things you can do   with them.</p>
	<p>The original stack class we wrote had a <em><strong>fixed-size array</strong></em> inside it.  Instead   of using a fixed-size <em><strong>array</strong></em> we will now  allocate memory only as needed. That is,   every time we get a <span class="codeInLine">push()</span> request, we&apos;ll allocate another <em><strong>object</strong></em> to   hold the item being pushed. That way, our <em><strong>stack</strong></em> will grow and shrink as needed.</p>
	<p>The concepts that we will use besides <em><strong>linked-lists</strong></em> (which we will learn here)   are <em><strong>inheritance</strong></em> (i.e. <em><strong>derived classes</strong></em>) and <em><strong>dynamic memory allocation</strong></em>.</p>
	<h2>4A.3.2 A Small Node Class</h2>
	<p>We  start with a small <em><strong>class</strong></em> that we shall call <strong>StackNode</strong>.  A <strong> StackNode</strong> will hold a single item that is to be pushed onto the <em><strong>stack</strong></em>.  The   plan will be to dynamically create a <strong>StackNode</strong> <em><strong>object</strong></em> whenever the <em><strong>client</strong></em> wants to <strong>push()</strong>, and we will delete that <strong>StackNode</strong> when the <em><strong>client</strong></em> wants to <strong> pop()</strong>.  But don&apos;t worry about <strong>push() </strong>or<strong> pop()</strong>, just yet.    Let&apos;s first create our <strong>StackNode</strong> <em><strong>class</strong></em>.</p>
<pre>//Class StackNode  ----------------------------------
class StackNode
{
   // data (protected allows only certain other classes to access &quot;next&quot; directly)
   protected StackNode next;
    
   // constructor
   public StackNode()
   {
      next = null;
   }
   
   // console display
   public void show()
   {
      System.out.print( &quot;(generic node) &quot;);
   }
}</pre>

	<p>The first thing you will find odd about this <em><strong>class</strong></em> is that the only data is   called <span class="codeInLine">next</span>. <span class="codeInLine">next</span> will turn out to be nothing more than a <em><strong>reference</strong></em> to a <span class="codeInLine">StackNode</span> <em><strong>object</strong></em><strong></strong>.  In other words, the<span class="codeInLine"> next</span> <strong><em>instance member</em></strong> of the<span class="codeInLine"> StackNode</span> <strong><em>class</em></strong> points to another<span class="codeInLine"> StackNode</span> <em><strong>object</strong></em>.  That might sound circular, but it is   actually correct.  What holds these <span class="codeInLine">StackNode</span>s together are the<span class="codeInLine"> <em>next</em></span> &quot;<em>pointers</em>.&quot;  In a given <em><strong>linked-list</strong></em> we would start with the first <span class="codeInLine">StackNode</span> whose <span class="codeInLine">next</span> <em><strong>member</strong></em> would point to the second<span class="codeInLine"> StackNode</span>.  Then the second <strong><span class="codeInLine">StackNode</span></strong>&apos;s<strong> <span class="codeInLine">next</span></strong><em><strong>member</strong></em> would point to the third <span class="codeInLine">StackNode</span>,   and so on. </p>
	<p>You may wonder how we can construct anything useful using a <em><strong>class</strong></em> that has no <em><strong>data</strong></em> beside this <strong> <span class="codeInLine">next</span></strong> <em><strong>member</strong></em>.  There are no <strong>ints</strong>, no <strong>floats</strong>, no <strong>strings</strong>, no <strong>Cards</strong>.  What are we going to be   creating a stack <em><strong>of</strong></em>, exactly, if there is no data?  Great   question.  In fact, we will not be providing data to the <strong> <span class="codeInLine">StackNode</span></strong> now   because we will do that later when we <em><strong>derive</strong></em> a new <em><strong>subclass</strong></em> from <span class="codeInLine">StackNode</span>.  Remember our <span class="codeInLine">Phone</span> and <span class="codeInLine">PhoneWX</span>?  See where   I&apos;m going with this?  We can <em><strong>add data</strong></em> to the <strong><em>base class </em><span class="codeInLine">StackNode</span></strong> by <strong> <em>deriving</em></strong> another <em><strong>class</strong></em> from it.</p>
	<p>But don&apos;t worry about that yet.</p>
	<p>We give a short <strong>main() </strong>that tests the limited functionality of <strong> StackNode</strong>.  Be sure that you understand these fundamental &quot;moves&quot; we are   making.  If you do, then the rest should come easily.</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      StackNode node1 = new StackNode(), node2 = new StackNode();

      // one way to use Stack Nodes
      node1.next = node2;

      // a more common way to use StackNodes
      node2.next = new StackNode();

      for (StackNode p = node1; p != null; p = p.next)
         p.show();
      System.out.println();
   }
 }</pre>

	<p>Here is the output:</p>
	<div class="picCenter"><img alt="console showing three (generic node) strings on one line" border="0" height="161" src="./CS 1B Module 4A Section 3_files/pic_1b4_4.jpg" width="459"/></div>
	<p>See how we linked-up one <em><strong>node</strong></em> with the next?  Also, each <em><strong>node</strong></em> has no   unique data in it, so <strong>show()</strong>ing it will print out the same boring   message for every <strong>Node</strong>:  <span class="codeInLine">(generic node)</span>. </p>
	<p>About the line:</p>

<pre>   protected StackNode next;
</pre>

	<p>Notice that our <span class="codeInLine">next</span> <em><strong>member</strong></em> is not <strong>public</strong>.  We declare   <em><strong>members</strong></em> of certain <em><strong>classes</strong></em> to be <strong>protected</strong>.  This allows only <em><strong>classes</strong></em> that are in the same <strong>package</strong> to access<strong> <span class="codeInLine">next</span> </strong>directly, so our   programmer/users of the <em><strong>class</strong></em>, not being in the same <strong>package</strong>, will not be able   to tinker with this <strong><em>member</em></strong>.  We don&apos;t want to declare it <strong>private</strong> because there are some anticipated <em><strong>classes</strong></em>, like <strong>FloatNode</strong> and <strong>Stack</strong>,   that will need to modify this <em><strong>member</strong></em> — <em>even if they are in different <strong>packages</strong></em>. The <em><strong>client</strong></em> <strong>main()</strong> was able to access the<strong> <span class="codeInLine">next</span> </strong><em><strong>member</strong></em> and this seems like it leads to   potential security problems, but don&apos;t forget that this <strong><em>main</em> Foothill </strong> <em><strong>class</strong></em> is only your personal test <em><strong>class</strong></em>.  <em><strong>Classes</strong></em> built by other programmers that use <strong>StackNode</strong> <em><strong>objects</strong></em> will not be part of your package and the <strong>protected</strong> keyword applied to <span class="codeInLine">next</span> means that to these &quot;outside&quot; <em><strong>classes</strong></em>,<strong> <span class="codeInLine">next</span> </strong>will behave as if it   were <strong>private</strong>, exactly what we want.</p>
	<h2>4A.3.4 Entire Listing</h2>
	<p>Here&apos;s everything in one copy/paste-able window:</p>
	<pre>public class Foothill
{
   public static void main (String[] args)
   {
      StackNode node1 = new StackNode(), node2 = new StackNode();

      // one way to use Stack Nodes
      node1.next = node2;

      // a more common way to use StackNodes
      node2.next = new StackNode();

      for (StackNode p = node1; p != null; p = p.next)
         p.show();
      System.out.println();
   }
}


//Class StackNode  ----------------------------------
class StackNode
{
   // data (protected allows only certain other classes to access &quot;next&quot; directly)
   protected StackNode next;

   // constructor
   public StackNode()
   {
      next = null;
   }

   // console display
   public void show()
   {
      System.out.print( &quot;(generic node) &quot;);
   }
}

/* -------------------------- RUN ------------------- 

(generic node) (generic node) (generic node) 

----------------------------------------------------- */</pre>
	<p>This is a rough idea of   how we can use <span class="codeInLine"> StackNode</span> to build a larger <em><strong>stack</strong></em>.  In fact, let&apos;s get   to that <strong><em>stack</em></strong> next.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4a_4.html -->



<a name="18_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - The Stack Class</h1>
	<h2>4A.4.1 The Picture of a List-Based Stack</h2>
	<p>Now that we&apos;ve defined the basic <strong>StackNode</strong> class, I can show you a   picture of the plan.  Our stack will consist of a list of nodes linked   together. The <em><strong>top</strong></em> of the <em><strong>list</strong></em> will be the first <strong>StackNode</strong> in the <em><strong>list</strong></em>.    Say we have <strong><em>StackNodes</em></strong> <span class="codeInLine">sn1</span>, <span class="codeInLine">sn2</span>, etc.  Here is the picture if we   have <span class="codeInLine">push()</span>ed <span class="codeInLine">sn1, sn2, sn3 </span>and<span class="codeInLine"> sn4</span>, in that order:</p>

<pre>top → sn4  →  sn3 →  sn2  → sn1 → null
</pre>

	<p>The last node in the <strong>list</strong> has a <span class="codeInLine">null</span> in its <span class="codeInLine">next</span> field, which   is how we know it is the end of the list.  The <span class="codeInLine">top</span> is simply a   reference to   a <strong>StackNode</strong> and is not itself a full <strong><em>node</em></strong>.  Each of the other items in   the <em><strong>list</strong></em> is a <strong>StackNode</strong>.</p>
	<p>If we <em><strong>instantiate</strong></em> a new <em><strong>node</strong></em>, <span class="codeInLine">snNew</span>, and <span class="codeInLine">push()</span> it onto the <em><strong>stack</strong></em>, it   would go at the <em><strong>top</strong></em>.  Here is the <em><strong>stack</strong></em> after a <span class="codeInLine">stk.push(snNew)</span>:</p>

<pre>top → snNew → sn4  →  sn3 →  sn2  → sn1 → null
</pre>

	<p>Now if we <span class="codeInLine">pop()</span>ped two items off the <strong><em>stack</em></strong>, they would be <span class="codeInLine">snNew</span> and <span class="codeInLine">sn4</span>,   leaving us with:</p>
<pre>top → sn3 →  sn2  → sn1 → null
</pre>
	
	<p>This is the picture you should keep in your head as you follow the current   discussion.</p>
	<h2>4A.4.2 A Stack of Generic Data-less StackNodes</h2>
	<p>We complete the current phase by creating a second <em><strong>class</strong></em> (not <em><strong>base</strong></em> or   <em><strong>derived</strong></em>, just a second <em><strong>class</strong></em>) called <strong>Stack</strong> that uses the <strong>StackNodes</strong>.     Here is the <em><strong>class</strong></em>:</p>

<pre>// Class Stack ---------------------------------------
class Stack
{
   // pointer to first node in stack
   private StackNode top;

   // constructor
   public Stack()
   {
      top = null;
   }

   public void push(StackNode newNode)
   {   
      if (newNode == null) 
         return;   // emergency return
      newNode.next = top;
      top = newNode;
   }  

   public StackNode pop()
   {
      StackNode temp;

      temp = top;
      if (top != null)
      {
         top = top.next; 
         temp.next = null; // don&apos;t give client access to stack!
      }
      return temp;      
   }

   // console display
   public void showStack()
   {
      StackNode p;

      // Display all the nodes in the stack
      for( p = top; p != null; p = p.next )
         p.show();
   }
}</pre>
<h3>About <strong>push()</strong></h3>

	<p>We immediately   notice something interesting.  A <strong>Stack</strong> contains nothing more than a   single   <strong>StackNode</strong> <em>reference</em>  (set to <span class="codeInLine">null</span> initially).  How can any <em><strong>class</strong></em> that contains only   one reference potentially hold the hundreds or thousands of <strong>StackNodes</strong> that   we are going to <span class="codeInLine">push() </span>onto it?  Simple.  As we <span class="codeInLine">push() </span>items onto the <strong>Stack</strong>, we will allocate new <strong>StackNodes</strong>.  That pointer, <span class="codeInLine">top</span>, is going to   point to the first item on the <strong>Stack</strong>, and from there, each item will   point to the next.  It is like a railroad train: the engine pulls only one car   directly.  But that car pulls the next which pulls the next, etc. </p>
	<p>Also, we see that this <strong>Stack</strong> takes references to pre-built <strong>StackNodes</strong> for its<span class="codeInLine"> push()</span> operation (we are testing for non-<span class="codeInLine">null</span>, that&apos;s how we know   it wants a pre-built <em><strong>object</strong></em>). The <em><strong>client</strong></em> must <strong>new</strong> the node and pass   its pointer to <span class="codeInLine">push()</span>. </p>
	<h3>About <strong>pop()</strong></h3>
	<p>Similarly, <span class="codeInLine">pop()</span> returns a reference to a <strong>StackNode</strong>. Then the   <em><strong>client</strong></em> can process the <strong>StackNode</strong> itself. You   will see how this gets used next. </p>
	<p>What about statements like these?</p>
<pre>   top =  top.next;

   p = p.next;
</pre>
	
	<p>These are the essence of <em><strong>linked-list</strong></em> programming. <span class="codeInLine">top</span> and <span class="codeInLine">p</span> are<strong> StackNode <em>references</em></strong>, and this is the way in which a <strong>StackNode</strong> <em><strong>reference</strong></em> moves ahead one <em><strong>node</strong></em> in the <em><strong>list</strong></em>.  It&apos;s the<em><strong> linked-list</strong></em> equivalent of <span class="codeInLine">k++</span><strong>,</strong> for an <strong>int</strong>, <span class="codeInLine">k</span><strong>.</strong></p>
	<p>Whatever <strong><em>node</em></strong> <span class="codeInLine"> top (or p) </span>was pointing to, <em>after</em> this statement it will be   pointing to the <em><strong>successor</strong></em> of that <em><strong>node</strong></em>.  Why?  Because <span class="codeInLine">top.next</span> points to   the next <em><strong>node</strong> after </em>the <em><strong>node</strong></em> pointed to by <span class="codeInLine">top</span>. We are copying the <em><strong>reference</strong></em> from   the <span class="codeInLine">next</span> <em><strong>member</strong></em> of  <strong><em>node</em></strong><span class="codeInLine"> top</span>  into the <em><strong>reference</strong></em> <span class="codeInLine">top</span>,   itself, replacing the old <em><strong>reference</strong></em> with the new, updated <em><strong>reference</strong></em>.</p>
	<p>Here is a <strong>main() </strong>that utilizes the above classes.</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Stack stk = new Stack();
      StackNode p;

      // build the stack
      for (int k = 0; k &lt; 5; k++)
      {
         p = new StackNode();
         stk.push(p);
      }

      // show the stack
      while ( (p = stk.pop()) != null)
         p.show();
      System.out.println();
   }
 }</pre>

	<p>Here is the output:</p>
	<div class="picCenter"><img alt='console showing 5 &quot;(generic node)&quot; strings all on the same line.' border="0" height="161" src="./CS 1B Module 4A Section 4_files/pic_1b4_5.jpg" width="641"/></div>
	<p>I know this is a dizzying example because all of the nodes look exactly   alike.  We don&apos;t have any real data in our <strong>StackNodes</strong>. This example is   just to show you how the base classes get used so that when we derive   sub-classes from them, you will already be familiar with the fundamentals.</p>
	<p>I did not try to use the <span class="codeInLine">Stack.showStack()</span> method in this example   because I&apos;m saving that for a future lecture.  In the above example, I am just   using the individual <span class="codeInLine">StackNode&apos;s show()</span> method to show each node as we   pop it off the stack in a <em><strong>loop</strong></em>.</p>
	<p>As usual, I want you to copy/paste the code into your compiler, run the   program and make changes to the <strong>main() </strong>so you can experiment with your own   manipulation of this elegant <em><strong>class</strong></em>.  I will put the entire listing in the next   section so it is easy for you to access.</p>
	<h2>4A.4.3 Security Considerations</h2>
	<p>The very astute among you might have noticed that the line in <strong>Stack&apos;s</strong> <span class="codeInLine">pop()</span> <em><strong>method</strong></em> that reads</p>

<pre>   temp.next = null;   // don&apos;t give client access to stack
</pre>

	<p>does not really remove all the security hazards in this <strong>Stack</strong> <em><strong>class</strong></em>.    The purpose of this line is to zero-out the <span class="codeInLine">next</span> pointer of the popped   node prior to giving it to the client.  In that way, the <em><strong>client</strong></em> can&apos;t use   that node to poke into the list and change links, destroying its integrity   (think about  <span class="codeInLine"><font color="#CC3300">naughtyNode = stk.pop();</font></span> followed   by <font class="codeInLine" color="#CC3300">naughtyNode.next.next = null;</font>).    The above statement disallows this, so that hole is plugged.</p>
	<p>Fine, but the fact is the client <em>already</em> has a way into the <em><strong>stack</strong></em>. It   can use <em>any</em> <em><strong>node</strong></em> that it pushes then access the list of nodes through   that pushed-node.  Play with this and you&apos;ll find a way in.  So, we   really do have an insecure class after all, and the well-meaning measures inside <span class="codeInLine">pop()</span> don&apos;t solve these other problems.  These don&apos;t present a real concern, however, for the following reasons.</p>
	<ol>
		<li>This class is not for public consumption  — we will wrap it in secure   	derived <strong>Stack</strong> <em><strong>classes</strong></em> that the <em><strong>client</strong></em> will use.  It will be the   	job of these other, <em><strong>derived</strong></em>, <strong>Stack</strong> <em><strong>classes</strong></em> to protect themselves, and   	no amount of client shenanigans will be able to penetrate their veil.</li>
		<li>This <em><strong>class</strong></em> is a demonstration of re-usability through <em><strong>inheritance</strong></em>.    	It is not about security.  We have other means of making the classes   	secure, and when I present linked lists later on, I will talk about them.</li>
		<li>You can fix these problems here-and-now by providing enough <strong>private</strong> modifiers and other <em><strong>methods</strong></em> in the appropriate places, but it isn&apos;t worth   	the hassle given, 1. and 2., above.</li>
	</ol>
	<h2>4A.4.4 The Entire Listing</h2>
	<p>For copy/pasting, here&apos;s the entire program in  single file mode.</p>
	<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Stack stk = new Stack();
      StackNode p;

      // build the stack
      for (int k = 0; k &lt; 5; k++)
      {
         p = new StackNode();
         stk.push(p);
      }

      // show the stack
      while ( (p = stk.pop()) != null)
         p.show();
      System.out.println();
   }
 }

//Class StackNode  ----------------------------------
class StackNode
{
   // data (protected allows only certain other classes to access &quot;next&quot; directly)
   protected StackNode next;

   // constructor
   public StackNode()
   {
      next = null;
   }

   // console display
   public void show()
   {
      System.out.print( &quot;(generic node) &quot;);
   }
}

// Class Stack ---------------------------------------
class Stack
{
   // pointer to first node in stack
   private StackNode top;

   // constructor
   public Stack()
   {
      top = null;
   }

   public void push(StackNode newNode)
   {   
      if (newNode == null) 
         return;   // emergency return
      newNode.next = top;
      top = newNode;
   }  

   public StackNode pop()
   {
      StackNode temp;

      temp = top;
      if (top != null)
      {
         top = top.next; 
         temp.next = null; // don&apos;t give client access to stack!
      }
      return temp;      
   }

   // console display
   public void showStack()
   {
      StackNode p;

      // Display all the nodes in the stack
      for( p = top; p != null; p = p.next )
         p.show();
   }
}

/* -------------------------- RUN ------------------- 

(generic node) (generic node) (generic node) (generic node) (generic node) 


----------------------------------------------------- */</pre>
	</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4a_5.html -->



<a name="19_"></a>


<div class="container">
<div class="content">
	<h1>Section 5 - The Complete Listing in Multiple Files</h1>
	<h2>4A.5.1 Multi-File Structure</h2>
	<p>To help you get used to multi-file projects, which I introduced last week, I&apos;m going to walk you through   the process of placing the <em><strong>classes</strong></em> <strong>StackNode</strong> and <strong>Stack</strong> into separate files <strong> StackNode.java </strong>and<strong> Stack.java</strong>,    leaving only the main <em><strong>class</strong></em> (which is called <strong>Foothill</strong> in my project) in   my main file, <strong>Foothill.java</strong>.</p>
	<p>This will help in the next lesson when we derive new classes from these <strong><em>base   classes</em></strong>.  It will make our main file less cluttered.</p>
	<h2>4A.5.2 Two New Files: Stack.java and StackNode.java </h2>
	<p>Using the method I described in a previous lecture, add a new class <strong> Stack</strong> to your Foothill folder in the package explorer window.  </p>
	<ul>
		<li>Right click on <strong>Foothill</strong>, select <strong>Add → New → Class</strong>    	(adjust if your <em><strong>main class</strong></em> is not called <strong>Foothill</strong>):<br/>
		  <br/>
		  <div class="picCenter"><img alt="console shot" border="2" height="130" src="./CS 1B Module 4A Section 5_files/pic_1b4_7.jpg" width="542"/>  </div>
		</li>
	</ul>
	<ul>
		<li>Name the file <strong>Stack</strong>:<br/>
		  <div class="picCenter"><img alt='The name field is being changed to &quot;Stack&quot;' border="2" height="109" src="./CS 1B Module 4A Section 5_files/pic_1b4_8.jpg" width="266"/>  </div>
		  <br/>
	  </li>
		<li>You will see an empty <strong>Stack</strong> <em><strong>class</strong></em> definition.  Get ready to delete   	it and replace it with your <em><strong>classes</strong></em>.<br/>
		  <div class="picCenter"><img alt='The Stack.java file is shown and it contains an empty &quot;public class Stack { } ' border="2" height="137" src="./CS 1B Module 4A Section 5_files/pic_1b4_9.jpg" width="290"/>  </div>
		  <br/>
		</li>
		<li>Go to your main <strong>Foohill.java</strong> file, cut the <strong>Stack</strong> class and paste   	it into this <strong>Stack.java</strong> file, overwriting the   	blank public class<strong> Stack{ }</strong> in that file.  Add the keyword <strong>public</strong> in   	front of the <strong>Stack</strong> class. <br/>
			 </li>
		<li>Repeat the process, creating a new <strong>StackNode</strong> class in this   	project, removing the <strong>StackNode</strong> class from the main file and placing   	it into its own <strong>StackNode.java</strong> file.</li>
	</ul>
	<h2>4A.5.3 The Project State</h2>
	<p>When done, you will have the following three files and contents:</p>
	<h4>Stack.java</h4>

<pre>//Class Stack ---------------------------------------
public class Stack
{
   // pointer to first node in stack
   private StackNode top;
   
   // constructor
   public Stack()
   {
      top = null;
   }
   
   public void push(StackNode newNode)
   {   
      if (newNode == null) 
         return;   // emergency return
      newNode.next = top;
      top = newNode;
   }  
   
   public StackNode pop()
   {
      StackNode temp;
     
      temp = top;
      if (top != null)
      {
         top = top.next; 
         temp.next = null; // don&apos;t give client access to stack!
      }
      return temp;      
   }

   // console display
   public void showStack()
   {
      StackNode p;
      
      // Display all the nodes in the stack
      for( p = top; p != null; p = p.next )
         p.show();
   }
}</pre>


	<h4>StackNode.java</h4>

<pre>//Class StackNode  ----------------------------------
public class StackNode
{
   // data (we allow Stack class public access)
   protected StackNode next;
    
   // constructor
   public StackNode()
   {
      next = null;
   }
   
   // console display
   public void show()
   {
      System.out.print( &quot;(generic node) &quot;);
   }
}</pre>

	<h4>Foothill.java</h4>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Stack stk = new Stack();
      StackNode p;

      // build the stack
      for (int k = 0; k &lt; 5; k++)
      {
         p = new StackNode();
         stk.push(p);
      }

      // show the stack, deleting as you pop
      while ( (p = stk.pop()) != null)
         p.show();
      System.out.println();
   }
 }</pre>

	<p>Now compile and run your program to make sure it produces the following   output:</p>
	<div class="picCenter"><img alt='console with five strings &quot;(generic node)&quot; all on one line' border="0" height="161" src="./CS 1B Module 4A Section 5_files/pic_1b4_6.jpg" width="641"/>  </div>
	<p>You have created a generic <em><strong>stack</strong></em> data structure using <em><strong>linked-list</strong></em> principles.  You have also learned how to derive <em><strong>subclasses</strong></em> from <em><strong>base classes</strong></em>.    In the next <span class="sectionOrAssignmentTitle">Module</span>, in a couple days, you will put these together to see how we   can build <em><strong>stacks</strong></em> of <strong>floats, doubles, </strong>or even <strong>Cards</strong> without   duplicating the <em><strong>stack</strong></em> logic from the <em><strong>base classes</strong></em>.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4b_1.html -->



<a name="20_"></a>


<div class="container">
<div class="content">
	<h1>Section 1 - Deriving a FloatNode </h1>
	<h2>4B.1.1 Building From a Base Class</h2>
	<p align="left"> <img alt="sst pic" border="0" height="200" src="./CS 1B Module 4B Section 1_files/cs_B_common_30.JPG" width="300"/></p>
	<p>Let&apos;s say we wish to create an actual stack of <strong>floats</strong> from our generic   stack of &quot;nothings&quot;.  The first step will be to create a new <em><strong>node</strong></em> called <strong> FloatNode</strong>.  <strong>FloatNode</strong> will be derived from <strong>StackNode</strong> and   therefore will not have to duplicate any data or linkage methods.  It only  adds <strong>float</strong> <strong>data</strong> to it.  That&apos;s what<em><strong> deriving classes</strong></em> is all about.</p>
	<p>This process is beautifully simple.  Here is the <strong>FloatNode</strong> <em><strong>class</strong></em> which I will place in the main <strong>Foothill.java</strong> file:</p>

<pre>// imports go at the top of whatever .java file this appears.
import java.util.*;
import java.text.*;

class FloatNode extends StackNode
{
   // additional data for subclass
   private float data;
   
   // constructor
   public FloatNode(float x)
   {
      super();  // constructor call to base class
      data = x;
   }
   
   // accessor
   public float getData()
   {
      return data;
   }

   // overriding show()
   public void show()
   {
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(4);
      
      System.out.print(&quot;[&quot; + tidy.format(data) + &quot;] &quot;);
   }
}</pre>

	<p>As you see, it is <em><strong>derived</strong></em> from <strong>StackNode</strong>.  It has only one <em><strong>member</strong></em>, the <strong><em>float</em></strong> <span class="codeInLine">data</span>.  It has one <em><strong>constructor</strong></em>, and it <em><strong>overrides</strong></em> the <span class="codeInLine">show()</span> <em><strong>method</strong></em> of the <em><strong>base class</strong></em>. I added some fancy number formatting just to make sure the <strong>floats</strong> are printed   out neatly, and that could be omitted to make the <em><strong>class</strong></em> even simpler.  Notice   how you have to know very little<em> </em>about the <em><strong>base class</strong></em> <em><strong>nodes</strong></em>.  You only   add the <strong>float <em>data</em></strong> and <strong><em>methods</em></strong> that manipulate that <em><strong>data</strong></em>. </p>
	<h2>4B.1.2 Function Chaining</h2>
	<p>One thing worth repeating is the <em><strong>constructor call</strong></em> to the <em><strong>base class</strong></em>:</p>

<pre>   // constructor
   public FloatNode(float x)
   {
      super();  // constructor call to base class
      data = x;
   }</pre>

	<p>This is very common and advisable.  It is called <em><strong>function chaining:</strong></em>    calling a <em><strong>base class</strong></em> version of the same <em><strong>method</strong></em> you are defining.  It is often   used in <em><strong>constructors</strong></em> (where it is called <em><strong>constructor chaining)</strong></em> but   it can appear in any <em><strong>methods</strong></em> that <em><strong>override base class methods</strong></em> of the same name. </p>
	<div class="parenthetical"> You should always <em><strong>invoke</strong></em> your <em><strong>base class constructor</strong></em> from your <em><strong>derived class constructor</strong></em>.  That way you will know that the <em><strong>base class</strong></em> data is   properly initialized.  </div>
	<h2>4B.1.3 Working Directly with the FloatNode Class</h2>
	<p>We  stop a moment to try out our new <strong>FloatNodes</strong>.  This is not   something you would normally do in your ultimate <em><strong>client</strong></em>, but it helps to see how <strong> FloatNodes</strong> can be manipulated.</p>

<pre>import java.util.*;
import java.text.*;

public class Foothill
{
   public static void main (String[] args)
   {
      FloatNode flt1 = new FloatNode(3.33F), 
         flt2 = new FloatNode(4.44F), flt3 = new FloatNode(5.55F), p;

      // link up our three FloatNodes
      flt1.next = flt2;
      flt2.next = flt3; 

      // show the stack
      for ( p = flt1; p != null; p = (FloatNode)(p.next) )
      {
         p.show();
      }
      System.out.println();
   }
 }</pre>

	<p>It is very simple.  There is one phrase that confuses us, but we can   explain that:</p>

<pre>   p = (FloatNode)(p.next)
</pre>

	<p>We would like this phrase to be </p>

<pre>   p = p.next
</pre>

	<p>After all, this is the iteration step in our for loop, and we already saw   that this is how a <em><strong>node pointer</strong></em>, <span class="codeInLine">p</span>, takes a step to the next <em><strong>node</strong></em>.  The problem   is that <span class="codeInLine">p.next </span>is a <strong>StackNode  </strong>type and <span class="codeInLine">p</span> is a <strong>FloatNode  </strong>type.    Remember the golden rule of <strong><em>assignments</em></strong> between <em><strong>base</strong></em> and <em><strong>subclass</strong></em> types?  Therefore, we do a type <em><strong>cast</strong></em> (<em><strong>coercion</strong></em>) to force the types to   be compatible.  Besides that, the linking up of the data is the same as if they were ordinary <strong>StackNodes</strong>.</p>
	<p>Here is the run:</p>
	<div class="picCenter"><img alt="console showing [3.33] [4.44] [5.55]" border="0" height="161" src="./CS 1B Module 4B Section 1_files/pic_1b4_10.jpg" width="452"/></div>
	<p>But we want to do better than this.  We want a <strong>FloatStack</strong>, and we want   the <strong>main()</strong> to look much cleaner.  Once you understand the above, you can turn   the page to see the next, exciting step.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4b_2.html -->



<a name="21_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - Deriving a FloatStack Class</h1>
	<h2>4B.2.1 Extending the Stack Class</h2>
	<p>Next we derive a <strong>FloatStack</strong> <em><strong>class</strong></em> from the <strong>Stack</strong> <em><strong>class</strong></em>.  This   has some medium-sized logic in it, but what we do here will be easy to duplicate for   other data types like<strong> ints, Strings, Cards,</strong> etc.</p>
	<h2>4B.2.2 The FloatStack </h2>
	<p>Here it is.  </p>

<pre>class FloatStack extends Stack
{
   public static final float STACK_EMPTY = Float.MIN_VALUE;

   public void pushFloat(float x)
   {
      // don&apos;t allow pushing of STACK_EMPTY 
      if (x == STACK_EMPTY)
         return;    // could throw an exception when we learn how
      // create a new FloatNode
      FloatNode fp = new FloatNode(x);
   
      // push the StackNode onto the stack (base class call)
      super.push(fp);
   }

   public float popFloat()
   {
      // pop a node
      FloatNode fp = (FloatNode)pop();
      if (fp == null)
         return STACK_EMPTY;
      else
         return fp.getData();
    }
}</pre>

	<p>As you see, there is no new private data, but I have added one class constant to help the   client determine if the <em><strong>stack</strong></em> is empty.  We&apos;ll see how this works later.  We did not <em><strong>override</strong></em> the <span class="codeInLine">push() </span> and<span class="codeInLine"> pop() </span><strong><em>methods</em></strong> of the <em><strong>base class</strong></em> but rather added new <span class="codeInLine">pushFloat()</span> and <span class="codeInLine">popFloat()</span> <em><strong>methods</strong></em>.  This is because the <span class="codeInLine">push() </span>and <span class="codeInLine">pop()</span> <em><strong>methods</strong></em> of the <em><strong>derived class</strong></em>, require different <em><strong>signatures</strong></em> than that of the <em><strong>base class</strong></em> (which has no knowledge of <strong>floats</strong>).  This kind of design can be improved as we learn more Java,   but it works fine for us here.</p>
	<p><strong>Also look:</strong> In this higher level <em><strong>class</strong></em>, we are giving   our <em><strong>client</strong></em> simple <strong>floats</strong> to <em><strong>push</strong></em> and <em><strong>pop</strong></em><strong></strong>.<em> Of course</em>. Our <em><strong>client</strong></em> does not need   to know anything about <strong>StackNodes</strong> or <strong>FloatNodes</strong>.  So they will <em><strong>push</strong></em> a <strong>float</strong> and   <em><strong>pop</strong></em> a <strong>float</strong>.  Nice.</p>
	<p>This means, however, that it will be our job  (as <strong>FloatStack</strong> designers) to create <strong>FloatNodes</strong> if we are going to make such tasks transparent to our <em><strong>client</strong></em>.  It isn&apos;t that   hard.  We  have everything we need to make this work.<br/>
	</p>
	<p>Let&apos;s take the two method definitions separately.</p>
	<h3>pushFloat()</h3>
	<p>Because the <em><strong>signature</strong></em>  is different from that of the<em><strong> base class</strong></em> <span class="codeInLine">push()</span>, we have to give this <em><strong>method</strong></em> a new name; we can&apos;t employ an <em><strong>override</strong></em>.</p>
	<p>We are accepting an ordinary <strong>float</strong> <em><strong>parameter</strong></em> from our <em><strong>client</strong></em>. First,   we disallow the <strong>float</strong> <span class="codeInLine">STACK_EMPTY</span>, so we are free to use that value to flag an <em><strong>empty stack error</strong></em>, later  in <span class="codeInLine">popFloat()</span>.  If all is well,,  we have to build a new <strong>FloatNode</strong> around <span class="codeInLine">x</span>.  That&apos;s the line <span class="codeInLine">FloatNode fp = new FloatNode(x)</span>.  The  last line of that <em><strong>method</strong></em> is   where we push that <em><strong>node</strong></em> onto the <em><strong>stack</strong></em>.  Our <em><strong>base class</strong></em> <strong>StackNode</strong> gives us a <span class="codeInLine"> push()</span> operation already, so we simply <em><strong>call</strong></em> that <em><strong>method</strong></em>.  Since it is   not an <em><strong>overridden</strong></em> <em><strong>method</strong></em>, we don&apos;t <em>have</em> to use <span class="codeInLine">super.push(fp)</span> (even though it&apos;s fine if we do). We could have called it as if it   were a <em><strong>method</strong></em> of the same <em><strong>class</strong></em> (which, as I said before, it is). Then it would have been simply <span class="codeInLine">push(fp)</span>. </p>
	<h3>popFloat()</h3>
	<p>Because the <em><strong>signature</strong></em> is different from that of the<em><strong> base class</strong></em> <span class="codeInLine">pop()</span>, we have to give this <em><strong>method</strong></em> a new name; we can&apos;t employ an <em><strong>override</strong></em>.</p>
	<p>We need to return a <strong>float</strong>.  To do so, we <span class="codeInLine">pop()</span> a <strong>StackNode</strong> off the <strong>Stack</strong>.  Again, we   just <em><strong>call</strong></em> <span class="codeInLine">pop()</span> of the <em><strong>base class</strong></em>, which will   produce a <strong>StackNode</strong> for us, then type <em><strong>coerce</strong></em> it to a <strong>FloatNode</strong> reference, so we can use the <em><strong>accessor</strong></em>, <span class="codeInLine">getData()</span> to retreive the <strong>float</strong> data.  If the base call to  <span class="codeInLine">pop()</span> returned a non- <span class="codeInLine">null</span>,  we received a valid <strong>FloatNode</strong> from the <span class="codeInLine">pop() </span> operation which means we can read its value from its <span class="codeInLine">data</span> <em><strong>member</strong></em> and return it to the <em><strong>client</strong></em>. </p>
	<p>However, if the <em><strong>base class</strong></em> <span class="codeInLine">pop()</span> returned a <span class="codeInLine">null</span>,  the <em><strong>stack</strong></em> was <em><strong>empty</strong></em>, so we return the highly unlikely <strong>float</strong>, <span class="codeInLine">STACK_EMPTY</span>, a <strong>public final</strong> that our <em><strong>client</strong></em> can test for.</p>
	<h3>Summary</h3>
	<p>This is how we derive a <strong>FloatStack</strong> from a generic <strong>Stack</strong>.  This might seem   complicated, but the thing to focus on is that you do not have to think about   next pointers, linked lists or any details of the <span class="codeInLine">push()</span> and<span class="codeInLine"> pop() </span>operation   from the underlying <strong>Stack</strong> <em><strong>class</strong></em>.  They will just &quot;work&quot; perfectly. That was the <strong>Stack</strong> designer&apos;s job. Our only job is to convert the <strong>float</strong> data to nodes and back for   our client.</p>
	<p>Next, we see how the <em><strong>client</strong></em> uses this great new class of ours.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4b_3.html -->



<a name="22_"></a>


<div class="container">
<div class="content">

	<h1>Section 3 - Using the FloatStack Class</h1>
	<h2>4B.3.1 Our Client</h2>
	<p>Our <em><strong>client</strong></em> is very simple because we have provided it with a beautiful <strong>FloatStack</strong> <em><strong>class</strong></em>.  Have a look:</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      FloatStack fstk = new FloatStack();
      float f;

      fstk.pushFloat(1.1F);
      fstk.pushFloat(2.2F);
      fstk.pushFloat(3.3F);
      fstk.pushFloat(4.4F);
      
      for (int k = 0; k &lt; 5; k++)
         if ( (f = fstk.popFloat()) != FloatStack.STACK_EMPTY)
            System.out.print( f + &quot; &quot;);
         else
            System.out.print(&quot;(empty stack) &quot;);
      System.out.println();
   }
 }</pre>

	<p>And here is the output:</p>

<pre>4.4 3.3 2.2 1.1 (empty stack)
</pre>

	<h2>4B.3.2 Other Types of Stacks</h2>
	<p>Now that we&apos;ve done this with a <strong>float</strong> type, can you do the same thing with   some other type?   How about a stack of <strong>Strings</strong>?  Or <strong>Cards</strong>?</p>
	<p>Here are some hints to help you:</p>
	<ul>
		<li>You don&apos;t really need a <span class="codeInLine">show()</span> <em><strong>method</strong></em> in your <em><strong>derived</strong></em> <strong>Node</strong> <em><strong>class</strong></em> (<strong>StringNode,   	GalaxyNode</strong>, etc.), because that was only needed for demonstration of the <strong>Node</strong> <em><strong>class</strong></em>.  We only demonstrate the <strong>Node</strong> <strong>class</strong> at the <em><strong>client</strong></em> level as   	an intermediate step.  Note that we never used the <span class="codeInLine">show()</span> <em><strong>method</strong></em> in the   	final <strong>Stack</strong> application.<br/>
		</li>
		<li>When you <em><strong>derive</strong></em> your <strong>CardNode</strong> or <strong>StringNode</strong> from <strong> StackNode</strong>, you only need to add a <strong>Card</strong> or <strong>String</strong> data   	item to the <em><strong>class</strong></em> and then supply a trivial <em><strong>constructor</strong></em>.  The <strong>FloatNode</strong> example was a perfect template.    	You also might want to declare some constant for <span class="codeInLine">EMTPY_STACK</span> as I did, to   	help signal the <em><strong>client</strong></em> of that situation.<br/>
		</li>
		<li>When you derive your <strong>CardStack </strong>or<strong> StringStack</strong> from the <strong>Stack</strong>, you only   	have to add new the <strong>pushCard/String() </strong>and<strong> popCard/String() methods</strong>.  No extra data is used.<br/>
		</li>
		<li>The<span class="codeInLine"> pushNNN() </span>and<span class="codeInLine"> popNNN()</span> <em><strong>methods</strong></em> you write will take or   	return a <strong>String</strong>, <strong>Card</strong> or whatever your data type of interest is as a parameter.  You   	have to <strong>new</strong> (in <span class="codeInLine">push()</span>) the <strong>Node</strong> to hold   	your data.  Again, the template I gave you for <strong>FloatStack</strong> works   	with practically no change for any data type.</li>
	</ul>
	<p>This was a more challenging example of <em><strong>inheritance</strong></em> than the first one with <strong>Phones</strong> and <strong>Extensions</strong>, I will admit.  It had two <em><strong>base classes</strong></em> and two <em><strong>classes</strong></em> that were <em><strong>derived</strong></em> from them.   However, this is not over your head.    Furthermore, it represents the kind of logic and thinking that goes into real   Java programs at the most technical level.  (I won&apos;t even discuss the fact   that Java has a built-in class we can use for <strong>Stacks</strong> — that&apos;s okay, we have to   learn to create our own data structures for custom applications, anyhow, so this   is a great example.)</p>

</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_4b_4.html -->



<a name="23_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - Inner Classes</h1>
	<h2>4B.4.1 Inner Classes</h2>
	<p>In most applications our <em><strong>classes</strong></em> are siblings of one another.  That is,   we complete the definition of one <strong>class</strong>, before we begin the definition of   another.  On occasion, we may want to create a new <em><strong>class inside another   class,</strong></em> that is, start the <strong>new <em>class definition</em></strong> before we have reached the   closing brace of the <em><strong>previous class definition</strong></em>.  If one <em><strong>class</strong></em> is defined   completely within another <em><strong>class</strong></em>, it is called an<em><strong> inner class</strong></em>.    The <em><strong>inner class</strong></em> can be used in the <strong><em>methods</em></strong> of the <em><strong>outer</strong></em> (i.e. containing)   <em><strong>class</strong></em>, but nowhere else.</p>
	<p><strong><em>Inner classes</em></strong> are of  limited use, and their main application arises in <em><strong>GUI</strong></em> programming when writing <em><strong>event listeners</strong></em>.    They also may show up when creating some <em><strong>generic</strong></em> data structures: a <strong>TreeNode</strong> may be &quot;inner&quot; to a <strong>Tree</strong> generic class. We will come to<em><strong> event driven GUI</strong></em> programming and<em><strong> inner listener classes</strong></em> later in this course, and we&apos;ll study <em><strong>generic tree classes</strong></em> in the next course, <span class="sectionOrAssignmentTitle">CS 1C</span>. For now,  let&apos;s see an example of an <em><strong>inner class</strong></em> in a simple, console   program.</p>
	<h2>4B.4.2 A Contact List with an Inner Phone Class</h2>
	<p>Our example uses a <em><strong>class</strong></em> called <strong>Contact</strong> which is used to<em><strong> instantiate   client </strong></em><strong>Contact</strong><em><strong> objects </strong></em>consisting of:</p>
	<ul>
		<li>a name</li>
		<li>a phone number</li>
	</ul>
	<p>The <strong>Contact</strong> <strong><em>class</em></strong> serves as an <em><strong>outer class</strong></em> for an <strong><em> inner class</em></strong> called <strong>Phone</strong>. <strong>Phone</strong>  is used by the <strong> Contact</strong> class to sanitize and format the phone number <strong>Strings</strong> for the   outer <strong>Contact</strong> <em><strong>class</strong></em>.</p>
	<p>In this example we use <em><strong>constructors that take parameters</strong></em>.    We also make use of the <strong>Character</strong> <strong><em>class</em></strong> <em><strong>method</strong></em> <span class="codeInLine">isDigit()</span>.    The <em><strong>inner class</strong></em> <strong>Phone</strong> constructs new sanitized <strong>Strings</strong> from the   messy <strong>Strings</strong> that are passed into the <em><strong>constructors</strong></em> by the   <em><strong>client</strong></em>.   The new, properly formatted, <strong>Strings</strong> are built up   inside the <strong>Phone</strong> <em><strong>constructor</strong></em> using <em><strong>for loops</strong></em> and <em><strong>concatenation</strong></em>.  In other words, while the <em><strong>client</strong></em> may   supply a sloppy <strong>String</strong> such as <span class="codeInLine">650 - 915-3 06-1</span>, the <strong>Phone <em>constructor</em></strong>    will convert and store this number internally as <span class="codeInLine">6509153061</span>.  Then, when   asked to convert this <strong>String</strong> to a human-readable phone number for output,   the <em><strong>class</strong></em> enlists an <em><strong>instance method</strong></em> called <span class="codeInLine">toString()</span>, which we define   below.  The format of phone numbers, after preparation by <span class="codeInLine">toString()</span> is   <span class="codeInLine">(650)916-3061</span>.  The <em><strong>class</strong></em> also handles numbers without area codes and   badly formed numbers.</p>
	<p>Please read this example not only for its demonstration of <strong><em>inner classes</em></strong>, but   also as a study in <span class="codeInLine">String</span> processing, <em><strong>constructors</strong></em>, <em><strong>for loop</strong></em> logic, and use of   <em><strong>local variables</strong></em>.  The more you read this example the more you&apos;ll learn.    I promise.</p>

<pre>public class Sample
{
   public static void main (String[] args) throws Exception
   {
      Contact client1 = new Contact(&quot;Evariste Galois&quot;, &quot;650-949-7000&quot;);
      Contact client2 = new Contact(&quot;Michael Faraday&quot;, &quot;949-1234&quot;);
      Contact client3 = new Contact(&quot;Clerk Maxwell&quot;, &quot;(213)555123&quot;);
     
      System.out.println(&quot;Dial &quot; + client1.getPhone() 
            + &quot; to reach &quot; + client1.getName());
      System.out.println(&quot;Dial &quot; + client2.getPhone() 
            + &quot; to reach &quot; + client2.getName());
      System.out.println(&quot;Dial &quot; + client3.getPhone() 
            + &quot; to reach &quot; + client3.getName());
   } 
}

// class Contact
class Contact
{
   private String name;
   private Phone phone;
   
   public Contact(String inName, String inPhone)
   {
      name = new String(inName);
      phone = new Phone(inPhone);
   }
   
   public String getName()
   {
      return name;
   }
  
   public String getPhone()
   {
      return phone.toString();
   }

   // inner class Phone used by class Contact only
   private class Phone
   {
      String number;
      
      Phone(String inNum)
      {
         char nextDigit;
         int k;
 
         // store only digits &quot;213-555-1212&quot; becomes &quot;2135551212&quot;       
         for (k = 0, number = &quot;&quot;; k &lt; inNum.length(); k++)
         {
            nextDigit = inNum.charAt(k);
            if (Character.isDigit(nextDigit))
               number = number + nextDigit;
         } 
      }
      
      // returns properly formed number (AAA)PPP-FFFF or PPP-FFFF
      public String toString()
      {
         int nextDigit, j;
         String retStr;
         
         if (number.length() != 7 &amp;&amp; number.length() != 10)
            return &quot;(invalid phone number)&quot;;
         
         retStr = &quot;&quot;;
         // if full 10 digit number, use parens for area code
         nextDigit = 0;
         if ( number.length() == 10)
         {
            retStr += &quot;(&quot;;
            for ( j = 0; j &lt; 3; j++, nextDigit++)
               retStr += number.charAt(nextDigit);
            retStr += &quot;)&quot;;
         }
         // either way, hyphenate 7 digit number (don&apos;t reset nextDigit)
         for ( j = 0; j &lt; 3; j++, nextDigit++)
            retStr += number.charAt(nextDigit);
         retStr += &quot;-&quot;;
         for (j = 0; j &lt; 4; j++, nextDigit++)
            retStr += number.charAt(nextDigit);
         
         return retStr;
      }
   }
}</pre>

	<p>The run is as follows:</p>

<pre>Dial (650)949-7000 to reach Evariste Galois
Dial 949-1234 to reach Michael Faraday
Dial (invalid phone number) to reach Clerk Maxwell</pre>

	<p>If you understood this lecture, you probably read it and studied it more than once (<em>good for you</em>) and you&apos;ve  made it past the hardest part of   this course.  </p>
	<p>But don&apos;t drop just yet.  The fun is about to begin.</p>
	<p>See you next week.</p>
	<hr/>
	
	<p><span style="text-align: left"><img align="right" alt="guy with blackboard" border="0" height="91" src="./CS 1B Module 4B Section 4_files/cs_A_common_2.gif" width="149"/></span></p>
	
	<h4>Prevent Point Loss</h4>
	<ul>
		<li><font color="#CC0066"><strong>Use super() to chain.</strong>  </font>Instead   	of duplicating code from your<em><strong> base class</strong></em>, or worse, omitting important code,   	use<span class="codeInLine"> super()</span> in any <em><strong>derived class method</strong></em> that needs to initialize or operate   	on <em><strong>base class</strong></em> data.  This should always be done in <em><strong>constructors</strong></em>, and is    	also usually needed in <em><strong>derived class methods</strong></em> that<em><strong> override base class   	methods</strong></em>. <font color="#FF0000">(1 - 2 point penalty)</font></li>
		<li><font color="#CC0066"><strong>Do not duplicate data or methods in derived   	classes.</strong>  </font>If you have a <em><strong>member</strong></em> in a <em><strong>base class</strong></em>, there is no   	reason to duplicate that <em><strong>member</strong></em> in the <em><strong>derived class</strong></em>.  The same goes   	for <em><strong>methods</strong></em> (except you may have <em><strong>overriding methods</strong></em> in your <em><strong>derived class</strong></em>). <font color="#FF0000">(3 - 4 point penalty)</font></li>
	</ul>
    
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_1.html -->



<a name="24_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Problems with JOptionPane</h1>
  	<h3>Introduction to Week Five</h3>
<p>This week we  will review true GUI programming covered in <span class="sectionOrAssignmentTitle">CS 1A</span>. Everything through <span class="sectionOrAssignmentTitle">Module 5B.4</span> is review. Starting <span class="sectionOrAssignmentTitle">Module 5B.5</span>, you will see new material that integrates our stack data structure and multi-file project techniques of last week with GUI programming.</p>
<h3>Reading</h3>
	<p>The optional textbook reading is handled as we have been doing all along:  look up the terms with which you want more coverage in the index and see where it leads. The links in early modules on the Swing, and other GUI packages become particularly relevant at this time.</p>
	<h2>5A.1.1 JOptionPane.showMessageDialog()</h2>
	<p>To see an easy pseudo-GUI format, let&apos;s modify   a console program by changing all the <strong>println()</strong> calls to <strong>showMessageDialog()</strong> calls. (I&apos;ll let you deduce what the original console program must have looked like.)</p>

<pre>import javax.swing.*;

public class Foothill 
{
   public static void main(String[] args)
   {
      int someNumber;
  
      someNumber = -7;
      someNumber = (someNumber-2)/3;
      JOptionPane.showMessageDialog(null, &quot;someNumber is &quot; + someNumber);
         
      // just some more stuff to demo / and %
      JOptionPane.showMessageDialog(null, &quot;\n-7 divided by 2 is &quot; 
         + (-7 / 2)  );
      JOptionPane.showMessageDialog(null, &quot;\n-7 mod 2 is &quot; 
         + (-7 % 2)  );
   }
}
</pre>

	<p>When you run this, you&apos;ll notice that between each <strong>showMessageDialog()</strong> method call,   the user must click <strong>OK</strong> to move the program   execution forward.</p>
	<div class="picCenter"><img alt="screen shot of program" border="0" height="122" src="./CS 1B Module 5A Section 1_files/pic_1a10_13.jpg" width="268"/>   →   <img alt="screen shot of program" border="0" height="122" src="./CS 1B Module 5A Section 1_files/pic_1a10_14.jpg" width="268"/>   →   <img alt="screen shot of program" border="0" height="122" src="./CS 1B Module 5A Section 1_files/pic_1a10_15.jpg" width="268"/></div>
	<p>What about the<strong> &apos;\n&apos;?</strong>  In the console app we needed it to cause output to   be placed on a new line.  But here each output statement emits a new   message dialog box, so it is unnecessary.  We can remove the &apos;<strong>\n&apos;</strong>s from the   program.  But just to see how closely you are following along, what effect,   if any, do these &apos;<strong>\n&apos;</strong>s have in this GUI version of our program?</p>
	<p>Can you see now, why sometimes the less beautiful <em><strong>console apps</strong></em> are more   convenient if we have a large quantity of output?</p>
	<h2>5A.1.2 Not Quite a GUI ... Yet</h2>
	<p>Actually, what we just did is not truly GUI.    Placing a bunch of <strong>showMessageDialogs</strong> onto the screen in rapid succession   is really just a confused form of mixing console and graphics.  To do   things right, we have to learn the proper way to do GUI, and that&apos;s what   we study next.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_2.html -->



<a name="25_"></a>


<div class="container">
  <div class="content">
    <h1>Section 2  - New School GUIs</h1>
    <h2>5A.2.1 Magic with Java<img align="right" alt="screen shot" border="0" height="200" hspace="9" src="./CS 1B Module 5A Section 2_files/pic_1a10_17.jpg" width="300"/></h2>
    <p>I&apos;ve been holding out on you. Java can do absolutely incredible things, but   I&apos;ve been boring you with numbers and arithmetic.</p>
    <p>What if you could push a button and see any one of your friends, any time,   night or day? Of course, with <em><strong>Skype</strong></em> and <em><strong>FaceTime</strong></em>, this doesn&apos;t sound very innovative, but I&apos;m talking about actually teleporting them into your room.  Today we will learn how to write the GUI you see above.    Nothing fancy... simply type your friend&apos;s name into the upper text box, go comb   your hair and rinse your mouth with mouthwash, and when you&apos;re ready, come   back and click the button &quot;Press Here to See Friend&quot;.</p>
    <p>In the next few pages, we will learn how to do this.  First we look at   the <strong>Swing</strong> library.</p>
    <h2>5A.2.2 The Swing Windows Library</h2>
    <p>Java tools are grouped in   functional units called <em><strong>packages</strong></em>.  In the pseudo-  GUI <em><strong></strong></em>program of the last section, we had to include an <strong>import</strong> statement at the top:<strong> import javax.swing.*</strong>. That was to bring in a GUI support <em><strong>package</strong></em> called <strong>Swing</strong>.  We needed <strong>Swing</strong> in order to use the <strong>JOptionPane</strong> <em><strong>class</strong></em> that we   used to display the message dialog.</p>
    <p>There are other <em><strong>packages</strong></em> that we&apos;ll need as we progress.  But this   package serves a large group of GUI <em><strong>classes</strong></em> and <em><strong>methods</strong></em> that help us draw GUI   onto the screen. You can usually tell which <em><strong>classes</strong></em> belong to this package   because their names begin with the letter capital &quot;J&quot; ... <strong> JOptionPane</strong>, for   example.  We&apos;re about to learn a few other classes in the <strong>Swing</strong> library.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_4.html -->



<a name="26_"></a>


<div class="container">
  <div class="content">
    <h1>Section 4  The Layout</h1>
    <h2>5A.4.1 FlowLayout<img align="right" alt="screen shot" border="0" height="200" hspace="20" src="./CS 1B Module 5A Section 4_files/pic_1a10_17.jpg" vspace="8" width="300"/></h2>
    <p>For reference, I am redisplaying a screen shot of the GUI that we are trying to build on this   page (and the following pages).</p>
    <p>Our next group of statements is dedicated to setting up what we call a<em><strong> layout manager</strong></em> for the <strong>JFrame</strong>.  There are different <em><strong>layout managers</strong></em> in <strong>Java</strong>, and each specifies how the <em><strong>controls</strong></em> (<em><strong>buttons</strong></em>, <em><strong>labels</strong></em>, etc.) will appear on   the <strong>JFrame</strong>.  The simplest is called <strong>FlowLayout</strong> because the <em> <strong>controls</strong></em> will <em><strong>flow</strong></em> onto your <strong>JFrame</strong>, from left-to-right and top-to-bottom.</p>
    <p>It is helpful to use <strong>FlowLayout</strong> with some <em><strong>gaps</strong></em> -- a   small amount of space above, below, left and right of each control.  This   assures that the controls aren&apos;t placed too close to one another. We specify a   vertical gap (in pixels) and a horizontal gap (in pixels).  The horizontal   gap will be 5, and the vertical gap will be 20.  You&apos;ll see how these   numbers are specified in the code below.</p>
    <p>Here is how one creates a <strong>FlowLayout</strong> with the gaps described and uses it on a <strong>JFrame</strong>:</p>

<pre>   // set up layout which will control placement of buttons, etc.
   FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20);
   frmMyWindow.setLayout(layout);
</pre>
    
    <p>Again, we start with a comment that documents what we are about to do:</p>

<pre>   // set up layout which will control placement of buttons, etc.
</pre>
    
    <p>Next we see this:</p>

<pre>    FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20);
</pre>
<p>This line above creates a new <strong>FlowLayout</strong> for us, gives it the name <strong>layout</strong> and tells Java that we should center the controls (rather than left or right   justifying them), and use a horizontal gap of 5 pixels and a vertical gap of 20   pixels.  This line can, like the <strong>JFrame</strong> line, be broken up into two   separate statements for ease of readability:
</p>
<div><pre>   FlowLayout layout ;
   layout = new FlowLayout (FlowLayout.CENTER, 5, 20);
</pre>
    </div>
    <p> Again, you don&apos;t have to understand the exact meaning of each of these   statements; just know that they create a flow layout.</p>
 
<pre>    frmMyWindow.setLayout(layout);
</pre>
    
    <p>This line sets the layout manager of the <strong>JFrame</strong> to the layout manager object, <strong>layout</strong>, that you created in the statement before.  Notice the similarity to   the statements that we used to initialize the <strong>JFrame</strong> in the last section.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_5.html -->



<a name="27_"></a>


<div class="container">
  <div class="content">
    <h1>Section 5  - The Controls</h1>
    <h2>5A.5.1 Buttons, Labels and Text Fields<img align="right" alt="image" border="0" height="200" hspace="9" src="./CS 1B Module 5A Section 5_files/pic_1a10_17.jpg" width="300"/></h2>
    <p>Our next group of statements is dedicated to creating the three controls   that we see on the screen.  The text <strong>Friend&apos;s Name</strong> is called a <em> <strong>label</strong></em>, and for that we need to create an object of the class <strong> JLabel</strong>.  The text box to the right of that label is called a <strong> JTextField</strong>.  And the button at the bottom is called a <strong>JButton</strong>.</p>
    <p>Here is how one creates these three controls:</p>

<pre>   // 3 controls: a label, a text field and a button
   JLabel lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
   JTextField txtMyTextArea = new JTextField(10);
   JButton btnMyButton = new JButton(&quot;Press Here to See Friend&quot;);
</pre>
    
    <p>I&apos;ll skip the comment line, since you should know what this does by now.    Let&apos;s look at the first of these three lines:</p>

<pre>   JLabel lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
</pre>
    
    <p>This uses syntax similar to what we&apos;ve seen so far.  It creates a <strong>JLabel</strong> object called <strong>lblMyLabel</strong> and places the text &quot;Friend&apos;s Name: &quot; on the <strong>Label</strong>.    By the 10th week, you should be able to expand this shortened statement into two longer ones that   perform the same task,  stepwise.  Normally, of course, we don&apos;t want to make things longer, but you do need to understand that this is a combination of two statements. </p>
    <p>The next line is:</p>

<pre>   JTextField txtMyTextArea = new JTextField(10);
</pre>
    
    <p>That line creates the text input area, called a <strong>JTextField</strong>.  We   name that field <strong>txtMyTextArea</strong> and we make sure that it has space for 10   letters in it.</p>
    <p>The last line is:</p>
<pre>   JButton btnMyButton = new JButton(&quot;Press Here to See Friend&quot;);  </pre>
    
    <p>That line creates a <strong>JButton</strong> .  We name that <strong>JButton</strong> <strong>btnMyButton</strong> and we put some text on the button.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_6.html -->



<a name="28_"></a>


<div class="container">
  <div class="content">
    <h1>Section 6  - Visibility</h1>
    <h2>5A.6.1 Adding the Controls to the JFrame<img align="right" alt="screen shot" border="0" height="200" hspace="9" src="./CS 1B Module 5A Section 6_files/pic_1a10_17.jpg" width="300"/></h2>
    <p>You might think that the statements in the previous group would have been enough to   place the controls into the <strong>JFrame</strong>, but they are not.  Just creating controls   like <strong>JTextAreas</strong> and <strong>JButtons</strong> don&apos;t give them a home.  For example, there   may be more than one <strong>JFrame</strong> in our program, and we have to tell Java on   which <strong>JFrame</strong> to place the controls. We also have to say in what order we want the   controls to be placed (they don&apos;t have to be in the same order in which we   declared them, in the last section).</p>
    <p>Here is the group that does what we want:</p>
<pre>   // place your 3 controls into frame
   frmMyWindow.add(lblMyLabel);
   frmMyWindow.add(txtMyTextArea);
   frmMyWindow.add(btnMyButton);
</pre>

    <p>These lines are self-explanatory.</p>
    <h2>5A.6.2 Showing the JFrame</h2>
    <p>Just as we had to do something extra to make our controls appear on the <strong>JFrame</strong>, we must also tell Java that we want to see the <strong>JFrame</strong>.  This might   seem ridiculous.  After all, why <em>wouldn&apos;t</em> we want to see the <strong>JFrame</strong>.    Well, there are lots of times in which we want frames to be built, but stay   invisible until we are ready for them.  We are ready for this one as soon   as we build it, so we issue the statement:</p>
<pre>   // show everything to the user
   frmMyWindow.setVisible(true);
</pre>

    <p>This is that last statement for the GUI of this application.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_7.html -->



<a name="29_"></a>


<div class="container">
  <div class="content">
    <h1>Section 7  - The GUI Listing</h1>
    <h2>5A.7.1 Trying It Out</h2>
    <p>Here is the entire GUI listing.  You can create a project, add a class   named &quot;Transporter&quot;, and into that class .java file, you can paste the   following.  When you have done that, run the application to see what   happens.</p>

<pre>import javax.swing.*;
import java.awt.*;
   
public class Transporter 
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      JFrame frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
      frmMyWindow.setSize(300, 200);
      frmMyWindow.setLocationRelativeTo(null);
      frmMyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20);   
      frmMyWindow.setLayout(layout);
      
      // 3 controls: a label, a text field and a button
      JLabel lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
      JTextField txtMyTextArea = new JTextField(10);
      JButton btnMyButton = new JButton(&quot;Press Here to See Friend&quot;);

      // place your 3 controls into frame
      frmMyWindow.add(lblMyLabel);
      frmMyWindow.add(txtMyTextArea);
      frmMyWindow.add(btnMyButton);

      // show everything to the user
      frmMyWindow.setVisible(true);
   }
}
</pre>
    
    <p>Try it out.</p>
    <h2>5A.7.2 Expectations</h2>
    <p>So what happened when you entered your friend&apos;s name and pushed the button?</p>
    <p>It might not have been as spectacular as you expected, but remember, this is just the beginning. We have to learn a little more GUI programming before we can   move your friend all the way across the galaxy to see you.</p>
    <h2>5A.7.3 Easy Images</h2>
    <p>It will be helpful for us to make a <strong>JLabel</strong> out of a <strong>.jpg</strong> or <strong>.gif </strong>image. It&apos;s very easy. You create an <strong>Icon</strong> object from an image file, and then instantiate a <strong>JLabel</strong> using that <strong>Icon</strong>. Here is a short example:</p>
 
 <pre>    public static void main(String[] args)
   {
      // establish main frame in which program will run
      JFrame frmMyWindow = new JFrame(&quot;A Surfer Dude Label&quot;);
      frmMyWindow.setSize(400, 300);
      frmMyWindow.setLocationRelativeTo(null);
      frmMyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20);   
      frmMyWindow.setLayout(layout);
     
     <strong> 
      // assumes &quot;surfer_dude.jpg&quot; is stored under java project folder
      // (Often named &quot;Foothill&quot;), in a subfolder named &quot;images&quot;.  
      // Hint:  create an &quot;images&quot; folder under in your project directory, 
      //  then copy &quot;surfer_dude.jpg&quot; there.
      
      Icon myIcon = new ImageIcon(&quot;images/surfer_dude.jpg&quot;);
      JLabel myLabel = new JLabel(myIcon);
      frmMyWindow.add(myLabel);</strong>


      // show everything to the user
      frmMyWindow.setVisible(true);
   }
 </pre>
 <div class="picCenter"><img alt="surfer dude" height="427" src="./CS 1B Module 5A Section 7_files/pic_1b5_5.JPG" width="500"/></div>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_8.html -->



<a name="30_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 8 - Transporter Reconsidered</h1>
	<h2>5A.8.1 A Fresh Look at our Transporter</h2>
	<p>Before we add to our earlier transporter application let&apos;s re-examine it   using OOP  vocabulary.  For example:</p>

<pre>JFrame frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
frmMyWindow.setSize(300, 200);
</pre>

	<p>As we now know, the first of these two lines is a combination of the two other statements:</p>

<pre>JFrame frmMyWindow;
frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
</pre>

	<p>We can now describe this in <em><strong>OOP</strong></em> terminology.  <strong>JFrame</strong> is a <em><strong>class</strong></em> which Java defines for us (inside the <strong>javax.swing</strong> package).  We are   declaring a <em><strong>reference</strong></em> for this <em><strong>class</strong></em> named <strong> frmMyWindow</strong>.  Then we  <em><strong>instantiate</strong></em> an <strong><em>object</em></strong> using the <strong>new</strong> keyword.  After these two statements are   executed we have a real <strong>JFrame</strong> <em><strong>object</strong></em> that we refer to using  <strong>frmMyWindow</strong>. </p>
	<p>Also,  when we instantiate this object, we know that a <em><strong>constructor</strong></em> gets called.  From the form of our instantiation line, we can conclude that   the  <em><strong>constructor</strong></em> takes a <em><strong>parameter</strong></em> and we are   passing in the argument <strong>Transporter Room.</strong>  We also know from looking at the output of the   program that this parameter tells the <strong>JFrame</strong> what text to write in the  frame   title.</p>
	<p>Meanwhile, the second of the two original lines, <strong>frmMyWindow.setSize(300,200),</strong> is clearly a <em> <strong>method call.</strong></em> Since we are <em><strong>dereferencing</strong></em> it through a <strong> JFrame</strong> <em><strong>object</strong></em>, it must be an <em><strong>instance method</strong></em> (not a <em><strong>static class method</strong></em>) and will cause    something specific to happen to that particular <em><strong>object</strong></em>.  It&apos;s pretty clear from the name of the <em><strong>method</strong></em> that it is setting the   size of the <strong>frmMyWindow</strong> object to be 300 pixels x 200 pixels.</p>
	<p>This kind of analysis applies to all of the <em><strong>classes</strong></em> that we use   in   this program.  We are <em><strong>declaring references,   instantiating objects </strong></em>and <em><strong>modifying properties</strong></em> of the <em><strong>objects</strong></em> for each of the various classes, <strong>JFrame,   FlowLayout, JLabel, JTextField </strong>and<strong> JButton.</strong>  Of course, since we   are using pre-defined Java classes, we don&apos;t see the definitions of those   classes, but merely import them using the import statements and use them as we   like.</p>
	<h2>5A.8.2 Breaking the Program into Two Classes</h2>
	<p>Let&apos;s now modify the program and separate the <strong>JFrame</strong> data and   methods from the main class.  In other words, we will <em><strong>encapsulate</strong></em> all of   the <strong>JFrame</strong> issues in its own class.  We will   name our new JFrame-type class <strong>TranspoFrame</strong>, and our main class <strong> Foothill</strong>.</p>
	<p>Look at the new version:</p>

<pre>import javax.swing.*;
import java.awt.*;
   
public class Foothill 
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      TranspoFrame myTranspoFrame 
            = new TranspoFrame(&quot;Transporter Room&quot;);
      myTranspoFrame.setSize(300, 200);
      myTranspoFrame.setLocationRelativeTo(null);
      myTranspoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myTranspoFrame.setVisible(true);
   }
}

// TranspoFrame class is derived from JFrame class
class TranspoFrame  extends JFrame
{
   // member data (instance variables)
   JButton btnMyButton;
   JTextField txtMyTextArea;
   JLabel lblMyLabel;
   
   // TranspoFrame constructor
   public TranspoFrame(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20); 
      setLayout(layout);
      
      // 3 controls: a label, a text field and a button
      lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
      txtMyTextArea = new JTextField(10);
      btnMyButton = new JButton(&quot;Press Here to See Friend&quot;); 
      add(lblMyLabel);
      add(txtMyTextArea);
      add(btnMyButton);
   }
   
} // end class TranspoFrame
</pre>

	<p>This is straightforward, but ...  </p>
	<h4>... I&apos;ll guide you through it.</h4>
	<ul>
		<li>The first line of our  new class <strong>TranspoFrame</strong> has some   	interesting syntax
			<pre>   class TranspoFrame extends JFrame</pre>
This means that our new class will <em><strong>inherit</strong></em> all of the built-in   	capabilities of <strong>JFrame</strong>.  We are <em><strong>deriving</strong></em> a   	new class <strong>TranspoFrame</strong> from an existing <em><strong>base class</strong></em> <strong> JFrame</strong>.  Everything we put into the definition of our new class   	will now be <em><strong>added   	on</strong></em><strong> </strong>to the <strong>JFrame</strong> data and methods.  The main <strong>Foothill</strong> class is now very short.  It only has a few lines because all   	of the hard work is now being done in our <strong>TranspoFrame</strong> class.<br/>
		</li>
		<li>Since <strong>TranspoFrame</strong> is derived from <strong>JFrame</strong>, <strong>main()</strong> can use <strong>TranspoFrame</strong> as it would <strong>JFrame</strong>.  We declare a <strong> TranspoFrame</strong> object, instantiate it, and start calling methods like <strong> setSize()</strong> and <strong>setVisible()</strong> exactly as we would if we were using <strong>a JFrame <em>object</em></strong>.  In fact, we <em><u>are</u></em> using a <strong>JFrame</strong> <em><strong>object</strong></em> when we use a <strong>TranspoFrame</strong> <em><strong>object</strong></em> by virtue of the fact that <em><strong>TranspoFrame</strong></em> is <em><strong> derived from JFrame</strong></em>.<br/>
		</li>
		<li>The GUI controls (the button, label and text field) need to be defined   	somewhere.  They are no longer local variables of the <strong>main()</strong> method.  So where would this all be done?  Since we now have a class devoted   	to our application window, the <strong>TranspoFrame</strong> class, it makes sense that these   	become<em><strong> instance variables</strong></em> of our new class.<br/>
		</li>
		<li>All the things that we used to do in the<strong> main() </strong>method of our <strong> main</strong> class still have to get done.  But now we do these things   	inside the <strong>TranspoFrame</strong> class.  But where?  Do you remember   	what method always gets called before any other method in a class?  The <em><strong>constructor</strong></em>.  So we instantiate the controls (buttons,   	labels, etc.) in the <strong>TranspoFrame</strong> constructor.  Now, if we look back at   	the first line of <strong>main()</strong> we see that the instantiation of the <strong>TranspoFrame</strong> object, <strong>myTranspoFrame</strong>, is the exact place where all this work gets done.    	Why there?  Because that is where the constructor automatically gets   	called for us.<br/>
		</li>
		<li> There is one  line that sticks out:
			<pre>   super(title);</pre>
Now that we have learned about constructor chaining, this is not that much of a mystery. Recall that in our old version, we passed the <em><strong>String literal</strong></em> <span class="codeInLine">Transporter Room</span> to the <strong>JFrame</strong> <em><strong>constructor</strong></em>. Since we are not using <strong>JFrame</strong> directly in our main, but instead are using the derived <strong>TranspoFrame</strong>, we will   pass this literal to our <strong>TranspoFrame</strong> <em><strong>constructor</strong></em>.    But this constructor is defined by <em><u>us</u></em> and we don&apos;t know how to   manually cause a <strong>String</strong> to be written in the <strong>JFrame</strong> title bar.    Therefore we call the special method <strong>super()</strong> which in turn calls the   actual <strong>JFrame</strong> <em><strong>constructor</strong></em>.  If we wish to pass any arguments to that <em><strong>constructor</strong></em> (as we   certainly do here) we place those arguments into the<strong> super()</strong> call.   This is nothing more than the <em><strong>method chaining</strong></em> (or<strong><em> constructor   chaining</em></strong>) that we  learned previously.<strong><em><br/>
</em></strong></li>
		<li>Finally, we can see that some of the <em><strong>instance methods </strong></em>of the <strong>JFrame</strong> class are no longer <em><strong>dereferenced</strong></em> through any objects but are called in a   	vacuum.  By this I mean that in the original version we called
<pre>   frmMyWindow.setLayout(layout);
</pre>

			while in this version we just call

<pre>    setLayout(layout);
</pre>

			Since <strong>setLayout()</strong> is an <em><strong>instance method</strong></em> of <strong>JFrame,</strong> and <strong>TranspoFrame</strong> is derived from <strong>JFrame</strong>, we don&apos;t have to   	supply a dereferencing object if we call a <strong>JFrame</strong>  method from   	within a <strong>TranspoFrame</strong> method.  And that&apos;s what we are doing.    	We are calling the <strong>setLayout()</strong> <em><strong>method</strong></em> from inside the <strong>TranspoFrame</strong> <em><strong>constructor</strong></em>.  The rule that <em><strong>instance   	methods</strong></em> can call<em><strong> other instance methods</strong></em> or data of <em> the same class</em> without a dereferencing   	object, also applies to inherited class definitions.  The methods in   	the derived classes can access the methods of the base class without   	dereference.  </li>
	</ul>
	<p>Well this is how it&apos;s done in the  big leagues.  Because <strong>JFrame</strong> is   a typical class on which to base GUI applications, it is very common to <em><strong>derive</strong></em> our special flavor of dialog window from this from <strong>JFrame</strong> and do all of the   initialization in our <em><strong>derived constructor</strong></em>.  Everything here, the call to <strong>super()</strong>, the placement of the controls in the derived class as <em><strong>instance   variables</strong></em>, and the<strong> &quot;un-dereferenced&quot;</strong> use of the <strong>JFrame</strong> <em><strong>methods</strong></em>, are all part of the correct way to implement this GUI.    You can almost memorize these things since they will usually be done exactly the   same way in future projects.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5a_3.html -->



<a name="31_"></a>


<div class="container">
  <div class="content">
    <h1>Section 3  - The JFrame</h1>
    <h2>5A.3.1 JFrame<img align="right" alt="screen shot" border="0" height="200" hspace="9" src="./CS 1B Module 5A Section3_files/pic_1a10_17.jpg" width="300"/></h2>
    <p>The window that we are going to open this week is not the  <strong>JOptionPane</strong> style object that you may have used in the past. This one  is called a <strong>JFrame</strong> and it is much   more customizable. </p>
    <p>With the <strong>JOptionPane</strong> we could only give it one message and had to accept the   &quot;<strong>OK</strong>&quot; button.  With <strong>JFrame</strong> we can place as many different controls as we   wish.  As you can see there are three such controls inside the <strong>JFrame</strong>, and   we&apos;ll discuss those shortly.</p>
    <p>The way one places a <strong>JFrame</strong> on the screen is as follows:</p>
<pre>   // establish main frame in which program will run
   JFrame frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
   frmMyWindow.setSize(300, 200);
   frmMyWindow.setLocationRelativeTo(null);
   frmMyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
</pre>
      

    <p>Let&apos;s explore this line-by-line.</p>
    <div>

<pre>   // establish main frame in which program will run
</pre>

    </div>
    <p>This is, of course, just a comment to help us understand what the next group   of lines does.  As usual, we aligned the comment up with the lines   directly below it.  Also notice that we did not skip any lines.  We   waited until the last statement in this group before skipping a line, then   opened the next group with another comment.</p>
<pre>   JFrame frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
</pre>

    <p>This line creates a new <strong>JFrame</strong> for us to work on.  The <strong>JFrame</strong> object is   called <strong>frmMyWindow</strong>, and when displayed on the screen it will have the words  <strong>&quot;Transporter Room&quot; </strong>printed in the top title bar.  This  line is    shorthand for the two longer statements we could have used instead:</p>
<pre>   JFrame frmMyWindow;
   frmMyWindow = new JFrame(&quot;Transporter Room&quot;);
</pre>
    
    <p> Either   version will create a new <strong>JFrame</strong> object for us.</p>
    <div class="important"> Terminology
    	<p> We are   	using the <strong>JFrame</strong> <em><strong>class</strong></em> to help us define a specific <strong> JFrame</strong> <em><strong>object</strong></em> which we are naming <span class="codeInLine">frmMyWindow</span>.     	In other words, we are instantiating a <strong>JFrame</strong> object and calling it <strong class="codeInLine"> frmMyWindow</strong>;</p>
    </div>
<p> Next:</p>

<pre>   frmMyWindow.setSize(300, 200);
</pre>
    
    <p>This line sets the size of the <strong>JFrame</strong> to be 300 pixels wide and 200 pixels   tall.  A pixel is one pixel element, a very small size.  Your computer   screen might be 1024 pixels wide, for example.  More optional terminology:    We are using the <strong>frmMyWindow</strong> <em><strong>object</strong></em> to call the<strong> setSize()</strong> <em><strong>method</strong></em>.  Another  way to say it is that we are <em><strong> dereferencing</strong></em> the <strong>setSize()</strong> method through the <strong>object</strong> <em> <strong>frmMyWindow</strong></em>.</p>
    
<pre>   frmMyWindow.setLocationRelativeTo(null);
</pre>
    
    <p>This line above is how we force the new <strong>JFrame</strong> object to be centered   on the computer screen.  (Optional terminology: We use the <strong>frmMyWindow</strong> <em><strong>object</strong></em> to <em><strong>dereference</strong></em> a call to the <strong> setLocationRelativeTo()</strong> <em><strong>method</strong></em>.)</p>

<pre>   frmMyWindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
</pre>
    
    <p>This last line of the group tells Java that when the user clicks the little <strong>x</strong> box in the upper right of the <strong>JFrame</strong>, the box will close and the program will   end.  It would be possible to allow the user to close a <strong>JFrame</strong> without   ending our program.  We want to avoid that in this program, which is why we   include this line.</p>
    <p>Normally, for your early GUI applications, you&apos;ll want to use these four   statements, making minor adjustments to the size, object name, and text that   goes on the top of the frame.  You can even write a short program now that   has only these four lines and try to run it. (If you do, don&apos;t forget to import   <span class="codeInLine">javax.swing.*</span>).</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_1.html -->



<a name="32_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Events and Listeners</h1>
	<h2>5B.1.1 Handling GUI Events</h2>
	<p>Our immediate challenge is to get this stubborn program to respond when we   push the <strong>Push Here to See Friend </strong>button.  For this we will need to   define a new <em><strong>class</strong></em>.  Luckily, we learned about creating <em> <strong>classes</strong></em> last week, so this is going to be easy.</p>
	<p>When we press the button now, we will get the following kind of response from   the program:</p>
	<div class="picCenter"><img alt="GUI shot" border="2" height="235" src="./CS 1B Module 5B Section 1_files/pic_1a10_20.jpg" width="519"/></div>
	<p>First some vocabulary.</p>
	<ul>
		<li><strong><font color="#800080">Controls - </font></strong>The various GUI objects   	on our <strong>JFrame</strong> are called <em><strong>controls</strong></em>. The<strong> JLabel,   	JButton </strong>and<strong> JTextField</strong> are three types of <em><strong>controls</strong></em> that we give the user as a means of interacting with the program.  A   	control can be almost anything that appears on our <strong>JFrame</strong>.</li>
		<li><font color="#800080"><strong>Events</strong></font> - When we do something to one   	of the controls, like push a <strong>JButton</strong> or type some text into a <strong> JTextField</strong>, we are generating an <em><strong>event</strong></em>.  Some <em><strong> events</strong></em> will cause our program to take actions, while others will be   	ignored  We decide what to listen for and what to ignore.  For   	example, we certainly want to listen for a button press event, but we may   	not care if the user types a single character into a text field.    	Still, typing a character, even without hitting the enter key, is an <em><strong>event</strong></em>, and some programs will listen for   	that <em><strong>event</strong></em>.</li>
		<li><font color="#800080"><strong>Listeners</strong></font> - A class that we create   	which is intended to respond to an <em><strong>event</strong></em> is called a <em><strong> listener</strong></em> <em><strong>class</strong></em>.  We supply<em><strong> listener classes</strong></em> only for those events that we care about.  Inside the<em><strong> listener   	classes</strong></em> we handle the events.  <em><strong>Listeners</strong></em> refer to   	the <em><strong>classes</strong></em> that we create to handle <em><strong>events</strong></em>.</li>
		<li><font color="#800080"><strong>Event Handlers</strong></font> - The method that is   	called as a result of a particular event occurring is called an <strong><em>e</em></strong><em><strong>vent   	handler</strong></em>.  All <em><strong>event handlers</strong></em> must be defined   	inside<em><strong> listener classes</strong></em>.  Therefore, an <em><strong>event handler</strong></em> is   	a method inside some <em><strong>listener class</strong></em>.  (Some programmers   	call these event handlers &quot;callbacks&quot; which is an antiquated carry-over from   	an old style of event programming.)</li>
	</ul>
	<p>If you read ahead or look at other textbooks, you may find that some <em><strong> events</strong></em> seem to be <em><strong>handled</strong></em> using a strange syntax right in   our main or derived <strong>JFrame</strong> class without creating a special <em><strong>listener class</strong></em>.    This is a special short-cut called <em><strong>anonymous inner class listeners</strong></em>.  Even though they appear to be handled   without creating separate<em><strong> listener classes</strong></em>, they really are separate classes.    They are simply nested inside the main class for convenience.</p>
	<h4>The process of getting our program to react to user events is:</h4>
	<ol>
		<li><u><strong>Place the control</strong></u> somewhere in our container frame,   	usually in the <strong>JFrame</strong>. (We have already been doing this with the <strong> JFrame</strong> <strong>add()</strong> method.</li>
		<li><u><strong>Define the listener</strong></u> class that will handle the event for   	the control.  Sometimes we have a separate <em><strong>listener class</strong></em> for each <em><strong>control</strong></em>, other times one <em><strong>listener</strong></em> services several   	controls.
			<ul>
				<li>These classes should normally be given a name and be nested within   		the main <strong>JFrame</strong> class (i.e., they should be <em><strong>inner classes</strong></em>)</li>
				<li>The classes must be declared on their top line as <em><strong>implementing</strong></em> a particular listener (e.g., <strong>ItemListener</strong>, <strong>ActionListener</strong>, <strong>KeyListener</strong>, etc).  Which listener the class implements   		depends on which event we are trying to handle.</li>
				<li>These classes must contain a special <em><strong>event handler</strong></em> <em><strong>method</strong></em> that has a pre-determined name.  The name will depend on the   		type of event it is to handle.</li></ul>
		</li>
		<li><u><strong>Register our listener</strong></u> with the <em><strong>control</strong></em> that   	it will listen to, i.e., the <em><strong>control</strong></em> whose <em><strong>events</strong></em> it will <em><strong>handle</strong></em>.  This   	is done with a method call: <strong>addActionListener() </strong>or<strong> addItemListener()</strong>,   	for example.</li>
	</ol>
	<p>All of this requires that you import a new package into your program: <strong> java.awt.event.*.</strong></p>
	<h2>5B.1.2 ActionListeners</h2>
	<p>A common kind of event is an <em><strong>action event</strong></em>.  This occurs   when a button is pressed or the user hits the enter key. To <em><strong>trap</strong></em> an action event   (that&apos;s a cool way to say to handle an action event) we define our listener   class so that it <strong>implements ActionListener</strong>.  The <em><strong>event handler</strong></em> that   is associated with such a <em><strong>listener</strong></em> is called an <strong>actionPerformed()</strong> <em><strong> method</strong></em>.</p>
	<p>Here is the most important new concept with event handlers.  We do not   call them directly as we have done with other methods.  They are called for   us by the <strong>JVM</strong> or <strong>JRE</strong> during program execution<strong><em> if and when   the event occurs.</em></strong>  </p>
	<p>What follows is an implementation of a listener class which I called <strong>SeeFriendListener</strong> because it is going to handle the <em><strong>push event</strong></em> of the <strong>JButton</strong>  that  bears the text <strong>Push to See Friend.</strong>  You will notice that I defined this class inside the <strong>TranspoFrame</strong> class and made sure that it implemented the <strong>ActionListener</strong> interface.</p>
	<p> Compare this listing to the comments in this and the last section.    Run the program to see how it behaves.</p>

<pre>import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
   
public class Foothill 
{
 
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      TranspoFrame myTranspoFrame 
            = new TranspoFrame(&quot;Transporter Room&quot;);
      myTranspoFrame.setSize(300, 200);
      myTranspoFrame.setLocationRelativeTo(null);
      myTranspoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myTranspoFrame.setVisible(true);
   }
}

// TranspoFrame class is derived from JFrame class
class TranspoFrame  extends JFrame
{
   JButton btnMyButton;
   JTextField txtMyTextArea;
   JLabel lblMyLabel;
   
   // TranspoFrame constructor
   public TranspoFrame(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20); 
      setLayout(layout);
      
      // 3 controls: a label, a text field and a button
      lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
      txtMyTextArea = new JTextField(10);
      btnMyButton = new JButton(&quot;Press Here to See Friend&quot;); 
      add(lblMyLabel);
      add(txtMyTextArea);
      add(btnMyButton);
      
      // create a Listener for the JButton and register it
      SeeFriendListener sfFriendListener;
      sfFriendListener = new SeeFriendListener();
      btnMyButton.addActionListener( sfFriendListener );
   }
   
   // inner class for JButton Listener
   class SeeFriendListener implements ActionListener
   {
      // event handler for JButton
      public void actionPerformed(ActionEvent e)
      {
         String friend = txtMyTextArea.getText();
         JOptionPane.showMessageDialog(null, 
               &quot;Please wait while we locate &quot; + friend + &quot;...&quot;);
      }
   } // end inner class SeeFriendListener
} // end class TranspoFrame
</pre>

	<p>This program is very similar to the last version.  The only differences   are the inclusion of the <em><strong>inner listener class,</strong></em> and the registration of the    listener with the button.  We can shorten it by combining these three   lines:</p>

<pre>   SeeFriendListener sfFriendListener;
   sfFriendListener = new SeeFriendListener();
   btnMyButton.addActionListener( sfFriendListener );
</pre>

	<p>into a single line:</p>

<pre>   btnMyButton.addActionListener( new SeeFriendListener() );
</pre>

		<h4>Notice that we are doing three new things relative to our previous version.</h4>
	<ol>
		<li>We are taking an action when the user clicks the button (this is the   	work of our event listener)</li>
		<li>We are reading data from the text field control (see the<strong> txtMyTextArea.getText()</strong> call)</li>
		<li>We are issuing a<strong> JOptionPane.showMessageDialog()</strong> from our <em><strong> event handler</strong></em> - thus putting  up a new small message window as a   	result of the user doing something in our main JFrame window.</li>
	</ol>
	<p>Some sloppy unfinished business includes making the member data private   (rather than default), and checking for bad user input in the text field.    We&apos;ll do those things in the next version.</p>
	<p>Obviously we haven&apos;t beamed our friend into the room yet, but at least now   the program is reacting to the user.  Progress.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_2.html -->



<a name="33_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - A Discriminating GUI</h1>
	<h2>5B.2.1 Filtering out Bad User Names</h2>
	<p>Now that the hard work is done, we can have some fun. We use what we know   about the language and mix in a couple useful built-in Java methods like <strong> isLetter()</strong>, a <em><strong>static class method </strong></em>of the class <strong>Character</strong>,   and <strong>length() </strong>and<strong> charAt()</strong>,<em><strong> instance methods</strong></em> of class <strong>String</strong>.  I also made the <strong>TranspoFrame</strong> data <strong>private</strong> since there was no need for it to have default access.</p>
	<p>First, an example of our program rejecting an unacceptable name from the   user:</p>
	<div class="picCenter"><img alt="GUI shot" border="2" height="261" src="./CS 1B Module 5B Section 2_files/pic_1a10_21.jpg" width="429"/></div>
	<p>Here is the source.  Run the program yourself and stand back!</p>

<pre>import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
   
public class Foothill 
{
 
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      TranspoFrame myTranspoFrame 
            = new TranspoFrame(&quot;Transporter Room&quot;);
      myTranspoFrame.setSize(300, 200);
      myTranspoFrame.setLocationRelativeTo(null);
      myTranspoFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myTranspoFrame.setVisible(true);
   }
}

// TranspoFrame class is derived from JFrame class
class TranspoFrame  extends JFrame
{
   private JButton btnMyButton;
   private JTextField txtMyTextArea;
   private JLabel lblMyLabel;
   
   // TranspoFrame constructor
   public TranspoFrame(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20); 
      setLayout(layout);
      
      // 3 controls: a label, a text field and a button
      lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
      txtMyTextArea = new JTextField(10);
      btnMyButton = new JButton(&quot;Press Here to See Friend&quot;); 
      add(lblMyLabel);
      add(txtMyTextArea);
      add(btnMyButton);
      btnMyButton.addActionListener( new SeeFriendListener() );
   }
   
   // inner class for JButton Listener
   class SeeFriendListener implements ActionListener
   {
      // event handler for JButton
      public void actionPerformed(ActionEvent e)
      {
         String strFriendName;
         
         strFriendName = txtMyTextArea.getText();
         if (strFriendName != null &amp;&amp; strFriendName.length() &gt;=2)
         {
            char first = strFriendName.charAt(0);
            if (Character.isLetter(first))
            {
               // good friend&apos;s name.  Now confirm
               JOptionPane.showMessageDialog(null, 
                  &quot;Please wait while we locate &quot; + strFriendName);
               return;
            }
         }
         
         // if we fall through they have unacceptable friend&apos;s name
         JOptionPane.showMessageDialog(null, 
            &quot;Name must be at least two chars and start with letter.&quot;);
         return;
      }
   } // end inner class SeeFriendListener
} // end class TranspoFrame

</pre>

	<p>How is the logic inside the event handler reacting to good or bad data?    What constitutes good or bad data?  Should we make this more restrictive?    If so, how?</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_3.html -->



<a name="34_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - GUI Calculator with Panels and Layouts</h1>
	<h2>5B.3.1 Overview of RPN Calculator</h2>
	<p>We won&apos;t go any further with our transporter GUI, as this was mostly review from CS 1A. However, we will reinforce these concepts by writing another GUI, this time one that you   can really use.  We will create a GUI-based calculator...but   not just any calculator: an <em><strong>RPN</strong></em> calculator. </p>
	<p><strong><em>RPN, </em></strong>or <strong></strong><em><strong>Reverse Polish Notation,</strong></em> was invented by Jan Lukasiewicz in the   1920s. It allowed complex mathematical expressions to be represented without   parentheses. For example the (infix notation) expression </p>
<pre><strong><font size="4">(4 + 5) × 6</font></strong></pre>
	
	<p>is expressed in <em><strong>RPN</strong></em> as </p>
<pre><strong><font size="4">4 5 + 6 ×</font></strong></pre>
	
	<p>Hewlett Packard based a generation of calculators on this principle because   it is very efficient for scientists and engineers (once you get used to it).     This week, we&apos;ll just write the interface, but next week will build a stack data   structure (which we will call <strong>MyStack)</strong> to turn this GUI into an <em><strong>RPN</strong></em> calculator.</p>
	<p>The GUI we are going to create will look like   this: </p>
	<div class="picCenter"><img alt="GUI shot" border="0" height="301" src="./CS 1B Module 5B Section 3_files/pic_1b5_1.jpg" width="250"/></div>
	<br/>
<div class="parenthetical">Please overlook the reference to the old course number CIS 27B in this, and other screen shots. It would be CS 1B if you compiled and ran the code in this module.</div>
	<h2>5B.3.2 A New Project: RPN Calculator</h2>
	<p> We&apos;ll   come back to the stack class in a little bit.  Right now it&apos;s time to start   designing the <em><strong>GUI</strong></em> for our <strong>RPN</strong> Calculator.</p>
	<p>Start a New Java project called <em> <strong>RPN Calculator</strong></em>, and add a main class   to it called <strong>RPN</strong>.  This is done exactly as you have every other   project in the course.</p>
	<p>Now we have to figure out how to create the control placement as you see in   the screen shot.</p>
	<h2>5B.3.3 BorderLayout</h2>
	<p>We are going to let <strong>RPN</strong> be our main class, then create a secondary   class called <strong>Calculator</strong>.  <strong>Calculator</strong> will be the class that,   like our earlier <strong>Transporter</strong> class, extends the <strong>JFrame</strong> class.</p>
	<p>In the past, we used <strong>FlowLayout</strong>, which is the simplest.  In <strong> FlowLayout</strong>, whenever you add a new component, it just appears to the right   of the previous one in the frame, and when there is no room, it goes on the next   line.  This is just like ordinary typing with word wrap.</p>
	<div class="picCenter"><img align="left" alt="GUI shot" border="0" height="301" hspace="20" src="./CS 1B Module 5B Section 3_files/pic_1b5_2.JPG" vspace="10" width="250"/></div>
	<p>In <strong>BorderLayout</strong>, there are up to five sections of the frame: <strong>NORTH,   SOUTH, EAST, WEST </strong>and<strong> CENTER</strong>.  You can look in the text for pictures   of the placement of each of these, but I think they are generally pretty   intuitive.  The only thing to note is that you can leave out a section   and, if you do, some other section will stretch out to take its place.</p>
	<p>In our current program, we are going to imbue our <strong>Calculator </strong>class   with <strong>BorderLayout</strong>, but only use <strong>NORTH, CENTER, </strong>and<strong> SOUTH</strong>.    The main part of our <strong>Calculator </strong>will occur in the <strong>CENTER </strong>and <strong>NORTH</strong> sections, while the <strong>SOUTH</strong> section simply has a text label in it</p>
	<p>Look at how this is done in the code (we are in the constructor of the <strong> Calculator </strong>class):</p>

<pre>//Calculator class is derived from JFrame class
class Calculator  extends JFrame
{
   // only look at three main components for this code snippet
   private JLabel lblInstructions;
   private JPanel pnlButtons, pnlTextEnter;

   
   // Calculator constructor
   public Calculator(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up main components for the JFrame
      pnlTextEnter = new JPanel( new GridLayout(1, 2, 10, 10));
      pnlButtons = new JPanel( new GridLayout(2, 2, 20, 20));
      lblInstructions = new JLabel(&quot;Use Reverse Polish Noatation&quot;);

      // use border layout and put three above components in frame
      setLayout (new BorderLayout(20, 10));
      add(pnlTextEnter, BorderLayout.NORTH );
      add(pnlButtons, BorderLayout.CENTER);
      add(lblInstructions, BorderLayout.SOUTH);

      // more to come in a few moments ...
   }
}
</pre>

	<p>We can almost understand this.  </p>
	<h4>Here are the missing details:</h4>
	<ul>
		<li>We&apos;re not sure what a <strong>JPanel</strong> is, but whatever it is, we are   	creating one called <strong>pnlButtons</strong> and placing it  in the large center   	area of the main frame, and another called <strong>pnlTextEnter</strong> and placing   	it on the top area.. </li>
		<li>We created both <strong>JPanels</strong> by passing something called a <strong>GridLayout</strong> object to their constructors.  We&apos;ll see what that means in the next section. </li>
		<li>When we set the layout, using<strong> setLayout()</strong>. In addition to seeing   	a <strong>BorderLayout</strong> constructor call in the <strong>setLayout</strong> argument   	lists, we see two numbers, <strong>(20, 10)</strong> passed to the constructor.  These are <em><strong>padding values</strong></em> (in   	pixels) describing the gaps between components.  We are asking for 20 pixels   	horizontally and 10 pixels vertically to be placed between the components. </li>
		<li>When we <strong>add()</strong> components to a <strong>BorderLayout</strong> container, we   	have to specify <strong>NORTH</strong>, <strong>CENTER</strong>, etc.  I&apos;ll bet you can figure   	out what that syntax is:  <strong>BorderLayout.SOUTH </strong>must be a<em><strong> public   	static member</strong></em> of the <strong>BorderLayout</strong> class.  Since it is a   	constant, it&apos;s probably also <strong>final</strong>.  This is not essential to your   	understanding this program, but it is important to be able to identify such   	syntax. </li>
	</ul>
	<h2>5B.3.4 JPanels and GridLayout</h2>
	<p> <img align="right" alt="GUI shot" border="0" height="301" hspace="20" src="./CS 1B Module 5B Section 3_files/pic_1b5_3.JPG" vspace="20" width="250"/>I can&apos;t keep the secret any longer.  A <strong>JPanel</strong> is an invisible    rectangular container in which we place other components. We created one called <strong>pnlButtons</strong> in our code above and placed it in the <strong>CENTER</strong> of the above <strong>(BorderLayout)</strong> <strong>JFrame</strong> because we wanted to add lots of stuff to it.  Now   it&apos;s time to add that stuff. </p>
	<p>Whenever we add things to any container, like a <strong>JFrame</strong> or a <strong>JPanel</strong>,   we have to do so using a layout manager.  This time we are going to use a <strong> GridLayout</strong>.  <strong>GridLayout</strong> allows you to break the frame or panel into a   rectangular grid:  2 x 2, 3 x 5, 10 x 10, whatever.  In this situation we want   four main sub-areas, so we&apos;ll create a 2 x 2 grid.  This was actually done when   we instantiated the <strong>pnlButtons</strong> <strong>JPanel</strong>, and in that instantiation, we saw not only the   2 x 2 numbers, but also 20, 20.  Those 20s were the horizontal and vertical gaps,   again, padding the components.  So the layout for the <strong>JPanel</strong> was done   when we instantiated it.</p>
	<p>Now, we are going to place four buttons inside this <strong>Panel</strong>.    I&apos;ll circle them so you can see the layout.  </p>
	<p>Once we declare this layout to be <strong>GridLayout</strong> and specify 2 x 2 (two rows,   two columns) we can then add exactly four items to the <strong>JPanel</strong>,   understood to be placed from left to right, top to bottom, as you read   (English!).  Here is the code:</p>

<pre>   // defined outside the constructor at class level
   private JButton btnPlus, btnMinus, btnMult, btnDiv;

   // set up the components for the pnlButtons Panel
   btnPlus = new JButton(&quot;+&quot;);
   btnMinus = new JButton(&quot;-&quot;);
   btnMult = new JButton(&quot;*&quot;);
   btnDiv = new JButton(&quot;/&quot;);
     
   // add components to pnlButtons Panel
   pnlButtons.add(btnPlus);
   pnlButtons.add(btnMinus);
   pnlButtons.add(btnMult);
   pnlButtons.add(btnDiv);
</pre>

	<p>We do the same thing with the <strong>pnlTextEnter</strong> <strong>JPanel</strong>, except for that we only   want two fields, one <strong>JTextField</strong> and one <strong>JButton</strong>.  Here is that code:</p>

<pre>   // defined outside the constructor at class level
   private JButton btnEnter;
   private JTextField txtNumber;

   // set up the components for the pnlTextEnter Panel 
   btnEnter = new JButton(&quot;Enter&quot;);
   txtNumber = new JTextField(&quot;0.0&quot;, 15);
  
   // add components to pnlTextEnter Panel
   pnlTextEnter.add(txtNumber);
   pnlTextEnter.add(btnEnter); 
</pre>

	<h2>5B.5.5 Panel Borders</h2>
	<p>I said that <strong>JPanels</strong> were invisible.  But you can make them visible by   doing one of two things (or both): </p>
	<ul>
		<li>Placing components in them (which we did) </li>
		<li>Putting borders around them (which we do now) </li>
	</ul>
	<p>Here&apos;s how to put a border around the panels:</p>

<pre>  // place borders around three sub-panels
  pnlTextEnter.setBorder(new TitledBorder(&quot;Entry and Result&quot;));
  pnlButtons.setBorder(new TitledBorder(&quot;Operator Buttons&quot;));
</pre>

	<p>As you can see, we&apos;re <em><strong>instantiating</strong></em> <em><strong>anonymous</strong></em> <strong> TitledBorder</strong> <em><strong>objects</strong></em> to pass to the <strong>setBorder()</strong> <em><strong> instance method</strong></em> of the <strong>JPanel</strong> class.  (That&apos;s actually a good   statement for you to analyze.)  We need a new import to deal with <strong>JPanel</strong> borders, import <strong>javax.swing.border.*.</strong></p>
	<p>Next we put it all into our Calculator constructor and watch it work.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_4.html -->



<a name="35_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - The RPN Calculator GUI</h1>
	<img alt="GUI shot" border="0" height="301" hspace="20" src="./CS 1B Module 5B Section 4_files/pic_1b5_1.jpg" vspace="10" width="250"/>
	<h2 align="left">5B.4.1 The Listing</h2>
	<p>We&apos;ve actually discussed every line of code, so I&apos;ll give you the entire   listing.  Again, this assumes you have created a project called <em><strong>RPN   Calculator </strong></em>and added a new main class <strong>RPN</strong>.  You can paste this into your <strong>RPN.java</strong> file and watch it run.</p>

<pre>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.border.*;

public class RPN
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      Calculator myCalculator 
            = new Calculator(&quot;CS 1B RPN Calculator&quot;);
      myCalculator.setSize(250, 300);
      myCalculator.setLocationRelativeTo(null);
      myCalculator.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myCalculator.setVisible(true);
   }
}

//Calculator class is derived from JFrame class
class Calculator  extends JFrame
{
   private JButton btnPlus, btnMinus, btnMult, btnDiv, btnEnter;
   private JTextField txtNumber;
   private JLabel lblInstructions;
   private JPanel pnlButtons, pnlTextEnter;
   
   // Calculator constructor
   public Calculator(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up main components for the JFrame
      pnlTextEnter = new JPanel( new GridLayout(1, 2, 10, 10));
      pnlButtons = new JPanel( new GridLayout(2, 2, 20, 20));
      lblInstructions = new JLabel(&quot;Use Reverse Polish Noatation&quot;);

      // use border layout and put three above components in frame
      setLayout (new BorderLayout(20, 10));
      add(pnlTextEnter, BorderLayout.NORTH );
      add(pnlButtons, BorderLayout.CENTER);
      add(lblInstructions, BorderLayout.SOUTH);

      // set up the components for the pnlTextEnter Panel
      btnEnter = new JButton(&quot;Enter&quot;);
      txtNumber = new JTextField(&quot;0.0&quot;, 15);
      
      // add components to pnlTextEnter Panel
      pnlTextEnter.add(txtNumber);
      pnlTextEnter.add(btnEnter);
      
      // set up the components for the pnlButtons Panel
      btnPlus = new JButton(&quot;+&quot;);
      btnMinus = new JButton(&quot;-&quot;);
      btnMult = new JButton(&quot;*&quot;);
      btnDiv = new JButton(&quot;/&quot;);
     
      // add components to pnlButtons Panel
      pnlButtons.add(btnPlus);
      pnlButtons.add(btnMinus);
      pnlButtons.add(btnMult);
      pnlButtons.add(btnDiv);
      
      // place borders around three sub-panels
      pnlTextEnter.setBorder(new TitledBorder(&quot;Entry and Result&quot;));
      pnlButtons.setBorder(new TitledBorder(&quot;Operator Buttons&quot;));
   }

} // end class Calculator</pre>


	<p>It won&apos;t do anything yet, but it should compile and run without error.    Make sure it does, and be certain that you have understood this lesson before   going on.</p>
	<h4>In the next sections, we&apos;ll make two general enhancements:</h4>
<ol>
			<li>We will add in our previous Stack class since an RPN calculator is inherently a stack-oriented device, and this class will come in handy.</li>
			<li>We will add event handlers to   make the application interactive.</li>
		</ol>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_5.html -->



<a name="36_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 5 - RPN As Multi-File Project</h1>
	<h2>5B.5.1 Adding the Stack Class</h2>
	<p>To keep our source files manageable, let&apos;s place our <strong>MyStack</strong> class into this   GUI program as a separate .java file.  We learned about this last week:</p>
	<ul>
		<li>In the Package Explorer at the left of your Eclipse IDE, right-click on <strong>RPN Calculator </strong>and select <strong>New → Class.</strong></li>
		<li>When you are given a dialog box,  give the class the name <strong>MyStack, </strong> and uncheck the <strong>public static void main()</strong> box.</li>
		<li>You will now have two <strong>.java</strong> files under your <strong>RPN Calculator</strong> project:  <strong>RPN.java </strong>and<strong> MyStack.java</strong>. </li>
		<li>Copy the entire <strong>MyStack</strong> source from the <strong>MyStack.java</strong> file of your   	console project we did in a previous week, and paste it into the <strong>MyStack.java</strong> file.  You will use that class as is, with no modifications.</li>
	</ul>
	<p> <img align="right" alt="IDE shot" border="2" height="73" src="./CS 1B Module 5B Section 5_files/pic_1b5_4.jpg" width="181"/>When   you are done, There should be two .java files in your <strong>RPN Calculato</strong>r   project, <strong>RPN.java</strong> and <strong>MyStack.java</strong>.  (There may also be   .class files from your earlier compilations.)</p>
	<h2 style="TEXT-ALIGN: left">5B.5.2 Test Your Changes</h2>
	<p style="TEXT-ALIGN: left">The previous steps should have resulted in the <strong> MyStack</strong> class becoming part of your application.  We haven&apos;t written any new   source to use it yet, but it is very important to make sure that we have not   damaged anything in the process.  So, save and clean these files and make sure   that there are no new errors introduced.  If you run it, you should see the same   &quot;brain-dead&quot; window appear.  If so, you can go on the  final phase of writing   the event handlers.</p>
	<h2 style="TEXT-ALIGN: left">5B.5.3 Controlling the JTextArea Field</h2>
	<p>Previously, we designed an event handler for the   button click in our Transporter applications.  In  it, we read the   value of the <strong>JTextField</strong> <strong>txtMyTextArea</strong> by using the<strong> getText()</strong> method:		
	</p>
	<pre>   // event handler for JButton
   public void actionPerformed(ActionEvent e)
   {
      String strFriendName;
      strFriendName = txtMyTextArea.getText();
		 ...
</pre>

		<p style="text-align: left">We can do many other things with a <strong>JTextField</strong>, among   them:</p>
	<ul>
		<li> Write to the field with <strong>setText()</strong>		</li>
		<li> Place the mouse cursor into the text field with   	<strong>requestFocus()</strong> </li>
	</ul>
	<p style="text-align: left">We will be using both of these methods in our   calculator</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_6.html -->



<a name="37_"></a>


<div class="container">
  <div class="content">
  	<h1 style="TEXT-ALIGN: left">Section 6 - RPN Logic</h1>
	<h2 style="TEXT-ALIGN: left">5B.6.1 Computing in RPN</h2>
	<p style="TEXT-ALIGN: left"><em><strong>RPN</strong></em>,or <em><strong>postfix</strong></em>, notation   is an alternative to the more well known <em><strong>infix</strong></em> notation.  In <em> <strong>infix</strong></em> notation, we write the operator <em><u>between</u></em> the two   operands:</p>
	<p align="center"><strong><font size="5">2 + 3</font></strong></p>
	<p style="TEXT-ALIGN: left">In <em><strong>RPN</strong></em> we  write the operator <em> <u>after</u></em> the two operands:</p>
	<p align="center"><strong><font size="5">2 3 +</font></strong></p>
	<p style="TEXT-ALIGN: left">While this seems like a trivial change, it allows   any expression to be written without parentheses.  For example, there is no way   to write the following expression on one line without parentheses using infix   notation:</p>
	<p align="center"><strong><font size="5">(2 + 3) / (4 + 5)</font></strong></p>
	<p style="TEXT-ALIGN: left">In <em><strong>RPN</strong></em>, however, we can write the same   expression as follows:</p>
	<p align="center"><strong><font size="5">2 3 + 4 5 + /</font></strong></p>
	<p style="TEXT-ALIGN: left">The key is that after each operation, the two   operands to the left are replaced by the result.  So 2 3 + is replaced by 5   making the above expression<span style="background-color:#ffff00; "> 5 4 5 + /</span>.    Re-evaluating, the + adds the 4 and 5 leaving a 9 in its place, or reducing the   expression to 5 9 / which then   becomes 0.5555555.</p>
	<p style="TEXT-ALIGN: left">Computing <em><strong>RPN</strong></em> expressions is easy if   you have a <em><strong>stack</strong></em>.  Here is the algorithm:</p>
	<ul>
		<li> Scan the expression from left to right		</li>
		<li> When you come to a number push it onto the   	stack.		</li>
		<li> When you come to an operation, pop the last two   	numbers off the stack, and apply the operation to them.		</li>
		<li> Push the result back onto the stack		</li>
		<li> When you reach the end of the expression, the   	answer is on the top of the stack.		</li>
	</ul>
	<div class="important"> Note
		<p> When you pop two numbers off the stack, the first of the two popped numbers is   the right-hand operand, the second is the left-hand operand.</p>
	</div>
	<h4 style="TEXT-ALIGN: left">Examples:</h4>
	<div class="narrowTable">
		<table>
			<tbody><tr>
				<th>Infix
				</th><th>Postfix (RPN)
				</th></tr>
			<tr>
				<td align="middle">2 + 3</td>
				<td align="middle">2 3 +</td>
				</tr>
			<tr>
				<td align="middle">(2 + 3) / (4 + 5)</td>
				<td align="middle">2 3 + 4 5 + /</td>
				</tr>
			<tr>
				<td align="middle">2 / (3 / (4 + 5))</td>
				<td align="middle">2 3 4 5 + / /</td>
				</tr>
		</tbody></table>
	</div>
	
	<h2 style="TEXT-ALIGN: left">5B.6.2 Our Implementation.</h2>
	<p style="TEXT-ALIGN: left">Our RPN calculator will look like this:</p>
	<p style="TEXT-ALIGN: left"> <img alt="gui shot" border="0" height="301" src="./CS 1B Module 5B Section 6_files/pic_1b5_1.jpg" width="250"/></p>
	<p style="TEXT-ALIGN: left">In order for the user to evaluate <strong> 2+3</strong>, that is, <strong> 2 3 +</strong>, he will do the   following:</p>
	<ul>
		<li> type <strong>2</strong>, then click the <strong>Enter</strong> button		</li>
		<li> type <strong>3</strong>, then click the <strong>Enter</strong> button		</li>
		<li> click the <strong>+</strong> button.		</li>
	</ul>
	<p style="TEXT-ALIGN: left">The answer will appear be in the <strong>JTextArea</strong>.</p>
	<p style="TEXT-ALIGN: left">Unlike many <em><strong>RPN</strong></em> calculators, we will   require that the user hit the enter key for both numbers.  In other words this   is <strong><u><em><font size="5">not</font></em></u></strong> how our program will work:</p>
	<ul>
		<li> type <strong>2</strong>, then click <strong>Enter</strong>		</li>
		<li> type <strong>3</strong>, then click <strong>+</strong>		</li>
	</ul>
	<p style="TEXT-ALIGN: left">We only make this restriction to keep our logic   simpler. </p>
	<h2 style="TEXT-ALIGN: left">5B.6.3 Using a Stack</h2>
	<p style="text-align: left">As you can tell from what we said above, expressions like 2 / (3 / (4 + 5)) (which is <strong> 2 3 4 5 + / /</strong> in <em><strong>RPN)</strong></em> require a   stack.  Reading the RPN expression from left to right, we push numbers onto   the stack as they are encountered.   When we come to an operator, we   pop the last two numbers off the stack in order to let that operator operate on    them.  </p>
	<p style="text-align: left">A stack is indispensable when evaluating an <em><strong>RPN</strong></em> expression.</p>
	<h2 style="TEXT-ALIGN: left">5B.6.4 Making the MyStack Accessible.</h2>
	<p style="TEXT-ALIGN: left">We need a stack in our program.  This means that we   must declare a <strong>MyStack</strong> object somewhere.  Since the natural place to do   this is in the <strong>Calculator</strong> class, we will make the <strong>MyStack</strong> object a private   member of that class, which will allow all of the Calculator event handlers to   push and pop off of it.  </p>
	<p style="TEXT-ALIGN: left">Let&apos;s see that, along with the other private members   of class <strong>Calculator</strong>:</p>
	
<pre>//Calculator class is derived from JFrame class
class Calculator  extends JFrame
{
   private JButton btnPlus, btnMinus, btnMult, btnDiv, btnEnter;
   private JTextField txtNumber;
   private JLabel lblInstructions;
   private JPanel pnlButtons, pnlTextEnter;
   private MyStack stk;
	...
</pre>
	
	<p>We are now ready to take the last step:  writing and enabling the two   inner Listener Classes for our controls.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_7.html -->



<a name="38_"></a>


<div class="container">
  <div class="content">
  	<h1 style="TEXT-ALIGN: left">Section 7 - The Event Handlers</h1>
	<h2 style="TEXT-ALIGN: left">5B.7.1 The Enter Button Handler</h2>
	<p style="TEXT-ALIGN: left">We are going to need two event listeners.  One   for the <strong>Enter</strong> button which will allow us to push numbers on to the stack.   Another for any of the four <strong><em>operator keys</em></strong>, which will pop items   off the stack and do a computation.  We&apos;ll take the<strong><em> E</em></strong><em><strong>nter   button listener</strong></em> first.</p>
	<h3 style="TEXT-ALIGN: left">The Plan</h3>
	<p style="text-align: left">It&apos;s a simple plan.  </p>
	<h4 style="text-align: left">If the user presses the <strong>Enter</strong> button we:</h4>
	<ol>
		<li> Read the Text value from the text field   	into a local <strong>String</strong> variable, <strong>strA</strong>.		</li>
		<li> Clear the text field and set the focus to   	prepare for another number from the user.		</li>
		<li> Convert the String, <strong>strA</strong> to a double, <strong>dblA</strong>. (If   	there is an error here, we just return).		</li>
		<li> Push the double, <strong>dblA</strong> onto our <strong>MyStack</strong> object, <strong>stk</strong>.		</li>
	</ol>
	<p style="text-align: left">What could possibly go wrong?</p>
	<p style="text-align: left">This listener can work for both the button click and   also the enter key of the text field.  Both of those are action events.</p>
	<h3 style="text-align: left">The Source Code for the Enter Method Handler</h3>
	<p style="text-align: left">Here it is.  We&apos;ve actually discussed every   line of it, so you only have to read it, understand it, copy and paste it and   try it out.  If there is anything you don&apos;t understand, reread the few   previous sections and, if you can&apos;t find the answer, ask.</p>

<pre>// inner class for btnEnter and txtNumber Listener
class EnterListener implements ActionListener
{
   // event handler for JButton or Enter Key
   public void actionPerformed(ActionEvent e)
   {
      double dblA = 0;
      String strA;

      // read value from text fields into local variables
      strA = txtNumber.getText();
      txtNumber.setText(&quot;&quot;);  // clear
      txtNumber.requestFocus();

      // try to convert from String to double, return if fail
      try
      {
         dblA = Double.parseDouble(strA);
      }
      catch (NumberFormatException error)
      {
         return;
      }
     
      if ( !stk.push(dblA) )
         txtNumber.setText( &quot;Stack Overflow&quot;);
   }
} // end inner class EnterListener
</pre>

	<p style="text-align: left">The above code will appear as an inner class to the   Calculator, placed anywhere inside that class but outside other method or class   definitions.  We will see it completely in a moment.</p>
	<h3 style="text-align: left">Registering the Listener with the Controls</h3>
	<p style="text-align: left">We have to associate this listener with the btnEnter   JButton and the txtNumber JTextArea.  This is done as we have in the past:</p>

<pre>   // register Enter listeners (for pushing numbers)
   ActionListener enterListener = new EnterListener();
   btnEnter.addActionListener( enterListener );
   txtNumber.addActionListener( enterListener );
</pre>

	<p style="text-align: left">This code will appear in the constructor for the   Calculator class.  We will see that soon.</p>
	<h2 style="text-align: left">5B.7.2 The Addition Event Handler</h2>
	<h3 style="text-align: left">The Plan</h3>
	<h4 style="text-align: left">If the user presses the +   button we:</h4>
	<ol>
		<li> Pop two doubles off the stack, store them in <strong>dbl1</strong>, <strong>dbl2</strong> (return if stack does not have at least two items on it).		</li>
		<li> Add the doubles, placing the answer into a   	double <strong>dblResult</strong>.		</li>
		<li> Convert the double <strong>dblResult</strong> to a String <strong>strResult</strong>..		</li>
		<li> Set the Text of the <strong>textA</strong> to display the   	new String <strong>strResult</strong>.		</li>
		<li> Push the answer <strong>dblResult</strong>, back onto the   	stack for future calculations.		</li>
	</ol>
	<h3 style="text-align: left">The Source Code for the Enter Method Handler</h3>
	<p style="text-align: left">Here it is.  Instead of calling it the   AddListener, I&apos;m calling it the OpListener, because we can use this for every   one of the four operators.  However, I&apos;m only going to implement it for   addition.  You will see that I have left out code for -, * and /.</p>

<pre>// inner class for OpListener
   class OpListener implements ActionListener
   {
      // event handler for JButton or Enter Key
      public void actionPerformed(ActionEvent e)
      {
         String strResult;
         Double dbl1, dbl2, dblResult;

         // pop two items
         if (!stk.testStack(2))
            return;
         dbl2 = stk.pop();
         dbl1 = stk.pop();

         // do the math
         if (e.getSource()== btnPlus)
            dblResult = dbl1 + dbl2;
         // else ... other operators ... ??

         // convert from double to  String
         NumberFormat tidy = NumberFormat.getInstance(Locale.US);
         tidy.setMaximumFractionDigits(10);
         strResult = tidy.format(dblResult);


         // write result back to TextA and push
         txtNumber.setText(strResult);
         stk.push(dblResult);
      }
   } // end inner class OpListener
</pre>

	<p style="text-align: left">The above code will appear as an inner class to the   Calculator, placed anywhere inside that class but outside other method or class   definitions.  We will see it completely in a moment.</p>
	<h3 style="text-align: left">Registering the Listener with the Controls</h3>
	<p style="text-align: left">We have to associate this listener with the btnPlusJButton   and as well as the other three operator buttons:</p>

<pre>   // register Operation listeners (for doing the math)
   ActionListener opListener = new OpListener();
   btnPlus.addActionListener( opListener );
   btnMinus.addActionListener( opListener );
   btnMult.addActionListener( opListener );
   btnDiv.addActionListener( opListener );
</pre>
	
	<p style="text-align: left">Although we have registered the listener with all   four buttons, it will only function with the plus button since we have not   written the code yet to deal with the other three.</p>
	<p style="text-align: left">Let&apos;s look at the entire source on the next page.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_5b_8.html -->



<a name="39_"></a>


<div class="container">
  <div class="content">
  	<h1 style="TEXT-ALIGN: left">Section 8 - The Listing</h1>
	<h2 style="TEXT-ALIGN: left">5B.8.1 The RPN Listing</h2>
	<p>This is the program minus:</p>
	<ul>
		<li>The <strong>MyStack</strong> class which you should have already copied and added to your   	project in a separate <strong>MyStack.java</strong> file.</li>
		<li>The code for the -, * and / operators.</li>
	</ul>
	<p>Try it out:</p>

<pre>import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.border.*;
import java.util.*;
import java.text.*;


public class RPN
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      Calculator myCalculator 
            = new Calculator(&quot;CS 1B RPN Calculator&quot;);
      myCalculator.setSize(250, 300);
      myCalculator.setLocationRelativeTo(null);
      myCalculator.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myCalculator.setVisible(true);
   }
}

//Calculator class is derived from JFrame class
class Calculator  extends JFrame
{
   private JButton btnPlus, btnMinus, btnMult, btnDiv, btnEnter;
   private JTextField txtNumber;
   private JLabel lblInstructions;
   private JPanel pnlButtons, pnlTextEnter;
   private MyStack stk;
   
   // Calculator constructor
   public Calculator(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set up main components for the JFrame
      lblInstructions = new JLabel(&quot;Use Reverse Polish Noatation&quot;);
      pnlTextEnter = new JPanel( new GridLayout(1, 2, 10, 10));
      pnlButtons = new JPanel( new GridLayout(2, 2, 20, 20));

      // use border layout and put three above components in frame
      setLayout (new BorderLayout(20, 10));
      add(pnlTextEnter, BorderLayout.NORTH );
      add(pnlButtons, BorderLayout.CENTER);
      add(lblInstructions, BorderLayout.SOUTH);

      // set up the components for the pnlTextEnter Panel
      btnEnter = new JButton(&quot;Enter&quot;);
      txtNumber = new JTextField(&quot;0.0&quot;, 15);
      
      // add components to pnlTextEnter Panel
      pnlTextEnter.add(txtNumber);
      pnlTextEnter.add(btnEnter);
      
      // set up the components for the pnlButtons Panel
      btnPlus = new JButton(&quot;+&quot;);
      btnMinus = new JButton(&quot;-&quot;);
      btnMult = new JButton(&quot;*&quot;);
      btnDiv = new JButton(&quot;/&quot;);
     
      // add components to pnlTextEnter Panel
      pnlButtons.add(btnPlus);
      pnlButtons.add(btnMinus);
      pnlButtons.add(btnMult);
      pnlButtons.add(btnDiv);
      
      // place borders around three sub-panels
      pnlTextEnter.setBorder(new TitledBorder(&quot;Entry and Result&quot;));
      pnlButtons.setBorder(new TitledBorder(&quot;Operator Buttons&quot;));
      
      // register Enter listeners (for pushing numbers)
      ActionListener enterListener = new EnterListener();
      btnEnter.addActionListener( enterListener );
      txtNumber.addActionListener( enterListener );
 
      // register Operation listeners (for doing the math)
      ActionListener opListener = new OpListener();
      btnPlus.addActionListener( opListener );
      btnMinus.addActionListener( opListener );
      btnMult.addActionListener( opListener );
      btnDiv.addActionListener( opListener );
      
      // create a stack
      stk = new MyStack();    
   }

   // inner class for btnEnter and txtNumber Listener
   class EnterListener implements ActionListener
   {
      // event handler for JButton or Enter Key
      public void actionPerformed(ActionEvent e)
      {
         double dblA = 0;
         String strA;

         // read value from text fields into local variables
         strA = txtNumber.getText();
         txtNumber.setText(&quot;&quot;);  // clear
         txtNumber.requestFocus();

         // try to convert from String to double, return if fail
         try
         {
            dblA = Double.parseDouble(strA);
         }
         catch (NumberFormatException error)
         {
            return;
         }
     
         if ( !stk.push(dblA) )
            txtNumber.setText( &quot;Stack Overflow&quot;);
      }
   } // end inner class EnterListener
 
   // inner class for OpListener
   class OpListener implements ActionListener
   {
      // event handler for JButton or Enter Key
      public void actionPerformed(ActionEvent e)
      {
         String strResult;
         Double dbl1, dbl2, dblResult;

         // pop two items
         if (!stk.testStack(2))
            return;
         dbl2 = stk.pop();
         dbl1 = stk.pop();

         // do the math
         // if (e.getSource()== btnPlus)  // add &quot;if&quot;  for other ops
            dblResult = dbl1 + dbl2;

         // convert from double to  String
         NumberFormat tidy = NumberFormat.getInstance(Locale.US);
         tidy.setMaximumFractionDigits(10);
         strResult = tidy.format(dblResult);


         // write result back to TextA and push
         txtNumber.setText(strResult);
         stk.push(dblResult);
      }
   } // end inner class OpListener

} // end class Calculator
</pre>

	<p>As you can see, it is not that complicated.  It uses only the concepts   we learned and does so very cleanly.</p>
	<p>Now of course, I&apos;m going to want you to turn it into a fully functional RPN   Calculator, which means you have to do two things:</p>
	<ul>
		<li>Implement the missing code for the other operators in an if/else block</li>
		<li>Avoid division by zero.  How do you do that?</li>
		</ul>
	<p>We had a good review of Java GUI programming and have also extended our knowledge of stack data structures and mutli-file projects. See you next week.</p>
	</div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_1.html -->



<a name="40_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Introduction to Applets</h1>
  	<h2>6A.1.1 Introduction to Week Six</h2>
  	<img align="right" alt="scenic dam" border="1" height="300" hspace="7" src="./CS 1B Module 6A Section 1_files/cs_B_common_19.JPG" vspace="6" width="200"/>
<p> This   week we consider <strong>GUI</strong> programming in   more depth, and <em><strong>Applets</strong></em> in particular. Depending on the quarter and my mood, this GUI material may or may not be used immediately, and might apply to a future assignment, not necessarily this week&apos;s assignment.</p>
<p> Another, long awaited topic we will study is that of <font color="#800080"><em> <strong>Exception Handling</strong></em></font>.</p>
<h3>Applets and GUI</h3>
<p> <strong>Applets</strong> are nothing more than   Java programs that can be run over the web.  You store them on the web   server with your web page, and when the user clicks on a certain link that you   supplied, your applet will run on his or her system, right inside the web   browser. </p>
<p>You see this happening all the time when you visit pages that have embedded   Java applets.</p>
<p>Then, we are going to learn more about graphics and drawing in Java   applications as we discover how to draw onto <strong>JPanels</strong>. We will even learn one of   the more important general programming concepts as a by product: state   variables.</p>
<h3>Reading</h3>
<p>Review the links given in the A modules of the first weeks, especially the ones involving GUI and Exception classes.</p>
<h2> 6A.1.2   Java and Applets<img align="right" alt="pretty pastry" border="0" height="200" hspace="9" src="./CS 1B Module 6A Section 1_files/cs_B_common_22.JPG" vspace="7" width="300"/></h2>
<p>An <strong>Applet</strong> is similar to an <em><strong>application</strong></em> (the sort of   program we have written so far) but <strong>Applets</strong> are run from web browsers. In   some development environments (<em><strong>Eclipse</strong></em>, e.g.) you may not see this   difference because they are designed to let you run either your <em><strong> application</strong></em> or <strong>Applet</strong> directly inside them. They will look   different, to be sure, but there isn&apos;t a difference in how they are launched. In   other development environments when you run your applet,<em><strong> Internet Explorer</strong></em> is automatically launched and your <strong>Applet</strong> runs inside the browser window.   An <strong>Applet</strong> can even be transported over the web and run on someone else&apos;s   system. It is this so-called platform independence (and the large platform   independent libraries that go with this feature) that makes <strong>Java</strong> special.</p>
<h2>6A.1.3 Applets and Security</h2>
<p>The idea that programs could be run on your computer without your realizing   it introduces many security issues. </p>
<p>Java protects you from such potential security issues by providing a   verification layer that kicks in when an applet is run. This often surprises   programmers when converting applications to <strong>Applets</strong> because certain <strong> Applets</strong> work when testing them in their development environment, but when   placed on a web site, suddenly: no-can-run; they generate security exceptions.   You have to design for <strong>Applets</strong> or <em><strong>applications</strong></em>,   accordingly. </p>
<h2>6A.1.4 The File Components of an Applet</h2>
<p>With an <strong>Applet</strong> one needs to deal with more than just the source .java   files.  Here are the files associated with every applet:</p>
<ul>
	<li>a <strong>.java source file</strong> into which to put our program statements   	(same as we have been doing up until now)</li>
	<li>the <strong>.class files</strong> that it generates (also something that has been   	part of our application process)</li>
	<li>an <strong>.html file </strong>that points to the .class file (this is new - every   	applet needs to be called from an html file)</li>
	<li><strong>a browser</strong> into which we load this .html file (also new - like   	Safari, Internet Explorer or Firefox.</li>
</ul>
So the file and procedure sequence goes something like this:
<ol>
	<li>Edit the <strong>.java </strong>file. </li>
	<li><em><strong>Compile</strong></em> it, thus generating various <strong>.class files </strong> (or .jar files for smaller, compressed archives). </li>
	<li><em><strong>Create</strong></em> your <strong>.html file</strong> which references your Applet   	using the name of  the <strong>.class </strong>(or .jar) files. </li>
	<li>Using your browser,<em><strong> load the .html file</strong></em>. </li>
</ol>
<p>The Applet will run inside your browser window.  
</p>
<p>While this is technically true, for our purposes we will develop and test   applets just as we have applications.  That&apos;s because Eclipse provides its   own internal browser and HTML simulator for launching our applets.</p>
<h2>6A.1.5 The Event-Driven Nature of Applets</h2>
<p>In Java applications we had one main class (that I usually called <strong>Foothill</strong>),   and it contained, at a minimum, the principal method<strong> main().  </strong>Program   execution always began at the top of this<strong> main()</strong> method.</p>
<p>In <strong>Applets</strong>, instead of there being one <strong>main</strong>() method at which   the program begins, and which controls the thread of execution, there are   several important <em><strong>methods</strong></em> whose names are pre-ordained by Java: </p>

<pre>   paint()
   init()
   start()
   stop()
   destroy()
   actionPerformed()
</pre>

<p>This is not a complete list, just a few key methods. Not all of these methods   must be included in your program, but many will be, and if they are, they must   have the these names. </p>
<p>Note that <strong>main</strong>() is not among them! Program execution does not begin   in <strong>main</strong>() in an <strong>Applet</strong>. Instead, it begins somewhere outside our   program (in the web browser or the applet driver of the IDE). Then, during the   life of our <strong>Applet</strong>, these <em><strong>methods</strong></em> are occasionally called   for us. </p>
<p>For instance, when the <strong>Applet</strong> is born, the <strong>init</strong>() <em><strong>method</strong></em> is called. When the user moves it off the screen (by clicking on the back arrow   of the browser) the <strong>stop</strong>() method is called. If it is reloaded later, the <strong>start</strong>() method is called. If the user clicks on one of our GUI controls   the <strong>actionPerformed</strong>() may be called. </p>
<p>This is known as <strong><em>event-driven programming</em></strong> and we&apos;ve been using   it in our Swing GUI programs whenever we had buttons or text areas for the user   to manipulate. Our program is designed to respond to events quickly and   efficiently and then return to the client -- in this case a client over which   we have no direct control. </p>
<h2>6A.1.6 An Easy Applet</h2>
<p>It would be unfair to make you read all of this theory without providing at   least one short example before leaving the page.  So here is  a simple <strong> Applet</strong>.  I made it more verbose than I had to in order to demonstrate   the<strong> init() </strong>and<strong> paint() </strong>methods.  </p>
<p>You should create a new project called <strong> JApplet Project</strong> and add a new class <strong>Foothill</strong>.  Then paste the   following source code into the <strong>Foothill.java</strong> file.</p>

<pre>import java.awt.*;
import java.applet.*;
  
public class Foothill extends Applet
{
   String message;
   public void init() 
   {
      message = new String(&quot;Hi Java World.&quot;);
   }
  
   public void paint( Graphics g ) 
   {
      g.drawString( message, 30, 30 );
   }
}
</pre>

<p>There is one possible change  you may notice when launching your application. If you click <strong>Run As</strong>, you&apos;ll see <strong>Applet</strong> instead of <strong>Application</strong>: <strong>Run As →   Java Applet. </strong></p>
<div class="picCenter"> <img alt="app launch" height="182" src="./CS 1B Module 6A Section 1_files/appPic6.JPG" width="517"/></div>

<p>Here&apos;s the run:</p>
<div class="picCenter"> <img alt="app pic" height="356" src="./CS 1B Module 6A Section 1_files/appPic7.JPG" width="260"/>You&apos;ll see the   window at right appear, probably in the far upper left of your screen.</div>
<p>There is a lot you can tell from looking at the source and run:</p>
<ul>
	<li>Our class is derived from the <strong>Applet</strong> class in the <strong>java.awt </strong> <em>package</em>.</li>
	<li>We have private data and public methods as we do in most classes.</li>
	<li>There are two methods, <strong>init() </strong>and<strong> paint()</strong> which we   	override from the base class <strong>Applet</strong>.</li>
	<li>The<strong> init() </strong>method is just like a <em><strong>constructor</strong></em>.    	Usually with Applets, programmers use <strong>init()</strong> instead of constructors   	to initialize data.  You could use either or both.</li>
	<li>The<strong> paint() </strong>method is drawing directly to the applet panel.    	This is not typical -- usually we draw inside sub-panels of the applet   	frame, however it works well for a demonstration.</li>
	<li>We are making use of an instance method called <strong>drawString()</strong> that   	we have not seen before.  This is not unique to <strong>Applets</strong> - we   	could have used it, and can use it, in any Swing-based GUI application.   <strong>drawString() </strong>is one of several methods like <strong>drawOval(), drawLine(),   	drawImage() </strong>etc.  in the <strong>Graphics</strong> class.  These are   	fundamentally different from components like <strong>JButtons</strong> or <strong> JTextAreas</strong>, in that drawing does not create any <em>objects</em>.     	There is only the nameless light and color that results from the <strong>draw()</strong> method. Once the String is drawn, the affected pixels are on their own.    	They&apos;ll get no further help from our program or the JRE.</li>
	<li>Every time our window is damaged (the user covers it with a spreadsheet   	when the boss walks past, then reveals our applet window again), the browser   	automatically calls the <strong>paint()</strong> method so it can repair the damage.    	That&apos;s why we put the <strong>drawString() </strong>method inside <strong>paint()</strong>.    	Those pixels were erased and have to be redrawn.  Any drawing that you   	do with draw() functions must be called inside <strong>paint(),</strong> either   	directly, as we have done here, or indirectly, but calling another method   	that draws the graphics.</li>
	<li>In summary, <strong>init()</strong> is called when the applet starts, and paint() is   	called whenever JRE detects damage to our window requires a fresh coat of   	... paint.</li>
</ul>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_2.html -->



<a name="41_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - Swing Applets</h1>
	<h2> 6A.2.1 JApplets</h2>
	<p> Usually, programmers choose to work with the <strong>Swing</strong> components <strong>JButton,   JTextArea</strong>, etc. because they are lightweight and have more functionality   than the older <strong>AWT</strong> components.  That&apos;s why we use <strong>Swing</strong> components   in these courses.  It is also why we will use <strong>JApplets</strong> instead of <strong> Applets</strong>.</p>
	<p><strong>JApplets</strong> are used in very much the same way as <strong>Applets</strong>.    In fact, now that you know about inheritance, I can tell you that <strong>JApplets</strong> are derived from <strong>Applets</strong>, and therefore inherit all of their public   behavior and methods. Therefore, the <strong>init() </strong>and<strong> paint()</strong> methods   are still there for us.</p>
	<p>Here is a reproduction of the first <strong>Swing</strong> GUI that we did the first week --   the &apos;brain dead&quot; Transporter.  I&apos;ve added a <strong>drawString()</strong> to it to   help demonstrate how to combine <strong>JComponents</strong> with the <strong> Graphics</strong> instance methods like <strong>drawString().</strong></p>

<pre>import java.awt.*;
import javax.swing.*;
import java.awt.Graphics;

public class Foothill extends JApplet
{
   JLabel lblMyLabel;
   JTextField txtMyTextArea;
   JButton btnMyButton;
   
   public void init()
   {
      // control the size of the applet
      setSize(300, 200);
      // set up layout which will control placement of buttons, etc.
      FlowLayout layout = new FlowLayout(FlowLayout.CENTER, 5, 20);  
      setLayout(layout);

      // 3 controls: a label, a text field and a button
      lblMyLabel = new JLabel(&quot;Friend&apos;s Name: &quot;);
      txtMyTextArea = new JTextField(10);
      btnMyButton = new JButton(&quot;Press Here to See Friend&quot;);
      
      // place your 3 controls onto applet
      add(lblMyLabel);
      add(txtMyTextArea);
      add(btnMyButton);
   }
   public void paint(Graphics g)
   {
      paintComponents(g);
      g.drawString(&quot;(An applet version of Transporter)&quot;, 40, 180);
   }
}
</pre>

	<p>It yields this:</p>
	<div class="picCenter"><img alt="GUI shot" border="0" height="276" src="./CS 1B Module 6A Section 2_files/pic_1b6_3.jpg" width="307"/></div>
	<p>Because there are no event handlers, there is no behavior.  However   notice that if you cover and then reveal this applet window with something on   your desktop, the <strong>JComponents</strong> and <strong>drawString()</strong> text are redrawn.  This is   something you cannot take for granted with <strong>JApplets</strong>, and the secret is inside   our <strong>paint()</strong> method:</p>
<pre>   public void paint(Graphics g)
   {
      paintComponents(g);
      g.drawString(&quot;(An applet version of Transporter)&quot;, 40, 180);  
   }
</pre>
	
	<p>You see that there is a new, mysterious, call to <strong>paintComponents(</strong>).    This is needed in <strong>JApplets</strong>.  It does what <strong>drawString()</strong> does - replaces the   beautiful window as it was when we created it.</p>
	<p>If you experiment with this and change the order of the two lines in the <strong>paint() </strong>method, what happens?  Why?</p>
	<p>Incidentally, you do not call your <strong>paint</strong>() method directly. This is   done for you as needed. But what if you want to <u>force</u> a refresh? Your user   has changed a value on some electrical simulator applet and you want to redraw   the circuit even though there has been no damage to the window. This is easy.   There is a method called <strong>repaint</strong>() that you use to ask Java to call <strong> paint</strong>() for you.   You can issue <strong>repaint()</strong> from any method, even a   constructor or <strong>init()</strong>.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_3.html -->



<a name="42_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - The .html File</h1>
	<h2>6A.3.1 The .html File</h2>
	<p> I   said that every applet is associated with an <strong>.html</strong> file that helps load it.    If so, where is the <strong>.html</strong> file associated with the <strong>Foothill</strong> applet, and what would it look like?    </p>
	<p>It could be an <strong>.html </strong>file that contains nothing but  this:</p>

<pre> &lt;APPLET CODE=&quot;Foothill&quot; WIDTH=200 HEIGHT=500&gt;
  &lt;param name=&quot;first&quot; value=&quot;Foothill College&quot;&gt;
  &lt;param name=&quot;second&quot; value=&quot;CS 1B&quot;&gt;
 &lt;/APPLET&gt; 
</pre>

	<p>Or, it might be a larger file that has this as a small section.</p>
	<p>The <strong>height</strong> and <strong>width</strong> are set to <strong>200</strong> and <strong>500</strong>, and there are two <em><strong>parameters</strong></em> named <strong>first</strong> and <strong>second</strong> using the <strong>name=</strong> tag. Their <em><strong>values</strong></em> are assigned using the <strong>value=</strong> tag next to each parameter.</p>
	<p>In a real-world application, an applet may be lanched merely by opening the <strong>.html</strong> page that contains this code in your browser. However, this requires security configurations that we won&apos;t cover in our course. Insetead, we have to simulate the file in <strong><em>Eclipse</em></strong>.</p>
	<h2>6A.3.2 Getting the Parameters From the .html File</h2>
	<p>An applet associated with the <strong>.html</strong> file above would acquire the <em><strong>parameters</strong></em> through the <strong>getParameter()</strong> method. The size (<strong>width</strong> and <strong>height</strong>) of the applet window are automatically applied by the applet.</p>
	<p>The <strong><em>applet source</em></strong> that uses this hypothetical<strong> .html</strong> file might look like:</p>
    
<pre>import java.applet.*;
import java.awt.Graphics;
  
public class Foothill extends Applet
{
   String message;
   String param1, param2;
   
   public void init() 
   {
      message = new String(&quot;Hi Java World.&quot;);
      
      // get the arguments from the simulated &quot;html&quot; file.
      param1 = getParameter(&quot;first&quot;);
      param2 = getParameter(&quot;second&quot;);
   }
  
   public void paint( Graphics g ) 
   {
      g.drawString( message, 30, 30 );
      g.drawString( &quot;1st Param: &quot; + param1, 30, 70 );
      g.drawString( &quot;2st Param: &quot; + param2, 30, 110 );
   }
}
    </pre>
	<p>Here&apos;s the run:</p>
    <div class="picCenter"> <img alt="applet1" src="./CS 1B Module 6A Section 3_files/appletPic5.JPG"/>    </div>
	<h2>6A.3.3 Simulating the .html file in Eclipse</h2>
	 <p></p>
	<p><strong><em>Eclipse</em></strong> simulates a default <strong>.html </strong>file for you. The parameters that normally go into that <strong>.html</strong> file are set in the <strong>Run Configurations</strong> menu:</p>
    <div class="picCenter"> <img alt="run cofig 1" height="305" src="./CS 1B Module 6A Section 3_files/appletPic1.JPG" width="328"/>    </div>
	<p>You can set the size of the window as shown:</p>
    <div class="picCenter"> <img alt="run config 2" height="206" src="./CS 1B Module 6A Section 3_files/appletPic2.JPG" width="408"/>    </div>
	<p>To add one or more <em><strong>parameters</strong></em>, click the <strong>Add</strong> button and supply the <em><strong>name</strong></em> and <em><strong>value</strong></em> of each parameter (as a pair):</p>
    <div class="picCenter"> <img alt="run config 3" height="372" src="./CS 1B Module 6A Section 3_files/appletPic3.JPG" width="517"/>    </div>
	<p>Here, I set two parameters named <strong>first</strong> and <strong>second</strong> with values that are <strong>Strings</strong> as shown:</p>
    <div class="picCenter"> <img alt="run config 4" height="263" src="./CS 1B Module 6A Section 3_files/appletPic4.JPG" width="397"/>    </div>
    <div class="picCenter"></div>
    <h2>6A.3.4 Applets and Applications</h2>
	<p>While <strong>Applets</strong> cannot be beat for web-based programming, there is   nothing inherently different about them compared with Swing-based GUI   Applications.  Besides the <strong>paint() </strong>and<strong> init()</strong> methods (and   the other, less commonly overridden <strong>stop() </strong>and<strong> start()</strong>), whatever   GUIs and classes you can create in an application, you can also create in an <strong> Applet</strong>.</p>
	<p>Because of this, we are going to complete the remainder of the course using   Swing-based GUI applications, just as we started.  They are simpler to   write, faster to execute, and don&apos;t have the added complexity of <strong>.html</strong> files.    If you are interested in Applets, a great exercise at any time is to take our   Swing applications and turn them into <strong>Applets</strong>.</p>
	<p>That said, I have some really cool graphics to show you in the next lesson.    You will learn techniques that will enable you to draw all over your friends&apos;   screens, and they won&apos;t be able to do anything stop you.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_4.html -->



<a name="43_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - The Font Class</h1>
	<h2>6A.4.1 RPN Weakness</h2>
	<p>Before we go any further, there is something that&apos;s been bugging me.  I   have been itching to fix one thing about our RPN applet.  Look at it again:</p>
	<div class="picCenter"><img alt="GUI shot" border="0" height="301" src="./CS 1B Module 6A Section 4_files/pic_1b6_7.jpg" width="250"/></div>
	<p>What&apos;s wrong with this picture?  Maybe it will help if I fix what&apos;s   wrong and you can compare:</p>
	<div class="picCenter">     <img alt="GUI shot" border="0" height="300" src="./CS 1B Module 6A Section 4_files/pic_1b6_8.jpg" width="250"/></div>
<p>A little better?  Okay, here&apos;s how we do it.</p>
	<h2>6A.4.2 The Component Class</h2>
	<p>Swing Components like<strong> JButtons</strong>, <strong>JTextFields</strong> and <strong>J<em>EverythingElse</em></strong> are classes derived from <strong>JComponent</strong> which is derived from <strong>Component</strong>.    (<strong>Component</strong> is a class in the original <em>AWT Toolkit,</em> and is one of   many <em>AWT</em> classes still in frequent use, even though <strong>Swing</strong> has replaced some of them.)    One of the instance methods in the <strong>Component</strong> class is <strong>setFont()</strong>. As you can tell   by the name, this allows you to set the text font of that <strong>Component</strong>.    That means that every Component on your canvas can have its own <strong>Font</strong>, if   that&apos;s what you want! When   you <strong>setFont()</strong> for a particular <strong>Component</strong>, all text drawn on it will appear in the font specified.    It&apos;s that simple.</p>
	<p>In our <strong>Calculator</strong> constructor, when we set up all of the <strong>JComponents</strong>, we have   the opportunity to set the font of any of them. That&apos;s where we&apos;ll do it:</p>

<pre>   // Calculator constructor
   public Calculator(String title)
   {
     // pass the title up to the JFrame constructor
      super(title);
<span style="background-color: #00FFFF">      Font font = new Font(&quot;Serif&quot;, Font.BOLD, 40);</span>
      
      // unrelated code omitted ...

      // set up the components for the pnlButtons Panel
      btnPlus = new JButton(&quot;+&quot;);
      btnMinus = new JButton(&quot;-&quot;);
      btnMult = new JButton(&quot;*&quot;);
      btnDiv = new JButton(&quot;/&quot;);


<span style="background-color: #00FFFF">      // change the font       
      btnPlus.setFont(font);   
      btnMinus.setFont(font);  
      btnMult.setFont(font);   
      btnDiv.setFont(font);    </span>

      // add components to pnlTextEnter Panel ...
   }
</pre>

	<h2>6A.4.3 The Font Class</h2>
	<p>As you see, we first create a <strong>Font</strong> object which consists of the <strong> Font</strong> <em><strong>name</strong></em>, <em><strong>style</strong></em> and <em><strong>size</strong></em> (in   points).  10 point font is usually the smallest that is used, although you   can go smaller if you need to.  10 and 12 points are the most typical sizes   for paragraph text.  </p>
	<p>The <em><strong>names</strong></em> of the<em> font faces</em> are system dependent, but   there are five virtual font face styles that Java is always allowed to use:</p>
	<ul>
		<li>Serif</li>
		<li>Monospaced</li>
		<li>SansSerif</li>
		<li>Dialog</li>
		<li>DialogInput</li>
	</ul>
	<p>These will always be mapped into the what the system thinks are the best   fits.  (There is an instance method <strong>getAllFonts()</strong> of the <strong> GraphicsEnvironment</strong> class (in <em>AWT</em>) but that is often not worth it   when you are just trying to set a reasonable font face and style.)  Pass any   one of these five face names as a <strong>String</strong> (in quotes) to the first   parameter of the <strong>Font</strong> constructor, as I did above. </p>
	<p>The style is one or more of:</p>
	<ul>
		<li>Font.PLAIN</li>
		<li>Font.ITALIC</li>
		<li>Font.BOLD</li>
	</ul>
	<p>What I mean by &quot;or more&quot; is that you can use the combine ITALIC and   BOLD like this: <strong> Font.ITALIC   + Font.BOLD</strong> in the second parameter position.</p>
	<p>Once you have a <strong>Font</strong>, you can pass it to the <strong>setFont()</strong> method   of any <strong>Component</strong> on your <strong>JFrame</strong>.  If there is only one <strong>Component</strong> whose <strong>Font</strong> you wish to change, you can use an <em>anonymous</em> <strong>Font</strong> object   created directly in the <strong>setFont()</strong> method call:</p>

<pre>  myPanel.setFont( new Font( &quot;SansSerif&quot;, 
      Font.ITALIC + Font.BOLD, 14) );
</pre>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_5.html -->



<a name="44_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 5 - The Drawing on JPanels</h1>
	<h2>6A.5.1 Drawing on JPanels</h2>
	<p>There are two types of colored light that radiate off GUI applications:</p>
	<ol>
		<li><em><strong>Controls</strong></em> (buttons, labels, text areas, etc.)</li>
		<li>Unstructured drawing (or just <em><strong>drawing</strong></em>).</li>
	</ol>
	<p><em><strong>Controls</strong></em> are objects and therefore have lots of structure to them.    We can set font styles, background colors, sizes, text properties, visibility   states, etc.</p>
	<p><em><strong>Unstructured drawing</strong></em> represents graphical operations that have no associated objects. We simply <em>grab</em> a <strong>Graphics</strong> object, <strong>g</strong>, and use it to invoke various   drawing methods (<strong>g.drawString(), g.fillRect()</strong>, etc.).</p>
	<p><em><strong>Drawing</strong></em> is a lot more chaotic, but a lot more fun.    Everything from sketching applications to 3-D game simulation involves drawing.</p>
	<p>The way we draw is to establish a <strong>JPanel</strong> in our program, place it somewhere   on the <strong>JFrame</strong>, and then draw inside that <strong>JPanel</strong>. The <strong>JPanel</strong> can fill up the   entire <strong>JFrame</strong> if we wish, but usually we leave room for other non-drawing <strong>JPanels</strong> in the frame that can hold objects like buttons, text   fields, menus or other <strong>Controls</strong> for the user to select.</p>
	<p>In order to draw on a <strong>JPanel</strong>, you must derive your own <strong>JPanel</strong> subclass and   override the <strong>paintComponent() </strong>instance method.  Here are the key   things to know about this process.</p>
	<ol>
		<li>Whenever the <strong>JPanel</strong> is created, resized, or damaged, the <strong>paintComponent()</strong> method is automatically called.</li>
		<li>Whatever drawing commands you put into the <strong>paintComponent()</strong> method will   	be executed each time the panel needs to be refreshed per item 1, above.</li>
		<li><strong>JPanel</strong> receives a graphics context, known as a <em> <strong>Graphics object</strong></em>, as a   	parameter.  We usually call this <strong>g</strong>.</li>
		<li>The various graphics methods use <strong>g</strong> as a means of dereference.  In   	fact, most of the  drawing functions are <em>instance methods</em> of the <strong>Graphics</strong> class, which is why <strong>g</strong> is used to get to them.</li>
	</ol>
	<p>Enough talk, here is an example of a properly extended <strong>JPanel</strong> class with a <strong>paintComponent()</strong> method overridden:</p>

<pre>class DrawingPanel extends JPanel
{
   protected void paintComponent( Graphics g )
   {
      super.paintComponent(g);   // always do this!
      int reasonableWidth, reasonableHeight;
      
      // We&apos;ll draw object at 90% size of this JPanel
      reasonableWidth = (int) (getWidth() * .9);
      reasonableHeight = (int) (getHeight() * .9);
      
      // draw some things in various colors
      g.setColor(new Color(120, 221, 90));
      g.drawOval(5, 5, reasonableWidth, reasonableHeight); 
      
      g.setColor(new Color(255, 255, 255));
      g.drawString(
            &quot;This is going to be wild!&quot;, 5, reasonableHeight/2);
      
      g.setColor(new Color(39, 210, 255));
      g.fillRect(reasonableWidth/2, reasonableHeight/2, 30, 30);
   }
}
</pre>

	<p>The above panel can be instantiated and placed anywhere in your main   application.  Here is an example where we place it in the center section of   a <strong>JFrame</strong> organized as <strong>BorderLayout</strong>:</p>
	<div class="picCenter"><img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6A Section 5_files/pic_1b6_9.jpg" width="300"/></div>
	<p>Here is what we see, looking at the code and the screen shot (focus only on   the center JPanel):</p>
	<ul>
		<li>We are calling <strong>super()</strong> to get at the base class version of the <strong>paintComponent()</strong> method.  This is essential, as it clears the <strong>JPanel</strong> so   	we can write on a clean slate.</li>
		<li>If we want drawing to be proportional to the size of the <strong>JPanel</strong>,   	we must retrieve the <em>width</em> and <em>height</em> through the <strong>getWidth() </strong>and<strong> getHeight() </strong>methods.  These two methods can be dereferenced through   	any component to get the dimensions of that component.  Calling them   	without dereference uses the implied this to get the dimensions of the   	object whose method we are in -- in this case a <strong>JPanel</strong>.</li>
		<li>We call <strong>g.setColor()</strong> to establish the drawing color.  This   	can be changed as often as we want.  It affects any future drawing, not   	what has already been drawn.  The Color constructor (seen here as an   	anonymous object call inside <strong>setColor()</strong>) It take red-green-blue components from 0   	to 255.  black is (0,0,0).  White is (255, 255, 255).  The   	first number indicates the brightness of red, the second, green, and the   	third, blue.</li>
		<li>The <strong>draw() </strong>routines usually take x and y as two parameters.    	(x, y) represents the coordinates where the   	rectangle, oval, text, etc. is to be anchored .  X is the horizontal distance   	in pixels from the upper left corner of the <strong>JPanel</strong> and y is the   	vertical distance in pixels from that same point.</li>
	</ul>
	<p>An example is </p>

<pre>   fillRect( int x, int y, int w, int h)
</pre>

	<p>where <strong>x, y</strong> is the upper left position of the filled rectangle to be drawn and <strong>w, h </strong>are the <em>width</em> and <em>height</em> of that same rectangle.  In the above example   I used 90% of the width and height of the <strong>JPanel</strong> for the parameters <strong>w </strong>and<strong> h</strong>.    I set the <strong>x-y</strong> position of each of the three drawing methods at different   locations.</p>
	<h2>6A.5.2 The Entire Listing</h2>
	<p>Here is the whole program.  It is structured much like our previous <strong> JFrame</strong> GUI applications.  I have created a GUI for the various <strong> JComponents</strong> including the <strong> JPanel</strong>, and have drawn using the <strong>JPanel</strong> subclass I defined above.    However, the <strong>JButtons</strong> are as-of-yet, non-functional.  They are placed there   in preparation of some event handling that we will do shortly.</p>
	<p>But before we do that extraordinarily exciting step, you have to understand <strong>JPanels</strong> and the way to draw on them.  So study this program, try it   and modify it.</p>

<pre>import javax.swing.*;
import java.awt.*;
   
public class Foothill
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      GraphicsFrame myGraphicsFrame = 
         new GraphicsFrame(&quot;Graphics Thing&quot;);
      myGraphicsFrame.setSize(300, 200);
      myGraphicsFrame.setLocationRelativeTo(null);
      myGraphicsFrame.setDefaultCloseOperation(
            JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myGraphicsFrame.setVisible(true);
   }
}

// GraphicsFrame class is derived from JFrame class
class GraphicsFrame  extends JFrame
{
   private JButton btnLine, btnOval, btnRectangle;
   private JPanel pnlButtonPanel;
   DrawingPanel pnlDrawingPanel;
   private JLabel lblMyLabel;
   
   // constructor
   public GraphicsFrame(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set layout
      BorderLayout layout = new BorderLayout(15, 2);          
      setLayout(layout);
      
      // title goes on NORTH of layout
      lblMyLabel = new JLabel(&quot;Push a button and have some fun.&quot;);

      // create buttons to go on south panel
      btnLine = new JButton(&quot;Line&quot;); 
      btnOval = new JButton(&quot;Oval&quot;); 
      btnRectangle = new JButton(&quot;Rectangle&quot;); 
      
      // create button panel and add buttons
      pnlButtonPanel = new JPanel();
      pnlButtonPanel.setLayout( 
            new FlowLayout(FlowLayout.CENTER, 10, 8));
      pnlButtonPanel.add(btnLine);
      pnlButtonPanel.add(btnOval);
      pnlButtonPanel.add(btnRectangle);
      
      // create  drawing panel
      pnlDrawingPanel = new DrawingPanel();
      pnlDrawingPanel.setBackground(new Color(200, 43, 79));
      
      add(lblMyLabel, BorderLayout.NORTH);
      add(pnlDrawingPanel, BorderLayout.CENTER);
      add(pnlButtonPanel, BorderLayout.SOUTH);    
   }
}

class DrawingPanel extends JPanel
{
   protected void paintComponent( Graphics g )
   {
      super.paintComponent(g);   // always do this!
      int reasonableWidth, reasonableHeight;
      
      // We&apos;ll draw object at 90% size of this JPanel
      reasonableWidth = (int) (getWidth() * .9);
      reasonableHeight = (int) (getHeight() * .9);
      
      // draw some things in various colors
      g.setColor(new Color(120, 221, 90));
      g.drawOval(5, 5, reasonableWidth, reasonableHeight); 
      
      g.setColor(new Color(255, 255, 255));
      g.drawString(
            &quot;This is going to be wild!&quot;, 5, reasonableHeight/2);
      
      g.setColor(new Color(39, 210, 255));
      g.fillRect(reasonableWidth/2, reasonableHeight/2, 30, 30);
   }
}
</pre>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6a_6.html -->



<a name="45_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 6 - Drawing Using Events</h1>
	<h2>6A.6.1 Communication Between Distinct Classes</h2>
	<p>Here is the situation.  We have a program that contains a main <strong>JFrame</strong>,   class <strong>GraphicsFrame</strong>, and a<em> totally separate</em> <strong>JPanel</strong> class, <strong>DrawingPanel</strong>.  Our <strong>GraphicsFrame</strong> has three buttons that say <strong>Line, Oval </strong>and<strong> Rectangle</strong>, and we would somehow like the pressing   of those buttons to affect the drawing on the <strong>DrawingPanel</strong>.    In other words, we want this:</p>
	<div style="border-style: solid; border-width: 1px; padding-left: 4px; padding-right: 4px; padding-top: 1px; padding-bottom: 1px">
		<p align="left"> Press <font color="#800000" face="MS Sans Serif"><strong> Line</strong></font>, and see ...    <img alt="GUI shot" border="0" height="175" src="./CS 1B Module 6A Section 6_files/pic_1b6_10.jpg" width="256"/>   </p>
		<p align="center">Press <font color="#800000" face="MS Sans Serif"><strong>Oval</strong></font> and see ... <img alt="GUI shot" border="0" height="175" src="./CS 1B Module 6A Section 6_files/pic_1b6_11.jpg" width="256"/>   </p>
		<p align="right">Press <font color="#800000" face="MS Sans Serif"><strong> Rectangle</strong></font> and see ...  <img alt="GUI shot" border="0" height="175" src="./CS 1B Module 6A Section 6_files/pic_1b6_12.jpg" width="256"/></p>
	</div>
	<p>However, as I said, the <strong>DrawingPanel</strong> is a completely separate class -- it&apos;s   not even a <em>subclass</em> of <strong>GraphicsFrame</strong> --  and doesn&apos;t know about   those buttons.  When we create event handlers (<strong>Listeners</strong>) for the   three buttons, they will be <em>inner classes</em> to <strong>GraphicsFrame</strong>, and   have nothing to do with the <strong>DrawingPanel</strong>.</p>
	<p>How can we get the button listeners inside one class to affect the drawing    within the panel of another class?  Often, I don&apos;t want you to continue until you   understand the solution to some problem.  This time I don&apos;t want you to   read further until you understand the problem itself, never mind the solution.</p>
	<p>So take a moment and review the listing in the last section if you need to,   so you can see how we have a minor dilemma involving communicating information   from the (as yet unwritten) listeners in the <strong>JFrame</strong> class to the separate <strong>JPanel</strong> class.</p>
	<p>The solution to this problem is so important in higher level applications   programming that I can&apos;t emphasize it enough.  What you are about to learn   will serve you for the rest of your programming career.</p>
	<h2>6A.6.2 State Variables</h2>
	<p>Part of our solution will involve what are called <em><strong>state variables</strong></em>.  They are   members of a class that hold the <em>current state</em> of the application.  We use   state variables in other classes without realizing it.  When we set the   font of a control, using <strong>setFont()</strong>, every letter drawn on the control, until   further notice, is drawn using that font.  The <strong>JComponent</strong> remembers that   choice because, somewhere in its class definition, there is a state variable <font face="Courier New" size="2"> <span style="background-color:#CCFFFF; font-weight:700; ">Font current_font;</span></font>.   Same with the <strong>Color</strong> in the <strong>Graphics</strong> context, <strong>g</strong>.  Once   we set the <strong>Color</strong>, it stays set until we change it.</p>
	<p>So we will want a <em>state variable</em> for our <strong>JPanel</strong> subclass <strong> DrawingPanel</strong>, that &quot;remembers&quot; which of the three optional shapes, line,   oval or rectangle, is the current shape.  If we have that, then there is   hope that another class like <strong>GraphicsFrame</strong> can somehow modify that state   variable through its event handlers.</p>
	<p>We start by placing a new private instance member, currentShape, into the class to hold the   state.  It will be an <strong>int</strong>.  Also, we&apos;ll want to symbolize what that <strong>int</strong> means through some class constants.  A 0 would be interpreted as an <strong>oval</strong>, a 1 as a <strong>rectangle</strong>, etc. but we don&apos;t want to have to remember that, so we   use static class members to symbolize those values.  Here is what we need   to add to <strong>DrawingPanel</strong>:</p>

<pre>   // state variable - tells which shape we should draw.
   private int currentShape;

   // can be one of the following:
   public static final int OVAL = 0;
   public static final int RECTANGLE = 1;
   public static final int LINE = 2;
</pre>

	<p>This goes, outside the <strong>paintComponent()</strong> method because these are class   members we are defining.   Now, putting a value like OVAL or LINE into <strong>currentShape</strong> will only help things if the <strong>paintComponent()</strong> reads   and obeys that value.  Here&apos;s how that will go:</p>

<pre>   // draw the shape
   switch(currentShape)
   {
      case OVAL:
         g.drawOval(5, 5, reasonableWidth, reasonableHeight); 
         break;
      case RECTANGLE:
         g.drawRect(5, 5, reasonableWidth, reasonableHeight); 
         break;
      case LINE:
         g.drawLine(5, 5, reasonableWidth, reasonableHeight); 
         break;
      default:
         g.drawLine(5, 5, reasonableWidth, reasonableHeight); 
         break;    
      }
</pre>

	<p>Things are looking promising.  Now, we can probably fill in the rest of <strong>paintComponent()</strong> to set the color, based on our previous version, so there&apos;s not   much else complicated to think about there.  </p>
	<p>We next have to turn to the   issue of allowing the methods in the <strong>GraphicsFrame</strong> class to set the <strong>currentShape</strong> member.  This, of course, is the job of a <em>mutator</em> function.    We&apos;ll have to add such a method to our <strong>DrawingPanel</strong> class.  You might think   to do this:</p>

<pre>   public void setShape(int newState)
   {
      currentShape = newState;
   }
</pre>

	<p><strong><font color="#FF0000" size="4">Minus 3 points!</font></strong>  No mercy.  You should know by now how bad that is.    Here&apos;s how it should be done.</p>

<pre>   public boolean setShape(int newState)
   {
      if (newState &gt;= FIRST_VALID_STATE 
            &amp;&amp; newState &lt;= LAST_VALID_STATE )<br/>
      {
         currentShape = newState;
         return true;
      }
      return false;
   }
</pre>

	<p>Of course, we&apos;ll have to define <strong>FIRST_VALID_STATE</strong>  and <strong>LAST_VALID_STATE</strong> , and that can be accomplished through final static members, as we did with <strong> OVAL, LINE, RECTANGLE</strong>.</p>
	<p>This completes part one of the challenge. We have a nice <strong>DrawingPanel</strong> that   will cooperate with our event handlers form the <strong>GraphicsFrame</strong> class.  The   problem, of course, is we have no event handlers yet.  More to do ... .</p>
	<h2>6A.6.3 Adding Listeners for the Buttons</h2>
	<p>This is going to be easy, actually.  We know how to create an inner   listener class and register it with the button components.  We also know   that for buttons, we have to supply an <strong>actionPerformed()</strong> method to actually   handle the event.  What goes into that method is becoming increasingly   clear.  We have to find out which button pressed was pressed, and then call   the (recently and triumphantly designed) <strong>setShape()</strong> method of our <strong> DrawingPanel</strong>.  </p>
	<p>Here is the listener class and the <strong>actionPerformed()</strong> method:</p>

<pre>   // inner class for JButton Listener
   class ShapeButtonListener implements ActionListener
   {
      // event handler for JButton
      public void actionPerformed(ActionEvent e)
      {
         if (e.getSource() == btnLine)
            pnlDrawingPanel.setShape(DrawingPanel.LINE);
         else if (e.getSource() == btnOval)
            pnlDrawingPanel.setShape(DrawingPanel.OVAL);
         else if (e.getSource() == btnRectangle)
            pnlDrawingPanel.setShape(DrawingPanel.RECTANGLE); 
         
         pnlDrawingPanel.repaint();
      }
   } // end inner class ShapeButtonListener
</pre>

	<p>Notice that we don&apos;t need three separate listeners for each of the three   buttons.  This is more efficient.  We let the <strong>getSource()</strong> method on the <strong>ActionEvent</strong> parameter tell us which button evoked the   event.  Then we call the <strong>setShape()</strong> method, passing the perfect   parameter of that button.</p>
	<p>Oh, you&apos;re wondering about the <strong>repaint()</strong> call?  Setting the shape   only changes the value of the state variable in the class.  It does not   generate a call to the<strong> paintComponent()</strong> method that actually draws.    Furthermore, you should not try to remedy this by calling <strong>paintComponent()</strong> yourself, but rather ask Java to do it for you.  That&apos;s what <strong>repaint() </strong>does.  </p>
	<p>As an interesting experiment, try commenting out that method call, and run   your program (when you are ready -- we&apos;ll give the listing in the next section).    You will notice two things:</p>
	<ol>
		<li>Pressing a button has no immediate effect, as I just said.</li>
		<li>If you press a button then resize the frame, the new shape will appear.</li>
	</ol>
	<p>How does this behavior agree with what you know about the <strong>paintComponent()</strong> method of the <strong>JPanel</strong> and the behavior of our listener as described above?    I&apos;ll be interested to hear your understanding or confusion on this issue.</p>
	<p>So ... we&apos;re ready for the whole enchilada.</p>
	
		<h2>6A.6.4  The Listing</h2>

<pre>import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
   
public class Foothill
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      GraphicsFrame myGraphicsFrame = 
         new GraphicsFrame(&quot;Graphics Thing&quot;);
      myGraphicsFrame.setSize(300, 200);
      myGraphicsFrame.setLocationRelativeTo(null);
      myGraphicsFrame.setDefaultCloseOperation(
            JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myGraphicsFrame.setVisible(true);
   }
}

// GraphicsFrame class is derived from JFrame class
class GraphicsFrame  extends JFrame
{
   private JButton btnLine, btnOval, btnRectangle;
   private JPanel pnlButtonPanel;
   DrawingPanel pnlDrawingPanel;
   private JLabel lblMyLabel;
   
   // constructor
   public GraphicsFrame(String title)
   {
      // pass the title up to the JFrame constructor
      super(title);
      
      // set layout
      BorderLayout layout = new BorderLayout(15, 2);          
      setLayout(layout);
      
      // title goes on NORTH of layout
      lblMyLabel = new JLabel(&quot;Push a button and have some fun.&quot;);

      // create buttons to go on south panel
      btnLine = new JButton(&quot;Line&quot;); 
      btnOval = new JButton(&quot;Oval&quot;); 
      btnRectangle = new JButton(&quot;Rectangle&quot;); 
      
      // create button panel and add buttons
      pnlButtonPanel = new JPanel();
      pnlButtonPanel.setLayout( 
            new FlowLayout(FlowLayout.CENTER, 10, 8));
      pnlButtonPanel.add(btnLine);
      pnlButtonPanel.add(btnOval);
      pnlButtonPanel.add(btnRectangle);
      
      // create  drawing panel
      pnlDrawingPanel = new DrawingPanel();
      pnlDrawingPanel.setBackground(new Color(200, 43, 79));
      
      add(lblMyLabel, BorderLayout.NORTH);
      add(pnlDrawingPanel, BorderLayout.CENTER);
      add(pnlButtonPanel, BorderLayout.SOUTH); 
      
      // now define behavior of buttons
      ShapeButtonListener listen = new ShapeButtonListener();
      btnLine.addActionListener(listen);
      btnRectangle.addActionListener(listen);
      btnOval.addActionListener(listen);   
   }
   
   // inner class for JButton Listener
   class ShapeButtonListener implements ActionListener
   {
      // event handler for JButton
      public void actionPerformed(ActionEvent e)
      {
         if (e.getSource() == btnLine)
            pnlDrawingPanel.setShape(DrawingPanel.LINE);
         else if (e.getSource() == btnOval)
            pnlDrawingPanel.setShape(DrawingPanel.OVAL);
         else if (e.getSource() == btnRectangle)
            pnlDrawingPanel.setShape(DrawingPanel.RECTANGLE); 
         
         pnlDrawingPanel.repaint();
      }
   } // end inner class ShapeButtonListener
}

class DrawingPanel extends JPanel
{
   // state variable - tells which shape we should draw.
   private int currentShape;
   
   // can be one of the following:
   private static final int FIRST_VALID_STATE = 0;
   public static final int OVAL = 0;
   public static final int RECTANGLE = 1;
   public static final int LINE = 2;
   private static final int LAST_VALID_STATE = 2;

   protected void paintComponent( Graphics g )
   {
      super.paintComponent(g);   // always do this!
      int reasonableWidth, reasonableHeight;
      
      // We&apos;ll draw object at 90% size of this JPanel
      reasonableWidth = (int) (getWidth() * .9);
      reasonableHeight = (int) (getHeight() * .9);
           
      g.setColor(new Color(39, 210, 255));
      // draw the shape
      switch(currentShape)
      {
         case OVAL:
            g.drawOval(5, 5, reasonableWidth, reasonableHeight); 
            break;
         case RECTANGLE:
            g.drawRect(5, 5, reasonableWidth, reasonableHeight); 
            break;
         case LINE:
            g.drawLine(5, 5, reasonableWidth, reasonableHeight); 
            break;
         default:
            g.drawLine(5, 5, reasonableWidth, reasonableHeight); 
            break;    
      }
  }
   public boolean setShape(int newState)
   {
      if (newState &gt;= FIRST_VALID_STATE 
            &amp;&amp; newState &lt;= LAST_VALID_STATE )<br/>
      {
         currentShape = newState;
         return true;
      }
      return false;
   }
}
</pre>
	
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6b_1.html -->



<a name="46_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Guarded Code</h1>
	<h2>6B.1.1 Exceptions Thrown By Java</h2>
	<p>What happens if we run this program?</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main(String[] args)
   {
      int a = 0, b = 0, result;

      a = 10;
      result = a / b;
      System.out.println(result);

      b = -5;
      result = a / b;
      System.out.println(result);
   }
}
</pre>

	<p>Don&apos;t be afraid.  Paste it into your project and try it out. </p>
	<p>The problem, of course, is that we cannot divide by 0.  There is no   answer.  Furthermore, once the first div. by 0 error occurs, the program   doesn&apos;t know what to do next, and must abort with:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="121" src="./CS 1B Module 6B Section 1_files/pic_1b6_13.jpg" width="570"/></div>
	<p>Java is<em><strong> throwing an exception</strong></em> and we are not <em><strong>catching it</strong></em>.    That means, inside the / operator implementation, Java decided that we asked it   to do something that it cannot possibly do, and there is no way for it to   signify that safely and continue to execute our program.  So it<strong><em> throws an exception, </em></strong> puts out a cryptic message on the console window (which most of the time is not   visible in actual applications) and returns.  If our client does not <em><strong>catch the exception</strong></em>, the program terminates.  So how do we catch   it?  With a <em><strong>try/catch block</strong></em>.</p>
	<p align="center"> <img alt="cop car" border="0" height="200" src="./CS 1B Module 6B Section 1_files/cs_B_common_33.JPG" width="300"/></p>
	<h2>6B.1.2 Try/Catch Blocks</h2>
	<p>The beauty of exceptions is that you don&apos;t have to test the result of a   dangerous method call at the instant you call it.  Let&apos;s say functions, <strong> SkyDive(), RideMotorcycles() </strong>and<strong> Smoke10PacksADay() </strong>are all functions   that could generate errors, and each has a <strong>boolean</strong> return type to report   back the status of the call.    The ugly code to call these methods from the   client would look a little like this:</p>

<pre>   if (!SkyDive())
   {
      // handle errors
   }
   else
   {
      // do normal stuff
   }
   if (!RideMotorcycles())
   {
      // handle errors
   }
   else
   {
      // do normal stuff
   }
   if (!Smoke10PacksADay())
   {
      // handle errors
   }
   else
   {
      // do normal stuff
   }
</pre>

	<p>With a<em><strong> try/catch block </strong></em>we write the code, instead like this:</p>

<pre>   try
   {
      SkyDive();
      // do normal stuff
      RideMotorcycles();
      // do normal stuff
      Smoke10PacksADay();
      // do normal stuff
   }
   catch(Exception ex)
   {
      // handle errors
   }
</pre>

	<p>The section inside the try block is called the <em><strong>try clause</strong></em> or a <em><strong>guarded section of code</strong></em>.   If an <strong>exception</strong> is thrown from   inside any one of these methods, normal program flow stops and control passes to   the start of the <em><strong>catch block</strong></em>, or the <em><strong>exception handler</strong></em>.    If no <strong>exceptions</strong> are <em><strong>thrown</strong></em> anywhere inside the<em><strong> try   clause</strong></em>, the <em><strong>catch clause </strong></em>is skipped and control continues   after it.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6b_2.html -->



<a name="47_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - Handling Java Exceptions</h1>
	<h2>6B.2.1 Catching Java Exceptions</h2>
	<p> Let&apos;s rewrite our division program again, this time using exceptions.  The   message we got:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="121" src="./CS 1B Module 6B Section 2_files/pic_1b6_14.jpg" width="570"/></div>
	<p> gives us a hint about what kind of exception we are catching.  First we&apos;ll   show the code, then we can talk about the variety of exceptions available to us   in Java.</p>

<pre>import java.util.*;
import javax.swing.*;

public class Foothill
{
   public static void main(String[] args)
   {
      int a = 0, b = 0, result;

      try
      {
         a = 10;
         result = a / b;
         System.out.println(result);
      }
      catch(<b><span style="background-color: #00FFFF">ArithmeticException</span></b> ex)
      {
         System.out.println(&quot;*** Likely div. by 0 exception ***&quot;);
         // put contingency value into result
         result = 0;
      }

      b = -5;
      result = a / b;
      System.out.println(result);
   }
}
</pre>

	<p>And this time we get a more considerate response when we run the program:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="121" src="./CS 1B Module 6B Section 2_files/pic_1b6_15.jpg" width="570"/></div>
	<p>I didn&apos;t put the second division in a try/catch block, only the first.    That&apos;s because I wanted you to easily see the logic in this first example,   clearly.</p>
	<p>As you see, we are assuming that Java generates an ArithmeticException when it does   division and finds a 0 in the denominator.  Now, we could have placed the entire program into a large <em><strong> try/catch block</strong></em> if it served our purpose.  The way I did it   exemplifies how we might cordon off a small section of guarded code so that we   could continue processing normally even if a problem occurred in that guarded   block.  This way we don&apos;t have to endure a crashed program, but can go on   and perform the second division.</p>
	<h2>6B.2.2 Java Exception Classes</h2>
	<p>The <strong>catch()</strong> line names the exception that we are trapping, namely an <strong> ArithmeticException</strong>.  This is one of several exception classes that   Java supplies, each derived from the base class <strong>Exception</strong>.  Here is   a list of the most useful ones:</p>
	<ul>
		<li class="codeInLine">ArithmeticException</li>
		<li class="codeInLine">NullPointerException</li>
		<li class="codeInLine">IndexOutOfBoundsException</li>
		<li class="codeInLine">IllegalArgumentException</li>
		<li class="codeInLine">IOException</li>
		<li class="codeInLine">EOFException</li>
		<li class="codeInLine">FileNotFoundException</li>
		<li class="codeInLine">ClassNotFoundException</li>
		<li class="codeInLine">AWTException</li>
		<li class="codeInLine">NumberFormatException</li>
	</ul>
	<p>and the most general of all</p>
	<ul>
		<li class="codeInLine">Exception</li>
	</ul>
	<p>To find out what exceptions are available to you, go to the Java   documentation</p>
	<div class="picCenter"><a href="http://docs.oracle.com/javase/7/docs/api/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/api/index.html</a></div>
	
	<p>and find the package of   interest in the upper left.  Click on it, then in the lower left, scroll down to the bottom and there is a section that lists   the exceptions.  For example, if you want to know which exceptions are relevant to the AWT package (I picked it because it is immediately visible in the upper left due to its early alphabetical ordering), click on it, and then scroll down in the list below that starts <strong>Interfaces</strong>, <strong>Classes</strong>, .etc.</p>
	<p>In general, go to the main documentation page and follow the links that take you   to your desired package.</p>
	<p>In the language of <em>OOP</em>, when Java throws an exception, it instantiates   an object of some exception class, above.  You can catch one or more of   them in a series of catch blocks:</p>

<pre>  try
   {
      skyDive();
      // do normal stuff
      rideMotorcycles();
      // do normal stuff
      smoke10PacksADay();
      // do normal stuff
   }
   catch(ArithmeticException ex)
   {
      // handle errors
   }
   catch(FileNotFoundException ex)
   {
      // handle errors
   }
   catch(IOException ex)
   {
      // handle errors
   }
   catch(Exception ex)
   {
      // handle errors
   }
</pre>

	<p>The first exception that is found in this list of catch clauses will be the   only block executed. So you should think about what you want to do if more than   one exception is thrown.  The more important case should be higher up.  </p>
	<p>Also, notice that  most general exceptions should be at the bottom.    An <strong>IOException</strong> should come after a <strong>FileNotFoundException</strong>, since   any of the exceptions in the java.io package (including <strong>FileNotFoundException</strong>)   are covered by the <strong>IOException</strong>.  And, the most general <strong>Exception</strong> should come at the end.</p>
	<p>These exception clauses are not necessarily tied to any particular method   invocation in the guarded code (try block).  All three method calls might   be capable of generating an <strong>ArithmeticException</strong>, for example.</p>
	<p>Finally, there are the instance methods of the Exception class that you can   call using the Exception object, ex, that is generated:</p>
	<ul>
		<li class="codeInLine">getMessage()</li>
		<li class="codeInLine">toString()</li>
		<li class="codeInLine">printStackTrace()</li>
		<li class="codeInLine">getStackTrace()</li>
	</ul>
	<p>Adding some of these into my example above, using the expanded catch block:</p>

<pre>   catch(ArithmeticException ex)
   {
      System.out.println( &quot;Message: &quot; + ex.getMessage() );
      System.out.println(&quot;\n*** Likely div. by 0 exception ***&quot;);
      System.out.println(&quot;\nAnd here is the printStackTrace()&quot;);
      ex.printStackTrace();
      // put contingency value into result
      result = 0;
   }
</pre>

	<p>we get this output:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="215" src="./CS 1B Module 6B Section 2_files/pic_1b6_16.jpg" width="458"/></div>
	<br/>
	
	<p>The final -2 is printed by the last, unguarded section of code in my program,   and is not part of the exception reporting.  Obviously, this is messier and   not what we would really print, but it demonstrates how you can use the ex   object passed to you. </p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6b_3.html -->



<a name="48_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - Font Metrics for a Rational Class</h1>
	<h2>6B.3.1 Rational Numbers</h2>
	<p><em><strong>Rational numbers</strong></em> are defined to be the set of all numbers of   the form:</p>
	<div class="picCenter">
		<pre><strong>num/den</strong>
</pre>
	</div>

	<p>where <strong>num</strong> and <strong>den</strong> are integers, and <strong>den != 0</strong> (<strong>num</strong> is called the <em><strong>numerator</strong></em> and <strong>den</strong> is called the <em><strong> denominator</strong></em>). </p>
	<p>A single <em><strong>rational number</strong></em> may have many forms, so we define the<em><strong> reduced form </strong></em>to be the one in which the <em><strong>numerator</strong></em> and <em> <strong>denominator</strong></em> share <u>no common factors</u> and the denominator is   positive. </p>
	
<pre>    4/8, 300/600, (-20)/(-40) and 1/2
</pre>

	<p>These are all the same <em><strong>rational number,</strong></em> with <strong>1/2</strong> being   the reduced form. </p>
	<p>In case a <em><strong>rational number </strong></em>has a <em><strong>reduced form</strong></em> with   a <strong>1</strong> in the denominator we normally just write the numerator. </p>
	<p>We want to write a GUI program that will allow the user to enter the   numerator and denominator into two text fields, and when the enter key is   struck, the rational number will be written as a fraction, in reduced form.    It will look something like this:</p>
	<div class="picCenter"><img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 3_files/pic_1b6_17.jpg" width="300"/></div>
	<p align="left">The reason that this is a good week to write this application is   that we can use it to deal with two types of exceptions:  <strong> ArithmeticExceptions</strong> and <strong>NumberFormatExceptions</strong>.  And, since we   always like to have fun, we&apos;ll learn how to use <strong>drawString()</strong> more accurately.    Do you see how the numbers are centered in the middle of the center panel?    In the same way that money doesn&apos;t grow on trees (according to my father),   center alignment in <strong>drawString() </strong>doesn&apos;t magically happen. We have to make it   happen.  For that, we&apos;ll need to use <strong>FontMetrics</strong>.</p>
	<h2 align="left">6B.3.2 FontMetrics</h2>
	<p align="left">If you are inside any component (but usually a <strong>JPanel</strong>) and need   information about the dimensions of the current font, you would use the <strong>FontMetrics</strong> class.  You might think you would use the Font class&apos;s <strong>getSize()</strong> and other methods for this, but they don&apos;t give you information at the pixel   level the way <strong>FontMetrics</strong> objects do.</p>
	<p align="left">You will need a Graphics context, g, to access the current <strong>FontMetrics</strong> values, but normally you have one; the most common place to use <strong>FontMetrics</strong> is from within the <strong>paintComponent</strong>() method of a <strong>JPanel</strong>.  Simply   stated, you call <strong>g.getFontMetrics()</strong> through the <strong>Graphics</strong> object <strong>g</strong>, then use the   returned <strong>FontMetrics</strong> object to dereference its various informational methods.</p>

<pre>   FontMetrics metrics = g.getFontMetrics();
   int ht = metrics.getHeight();
   int asc = metrics.getAscent();
   int  ldg = metrics.getLeading();
   int Q_width = metrics.charWidth(&apos;Q&apos;);
   int i_width = metrics.charWidth(&apos;i&apos;);
</pre>

	<p align="left">There are other methods you can research if you are interested.   We actually only need the last method <strong>charWidth() </strong>because we will use   that to figure out where to start drawing our text.  Of course, every   character has a different width, so we have to pick a typical character, which,   for our program, turns out to be the numeral &apos;4&apos;.</p>
	<p align="left"> <img align="right" alt="european speed limit sign" border="0" height="300" hspace="9" src="./CS 1B Module 6B Section 3_files/cs_B_common_29.JPG" vspace="9" width="200"/>If we want to draw the string &quot;90210&quot;, centered, we need to find   the center of the <strong>JPanel</strong>, then back up half the width of the string &quot;90201&quot;</p>
	<h4 align="left">Here is the plan. </h4>
	<ol>
		<li> Find the x-coordinate of the center of the JPanel by   	dividing the width of the panel by 2 (width/2)		</li>
		<li> Find out the width in pixels of the typical number, &apos;4&apos; (<strong>numWidth</strong>).		</li>
		<li> multiply <strong>numWidth</strong> by half the number of characters in our   	string - that&apos;s how far we have to back up.		</li>
		<li> subtract the result of 3, from the result from 1.		</li>
	</ol>
	<p align="left">If you feel like you are doing your taxes, don&apos;t worry. You   don&apos;t need to memorize any of this.  It&apos; just to help you understand the   code below.  This will draw a string horizontally centered but slightly   higher than the middle of the <strong>JPanel</strong>:</p>

<pre>   Dimension d;
   FontMetrics metrics;
   int mid, numWidth, pixelsFromMid;
   String numStr = &quot;90210&quot;;

   d = getSize();
   mid = d.height/2;
 
   metrics = g.getFontMetrics();
   numWidth = metrics.charWidth(&apos;4&apos;);
   pixelsFromMid = (int)( (numStr.length()/2.) * numWidth );
   g.drawString(numStr, d.width/2 - pixelsFromMid, mid );
</pre>

	<p align="left">Notice mid will be the exact vertical center of the <strong>JPanel</strong>,   so if we want to write it lower, we would <em>add</em> to that number, and if we   want to write higher we would <em>subtract</em> from it.  (Remember we   measure from the upper left of the panel.)</p>
	<h2 align="left">6B.3.3 The RationalNumber Class</h2>
	<p align="left">We return to our problem of writing the GUI program for rational   numbers.  If you want to follow along, start new Java project called   Rational Number GUI.  Create three classes in three separate .java files:</p>
	<ol>
		<li> Foothill in Foothill.java. This will be the main class.		</li>
		<li> RationalNumber in RationalNumber.java.  This will be   	the class that handles the arithmetic. </li>
		<li> MyCanvas in MyCanvas.java.  This will be the derived   	JPanel. </li>
	</ol>
	<p align="left">The next page contains the complete listing of these three   files.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6b_4.html -->



<a name="49_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 4 - Rationals Without Exceptions </h1>
  	<h2>6B.4.1 RationalNumber.Java</h2>
	<p>This class is pretty simple if you break it down:</p>
	<ul>
		<li>There are two <strong>int</strong> (<strong>long</strong>) private data, the numerator and denominator (<strong>num</strong> and <strong>den</strong>).</li>
		<li>There is a <em>constructor</em> and several <em>accessor</em> and <em>mutator</em> methods.</li>
		<li>There is a method <strong>reduce() </strong>and its helper <strong>gcd()</strong> which   	reduces any fraction into its lowest common form (<strong>gcd() </strong>uses a two   	thousand year old algorithm knows as the <em>Euclidean Algorithm</em>.  I   	wonder if Euclid ever imagined it would end up in a Java class.)</li>
	</ul>

<pre>// RationalNumber class ---------------------------
class RationalNumber
{
   private long num;
   private long den;
 
   // constructor method ----
   RationalNumber(long n, long d)
   {
      num = n;  // can&apos;t do setNum yet - no den defined!
      setDen(d);
   }
    
   //  reduce method ----
   public void reduce()
   {
      long gcd = gcd();
      if (gcd != 0)
      {
         num /= gcd;
         den /= gcd;
      }
      if (den&lt;0)
      {
         den = -den;
         num = -num;
      }
   }
    
   private long gcd() // returns the gcd of num and den
   {
      long temp, n, d;
      for ( n = num,  d = den; d != 0;  )
      {
         temp = n % d;
         n = d;
         d = temp;
      }
      return n;
   }
    
   public long  getNum() // returns the numerator
   {
      return num;
   }
    
   public long  getDen() // returns the denominator
   {
      return den;
   }
    
   public void  setNum(long n) // sets the numerator
   {
      num = n;
      reduce();
   }
    
   public void  setDen(long d) // sets the denominator
   {
      if (d == 0)
         d = 1; // for now just avoid division by 0
      den = d;
      reduce();
   } 
}
</pre>

	<h2>6B.4.2 The MyCanvas Class</h2>
	<p>Remember I said that the state variable concept would be one of the most   important tools you will learn as a programmer?  We&apos;re about to use it   here.  The <strong>JPanel</strong> class that we want to derive, needs to draw the current <strong>RationalNumber</strong>, and in order for it to know what is &quot;current&quot;, it must have a   private <strong>RationalNumber</strong> member, and expose a <strong>set()</strong> mutator method for that   member.</p>
	<p>Besides that, you will easily understand the logic it contains by remembering   the examples that   we have already done in our lesson on <strong>JPanels</strong> (and the <strong>FontMetrics</strong> example in the last section).</p>

<pre>import javax.swing.*;
import java.awt.*;

// MyCanvas class -------------------------------------
class MyCanvas extends JPanel
{
   private RationalNumber rationalNum;
 
   public void set(RationalNumber num)
   {
      // impossible to get bad data so no filter needed
      rationalNum = num; 
   }
   
   public void paintComponent( Graphics g )
   {
      super.paintComponent(g);
      Dimension d;
      FontMetrics metrics;
      int mid, left, right, numWidth, pixelsFromMid, ht;
      String numStr, denStr;
      
      // set up metrics for drawing a large fraction
      g.setColor(Color.white);
      g.setFont( new Font(&quot;SansSerif&quot;, Font.BOLD, 25) );
      d = getSize();
      mid = d.height/2;
      left = (int)(d.width * .2);
      right = d.width-left;
      
      // draw the division line
      g.fillRect(left,mid-3, right-left, 6);
      
      // draw the numerator
      numStr = String.valueOf(rationalNum.getNum());
      metrics = g.getFontMetrics();
      numWidth = metrics.charWidth(&apos;4&apos;);
      pixelsFromMid = (int)( (numStr.length()/2.) * numWidth );
      g.drawString(numStr, d.width/2 - pixelsFromMid, mid - 12);
      
      // draw the denominator
      denStr = String.valueOf(rationalNum.getDen());
      pixelsFromMid = (int)( (denStr.length()/2.) * numWidth );
      ht = metrics.getHeight();
      g.drawString(denStr, d.width/2 - pixelsFromMid, mid + 1 + ht);
   }
} 
</pre>

	<h2>6B.4.3 The Foothill  and JFrame Classes</h2>
	<p>This goes into your main file, Foothill.java.  It contains the familiar   short Foothill driver class, and the longer, but still familiar JFrame subclass,   which I called RationalFrame.</p>

<pre>import java.awt.*;
import java.awt.event.*;
import java.math.*;
import javax.swing.*;
 
public class Foothill
{
   public static void main(String[] args)
   {
      // establish main frame in which program will run
      RationalFrame myFrame = new RationalFrame(&quot;Rationalizer&quot;);
      myFrame.setSize(300, 200);
      myFrame.setLocationRelativeTo(null);
      myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      
      // show everything to the user
      myFrame.setVisible(true);
   }
}

class RationalFrame extends JFrame
{
   // ---- class and instance objects ----
   private JPanel inputPanel;
   private MyCanvas drawingCanvas;
   private JTextField numeratorIn, denominatorIn;
   private JLabel slash;
   RationalNumber theNumber;
 
   // RationalFrame constructor
   public RationalFrame(String title)
   {
      super(title);
    
      // switch to border layout 
      setLayout( new BorderLayout());  

      // create the input components
      numeratorIn = new JTextField(5);
      denominatorIn = new JTextField(5);
      slash = new JLabel(&quot;/&quot;);
 
      // create output canvas
      drawingCanvas = new MyCanvas();
      drawingCanvas.setBackground(new Color(15, 10, 70));
   
      // place input fields into input panel
      inputPanel = new JPanel();
      inputPanel.add( numeratorIn );
      inputPanel.add( slash );
      inputPanel.add( denominatorIn );
    
 
      // add inputPanel and  canvas to applet
      add( drawingCanvas, BorderLayout.CENTER );
      add( inputPanel, BorderLayout.SOUTH );
   
      theNumber = new RationalNumber(0, 1);
      drawingCanvas.set(theNumber);

      numeratorIn.setText(&quot;0&quot;);
      denominatorIn.setText(&quot;1&quot;);
   
      // prepare to respond to text entry
      EnterListener myHandler = new EnterListener();
      numeratorIn.addActionListener( myHandler );
      denominatorIn.addActionListener( myHandler );
   
      drawingCanvas.repaint();
   }
 
   public void setRationalNumber()
   {
      long num, den;
   
      num = Integer.parseInt(numeratorIn.getText());
      den = Integer.parseInt(denominatorIn.getText());
      theNumber = new RationalNumber(num, den);
      drawingCanvas.set(theNumber);
   }
 
   public RationalNumber getRationalNumber()
   {
      return theNumber;
   }
 
   // inner listener class
   class EnterListener implements ActionListener
   {
      public void actionPerformed( ActionEvent e )
      {
          setRationalNumber();
          drawingCanvas.repaint();
      }
   }
} 
</pre>

	<p>As long as this program is, there are no new concepts beyond the <strong>FontMetrics</strong> and the rational arithmetic.  Make sure you can run this program and   understand it (except, possibly, for the Euclidean algorithm in the <strong>gcd()</strong> and <strong>reduce()</strong> methods).</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_6b_5.html -->



<a name="50_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 5 - Rationals WITH Exceptions</h1>
	<h2>6B.5.1 Designing Your Own Exceptions</h2>
	<p>Sometimes you feel like throwing an exception, but none of the built-in Java   exceptions describe the sort of error you want to express.  We do this by   deriving a class from the base class Exception defined in the package   java.lang.Exception.  In fact, you only have to extend this class -- you   don&apos;t even need to override any methods!</p>

<pre>import java.lang.Exception

class FeetSmellBad extends Exception
{
   // nothing needed!
}</pre>


	<p> Done.  You can include this in your file and start throwing <strong>FeetSmellBad</strong> exceptions.  You actually don&apos;t even need to change your client - you can   test for the more general <strong>Exception</strong>, like we did earlier.  However,   there wouldn&apos;t be much point in having a special custom-made Exception if you   weren&apos;t going to test for it and take a unique action if it was caught:</p>

<pre>   try
   {
      CallMethodThatThrowsFSBException();
   }
   catch(FeetSmellBad ex)
   {
      JOptionPane.showMessageDialog(null, 
         &quot;sniff ... hmm.  Someone needs a bath.&quot;, &quot;Exception Window&quot;,
         JOptionPane.ERROR_MESSAGE); 
   }
</pre>

<div class="picCenter"><img alt="GUI shot" border="2" height="116" src="./CS 1B Module 6B Section 5_files/pic_1b6_24.jpg" width="284"/></div>
	<p>Sometimes, your client will expect to get an informational String from   the <strong>Exception</strong>, itself, rather than producing literal Strings like we did   above with the <em>sniff... </em> comment above.  That is accomplished by   adding a constructor to your custom Exception:</p>

<pre>import java.lang.Exception

class FeetSmellBad extends Exception
{
   public FeetSmellBad ()
   {
      super(&quot;Please take hygienic action on lower extremities&quot;);
   }
}
</pre>

	<p>The client can then use ex.toString() in place of the &quot;sniff ... &quot; literal.    Or, if you want to let the client set the String when it throws the exception,   you would add an overloaded constructor that takes a <strong>String</strong> and passes it   to <strong>super()</strong>.<br/>
	</p>
	<h2>6B.5.2 Throwing Your Own Exceptions</h2>
	<p>We can throw an exception in any of our methods for use by the client.    Here are the decisions we have to make:</p>
	<ul>
		<li>Are we going to <em><strong>throw</strong></em> a built-in Java exception like <strong> NumberFormatException</strong> or do we need a custom exception?</li>
		<li>Which methods within our class, if any, will handle (<em><strong>catch</strong></em>)   	the exceptions we throw?</li>
	</ul>
	<p>The second question might puzzle you, but remember our methods can call   others methods of our class.  The client calls our <strong>methodA() </strong>which   calls our <strong>methodB()</strong>.  If <strong>methodB()</strong> throws an exception , <strong> MethodA() </strong>will have the opportunity to catch it before returning to our   client.</p>
	<div class="important"> RULE #1
		<p> Any method that throws an exception   	must declare that it will throw the exception in its method header (and   	specify a type). </p>
	</div>
	<div class="important"> <strong>RULE #2</strong>
		<p> Any method that might receive an   	exception but doesn&apos;t wish to handle it, must <em>also</em> declare that it will throw the exception in its method header (and specify a   	type).</p>
	</div>
	<p>Let&apos;s throw our own custom exception, which we&apos;ll call a <strong>ZeroDenominatorException</strong>.  We   must define it - and do so with no frills:</p>

<pre>class ZeroDenominatorException extends Exception
{
}
</pre>

	<p>Next, revise  <strong>RationalNumber</strong> class to throw this baby.  Unchanged code   is omitted:</p>

<pre>// RationalNumber class ---------------------------
public class RationalNumber
{
   private long num;
   private long den;
 
   RationalNumber(long n, long d)
      <span style="background-color: #00FFFF">throws ZeroDenominatorException</span>
   {
      num = n; 
      setDen(d);
   }
        
   <span style="background-color: #FFFFCC">//  Several unchanged methods omitted here ...</span>
      
   public void  setDen(long d) // sets the denominator
      <span style="background-color: #00FFFF">throws ZeroDenominatorException</span>
   {
      if (d == 0)
         <span style="background-color: #00FFFF">throw new ZeroDenominatorException();</span>
      den = d;
      reduce();
   } 
}
</pre>

	<p>As you see, the constructor chose not to catch the exception that <strong>setDen()</strong> throws, so it declared in its header that it would throw that up to the client.</p>
	<h2>6B.5.3 Catching Our Exceptions</h2>
	<p>If you make these changes, only, Eclipse will flag errors in your client   where uncaught exceptions appear.  That is where you need to supply a <em><strong>try/catch block</strong></em>.  Both places are inside <strong>RationalFrame()</strong> methods.  In   the first case, we catch silently, that is, we do nothing.  That&apos;s because   we can see from the context that no exception is possible there (we are supplying   the data, not the client, and we see that it&apos;s good).  In the second case   we are dealing with the client typing a 0 denominator. That one is being dealt   with carefully.</p>

<pre>// RationalFrame constructor
public RationalFrame(String title)
{
   super(title);
 
   <span style="background-color: #FFFFCC">// unrelated code omitted ...</span>
  
   <span style="background-color: #00FFFF">try</span>
   {
      theNumber = new RationalNumber(0, 1);
      drawingCanvas.set(theNumber);
   
      numeratorIn.setText(&quot;0&quot;);
      denominatorIn.setText(&quot;1&quot;);
      
      // prepare to respond to text entry
      EnterListener myHander = new EnterListener();
      numeratorIn.addActionListener( myHander );
      denominatorIn.addActionListener( myHander );
   }
   <span style="background-color: #00FFFF">catch (ZeroDenominatorException ex)</span>
   {
      // nothing to do - the way called, no exception possible
   }
   
   drawingCanvas.repaint();
}
 
public void setRationalNumber()
{
   long num, den;
   
   num = Integer.parseInt(numeratorIn.getText());
   den = Integer.parseInt(denominatorIn.getText());
   <span style="background-color: #00FFFF">try</span>
   {
      theNumber = new RationalNumber(num, den);
      drawingCanvas.set(theNumber);
   }
   <span style="background-color: #00FFFF">catch(ZeroDenominatorException ex)</span>
   {
      // don&apos;t change current text input, just show error
      JOptionPane.showMessageDialog(null, 
         &quot;0 denominator not allowed.&quot;, &quot;Bad Rational&quot;,
         JOptionPane.ERROR_MESSAGE); 
   }
}</pre>


	<p>We leave the bad values for the user to fix in the <strong>JTextFields</strong> and  issue a nice <strong>JOptionPane</strong> error message.  Notice the use of the flag <strong>JOptionPane.ERROR_MESSAGE</strong> to   help make it look like an error.</p>
	<p>Here&apos;s what happens if we follow a good number by a bad one:</p>
<img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_19.jpg" width="300"/>  try   →    <img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_20.jpg" width="300"/>→  <img alt="GUI shot" border="0" height="116" src="./CS 1B Module 6B Section 5_files/pic_1b6_21.jpg" width="268"/> →  <img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_20.jpg" width="300"/>
<h2>6B.5.4 Catching Java Exceptions</h2>
	<p>We still have a potential for problems:  If the user types in a bad   number, like <strong>23dx4</strong>, we will get a <strong>NumberFormatException</strong> which we are still not   catching.  This happens when we read the text from the <strong>JTextFields</strong> and   convert then to numbers using <strong>parseInt():</strong></p>

<pre>   <span style="background-color: #00FFFF">num = Integer.parseInt(numeratorIn.getText());  </span>
   <span style="background-color: #00FFFF">den = Integer.parseInt(denominatorIn.getText());</span>
   try
   {
      theNumber = new RationalNumber(num, den);
      drawingCanvas.set(theNumber);
   }
</pre>

	<p>Oops.  It looks like these two statements belong in the try clause as   well, and then we can handle all the exceptions after it.  Here is how to   do that:</p>

<pre>   public void setRationalNumber()
   {
      long num, den;
      
      try
      {
         num = Integer.parseInt(numeratorIn.getText());
         den = Integer.parseInt(denominatorIn.getText());
         theNumber = new RationalNumber(num, den);
         drawingCanvas.set(theNumber);
      }
      catch(ZeroDenominatorException ex)
      {
         // don&apos;t change current text input, just show error
         JOptionPane.showMessageDialog(null, 
               &quot;0 deonimator not allowed&quot;, &quot;bad rational&quot;,
               JOptionPane.ERROR_MESSAGE); 
      }
      catch(NumberFormatException  ex)
      {
         String s;
         // reset input fields to old number and just show status
         s = (new Long(theNumber.getNum())).toString();
         numeratorIn.setText(s);
         s = (new Long(theNumber.getDen())).toString();
         denominatorIn.setText(s);
         JOptionPane.showMessageDialog(null, 
               &quot;Numbers only please!&quot;, &quot;bad rational&quot;,
               JOptionPane.ERROR_MESSAGE); 
      }
   }
</pre>

	<p>We are placing the last known good values into the user text fields in the   case of non-numeric data, while simultaneously ignoring any attempt to divide by   0 (done inside the <strong>setDen() </strong>method).  Also, we are issuing a nice <strong>JOptionPane</strong> error message in either case.  This shows the variety of actions we can take upon   receiving an exception.  Here is a sample of the NumberFormatException in   action:</p>
<img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_22.jpg" width="300"/> → <img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_23.jpg" width="300"/>→<img alt="GUI shot" border="0" height="122" src="./CS 1B Module 6B Section 5_files/pic_1b6_18.jpg" width="268"/>  → <img alt="GUI shot" border="0" height="200" src="./CS 1B Module 6B Section 5_files/pic_1b6_22.jpg" width="300"/>
	<p>And that&apos;s the colorful story of exceptions.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7a_1.html -->



<a name="51_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Introduction to Abstract Classes</h1>
	<h2>7A.1.1 Introduction</h2>
	<p><img alt="pretty pastry" border="2" height="200" src="./CS 1B Module 7A Section 1_files/cs_B_common_42.JPG" width="300"/></p>
	<p>This week we learn  new   Java programming concepts: <em><strong>abstract classes</strong></em> and <em><strong>interfaces</strong></em>.    We then apply this to some specific built-in interfaces, <strong>Comparable</strong> and <strong>Cloneable</strong>. Finally, study about <em><strong>boolean functions</strong></em> and apply many of our skills to bear on a classic logic application, the <em><strong>seven segment display</strong></em>.</p>
	<h2>7A.1.2 Abstract Classes</h2>
<p>Let&apos;s say that we want to create a  messaging client, but don&apos;t want to   commit to only written messages. Some messages might be video or audio. Nevertheless, there are certain functions that our fundamental message class   should provide. One is <em>sending a message</em> and another is <em>delivering a message</em>. </p>
<p>To this end, we will create a class for our system but not   commit to a definition of either <em>sending</em> or <em>delivering</em>.   Here&apos;s the class: </p>

<pre>   abstract class Message
   {
      protected String theMessage;
    
      public abstract void deliver();
      public abstract void send();
   }</pre>

<p>The keyword <strong>abstract</strong> appears in three places. It precedes the class   name, and it is also repeated before the two method names. Furthermore, both   methods are missing  definition bodies.  They are just method <em>prototypes</em>,   that is, method headers terminated by a semicolon.</p>
<p>What we are doing is creating an <em><strong>abstract class.</strong></em> This is a   class intended as a basis for <em><strong>subclassing</strong></em>. In fact, we can only <strong> extend</strong> from this class: we cannot create a <strong>Message</strong> object directly.   If you try, you will get a compiler error. So what good is it? </p>
<p><strong>Message</strong> is meant to be a base for our various styles of messages:   written and verbal. Here is how we might extend <strong>Message</strong> to the written   variety: </p>

<pre>class WrittenMessage extends Message
{  
   private JTextField composeBox, receiveBox;
   JFrame parent;
    
   WrittenMessage(JFrame a)
   {
      parent = a;
   }
   
   public void init()
   {
      composeBox = new JTextField (50);
      receiveBox = new JTextField (50);
      parent.add(composeBox);
      parent.add(receiveBox);
   }
  
   public void deliver()
   {
       composeBox.setText(theMessage);
   }
  
   public void send()
   {
       theMessage = composeBox.getText();
   }
}
</pre>

<p>The <strong>WrittenMessage</strong> is a class that refers to a <strong>parent</strong> <strong>JFrame</strong>,   and we won&apos;t go into that aspect here. We are only concerned with two things: </p>
<ol>
	<li>That it <em><strong>extends</strong></em> Message. </li>
	<li>That it defines both <em><strong>abstract</strong></em> methods <strong>send(</strong>) and <strong> deliver(</strong>). </li>
</ol>
<p>Whenever you <em><strong>extend</strong></em> an <strong><em>abstract class</em></strong> you must   (unless you declare the extension also abstract) give definitions to all of the   methods contained in the base class. This is considered a good thing: You cannot   extend an <em><strong>abstract class</strong></em> and forget to define a crucial method. </p>
<p>Any methods that are not declared <em><strong>abstract</strong></em> in the base class   will not need to be <em><strong>overridden</strong></em>. For one thing, the base class will   have their definitions already. It is only <em><strong>abstract</strong></em> methods for   which you can and do omit the definitions in the base class and which therefore   must be defined in the derived class. </p>
<p><em><strong>Abstract classes</strong></em> need not have <em><strong>abstract methods</strong></em>.   If a class is declared as <em><strong>abstract</strong></em>, but none of its methods is   declared abstract, one cannot instantiate an object of the class: a subclass   must first be derived and then instantiation of the subclass can be done. This   is less useful than an abstract class that has at least one abstract method, but   it is not inconceivable for someone to want this class to always be <em> subclassed</em> before an object is created. </p>
<p>A class that has an <em><strong>abstract method</strong></em> must be declared <em><strong> abstract</strong></em>. </p>
<p><strong>Question:</strong> Why does the keyword <strong>protected</strong> appear before the   instance variable  <strong>theMessage</strong>? </p>
<div class="important"> <strong>Protected</strong>:
	<p><strong>Protected</strong> is a way of making data off-limits to most classes, much   	as the keyword <strong>private</strong> makes such members inaccessible. However <strong> protected</strong> is a bit more permissible: It allows any of the subclasses   	which <em><strong>extend</strong></em> class Message to have direct access to the data,   	as we would expect they will need. All other classes will not be able to   	modify or even access this data.</p>
</div>
	</div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7a_2.html -->



<a name="52_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 2 - Interfaces and Comparable</h1>
	<h2>7A.2.1 Interfaces</h2>
	<p><em><strong>Interfaces</strong></em> are similar to <em><strong>abstract classes</strong></em>.   Specifically, they are like abstract classes in which: </p>
	<ol>
		<li>there are no data -- only <em><strong>methods</strong></em>. </li>
		<li>all methods are declared <em><strong>abstract</strong></em>. </li>
	</ol>

<pre>   public interface LessThan 
   {
      public boolean isLessThan( double x);
   }
</pre>

	<p>Note that in an <strong>interface</strong> you do not use the word <em><strong>class</strong></em>, and   you do not need to use the word <em><strong>abstract</strong></em> since everything is   considered abstract. You cannot <em>define</em> a method in an <strong>interface</strong>.   You <em>declare</em> the methods using a <em><strong>method header</strong></em>, but give no   definition.  This is the same as the <em>method prototype</em> in an abstract   class.  Again, notice the semicolon after the method header.</p>
	<p>Another important difference between <em><strong>interfaces</strong></em> and <em><strong> abstract classes</strong></em> is the way in which you subclass from them. In fact,   the word <em><strong>subclass</strong></em> does not apply to an interface. Instead we use   the word <em><strong>implement</strong></em>. </p>

<pre>   public class Natural implements LessThan
   {
      double d;
      public boolean isLessThan(double b)
      {
         return (d &lt; b);
      }
   }
</pre>

	<p>Here we are declaring a class of <strong>doubles</strong> called <strong>Natural</strong> that implements the <strong> LessThan</strong>   interface using the expected &lt; ordering. (This is just the   ordinary sense of one number being  &quot;less than&quot; another, so what   we are doing here is making sure that a method call like  <strong> nat_x.isLessThan(nat_w)</strong> has the expected meaning.)</p>
	<p>The thing to remember about implementing interfaces is that you must define   every method that the interface declares. </p>
	<p>Why even have <em><strong>interfaces</strong></em> if they are essentially the same as <em> <strong>abstract classes</strong></em> with no data? One reason is that you can <em><strong> extend</strong></em> one class, and <em><strong>implement</strong></em> from an interface at the   same time: </p>

<pre>   class Audio extends Message implements LessThan 
   {
      ...
   }
</pre>

	<p>Without this, there is no way to combine the behavior of two separate parent   types into a single new class. (In C++ this is done without interfaces using <em> <strong>multiple inheritance</strong></em>.)</p>
	<p>Interfaces are used to define intended behavior of future classes that   implement them.  They provide an orderly way to name a group of related   methods that can work on potentially different types of objects.  We&apos;ll see   this more clearly in the coming sessions.</p>
	<h2>7A.2.2 Java-Defined Interfaces</h2>
	<p>We have used interfaces implicitly: </p>

<pre>     class ShapeButtonListener implements ActionListener
</pre>

	<p>Now that we know what an <em><strong>interface</strong></em> is, we can actually figure   out by reverse engineering what the <strong>ActionListener</strong> interface declaration   looks like. </p>
	<p>Everything that you need to know to do this is contained in two places. </p>
	<ol>
		<li>the last section, and </li>
		<li>any one of the classes that implements <strong>ActionListener</strong>. </li>
	</ol>
	<p>I&apos;m going to let you figure this one out for yourself because it is really   very simple. </p>
	<p>The reason we want to understand the nature of <em><strong>Interfaces</strong></em> is   that we are going to go a little more into the AWT toolkit and to do so we have   to talk about other interfaces besides <strong>ActionListener</strong>. </p>
	<p>In particular, the hierarchy of interfaces in java that is of interest to us   is: </p>

<pre>   Object
      EventListener
         ActionListener
         ItemListener
         MouseListener
         ...
      (about 9 other types of listeners).
</pre>

	<p>We have seen that we can implement an <strong>ActionListener</strong> and we want to   understand more about what that means. </p>
	<h2>7A.2.3 compareTo()</h2>
	<p>Above, I gave an example of a hypothetical <strong>LessThan</strong> interface   that could be implemented by any class that wants to impose its own specific   ordering to its objects.  In fact, Java defines a similar <strong>Comparable</strong> interface like this:</p>

<pre>   public interface Comparable 
   {
      public int compareTo( Object o);
   }
</pre>

	<p>We can implement <strong>Comparable</strong> in any class that needs a custom definition of   what it means for two objects to be &lt;, &gt; or ==.  And we have the perfect   candidate for such a class: <strong>Card</strong>.</p>
	<h2>7A.2.4 Comparing Card Values</h2>
    <div class="parenthetical"><strong>Note to Some Classes:</strong> You may have already written a<strong> compareTo()</strong> method in your early assignments, and this may be review for you. But even if you have, we are doing something a little differently: we are going to declare that <strong>Card implements Comparable</strong>, an important detail we didn&apos;t know about back then.</div>
<p>We know that two cards (in most games) have face values that are ordered like   so, from least to greatest:</p>
	<p align="center"><font color="#0000FF" face="Albertus" size="4">2, 3, 4, 5, 6,   7, 8, 9, T, J, Q, K, A</font></p>
	<p>If they have the same face values, then their suits can be used to break a   tie.  From lowest to highest the order is:</p>
	<p align="center"><font face="Albertus" size="4">Clubs, <font color="#FF0000"> Diamonds</font>, <font color="#FF0000">Hearts</font>, Spades</font></p>
	<p>Of course many card games have different orderings, but I&apos;m going to go with   this ordering for our example.</p>
	<p>There is no easy way for a client to determine the relative ordering of two   cards, so we will implement the <strong>Comparable</strong> interface in the <strong>Card</strong> class, and give   our client a nice <strong>compareTo() </strong>method that will always work.  We have to   think hard about this, because it&apos;s not that easy.  If I had defined card   values to be <strong>ints</strong> from 0 to 12, then things might be easier, especially if we   defined 0 to be &apos;2&apos;, 1 to be &apos;3&apos;, ... 11 to be &apos;K&apos; and 12 to be &apos;A&apos;.    However, I didn&apos;t.  I used <strong>chars</strong> to store the values and placed values like   &apos;J&apos;, &apos;K&apos; and &apos;4&apos; inside those fields.  So we have to do some fancy footwork   to create comparison test.</p>
	<p>I think you&apos;ll find that the algorithm below is logical, even if it takes a   few lines of code to implement.  I am going to omit all the other methods   in the <strong>Card</strong> class because you have seen them.  Just look at the first line   of the class and the definition of <strong>compareTo()</strong> (and it&apos;s helpers).</p>

<pre>class Card implements Comparable
{   

   // type and constants
   public enum Suit { clubs, diamonds, hearts, spades }

   // for ordering
   public static char[] valueRanks = { &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, 
      &apos;T&apos;, &apos;J&apos;, &apos;Q&apos;, &apos;K&apos;, &apos;A&apos;};
   static Suit[] suitRanks = {Suit.clubs, Suit.diamonds, Suit.hearts, 
      Suit.spades};
   static int numValsInOrderingArray = 13;

   // private data
   private char value;
   private Suit suit;

   // sort member methods
   public int compareTo(Object other)
   {
      if (! (other instanceof Card) )
         return -1;
      
      Card otherCard = (Card)other;
      
      if (this.value == otherCard.value)
         return ( getSuitRank(this.suit) - getSuitRank(otherCard.suit) );

      return ( 
            getValueRank(this.value) 
               - getValueRank(otherCard.value) 
            );
   }

   // helpers for compareTo()
   public static int getSuitRank(Suit st)
   {
      int k;

      for (k = 0; k &lt; 4; k++) 
         if (suitRanks[k] == st)
            return k;

      // should not happen
      return 0;
   }

   public  static int getValueRank(char val)
   {
      int k;

      for (k = 0; k &lt; numValsInOrderingArray; k++) 
         if (valueRanks[k] == val)
            return k;

      // should not happen
      return 0;
   }

   // lots of irrelevant things omitted
}
</pre>

	<p>Do you see?  First notice that we have to use the same signature for the <strong>compareTo()</strong> method that Java uses, which means we take an <strong>Object</strong>, not a <strong>Card </strong>as a parameter.      Everything in Java is derived from <strong>Object</strong>.  Next, we use the <strong>instanceof</strong> operator to make sure we are holding a <strong>Card</strong>, and if we are, we <em>type coerce </em>to <strong>Card</strong> type.  From that point we can deal with a <strong>Card</strong> object called <strong>otherCard</strong>, and   compare <strong>otherCard</strong> to <strong><em>this</em></strong>.</p>
	<p>The rest of the code relies on the fact that I have created an array with the   card values listed from left to right.  I find the position in that array   of the candidate card value and use that position as the   &quot;strength&quot; of the card.  This is a way to convert the chaotic &apos;A&apos;, &apos;4&apos;, &apos;K&apos; format to a   simple 0, 2, ... 12 format.  If you run through the loops with a pencil and   piece of paper, taking two specific cards as examples, you will see it.</p>
	<h2>7A.2.5 Using compareTo() in a Client</h2>
	<p>Let&apos;s test this in a main.  I&apos;ll use a previous <strong>main() </strong>and modify it to   compare the <strong>Queen of Spades</strong> to every card in the deck.  Here is the   relevant code:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      Card[][] deck = new Card[4][13];
      int row, col;
      Card.Suit st;
      char val;
      
      // instantiate the array elements
      for (row = 0; row &lt; deck.length; row++)
         for (col = 0; col &lt; deck[row].length; col++)
            deck[row][col] = new Card();
    
      // assign values to array elements
      for (row = 0; row &lt; deck.length; row++)
      { 
         // set the suit for this loop pass
         st = Card.Suit.values()[row];
 
         // now set all the values for this suit
         deck[row][0].set(&apos;A&apos;, st);
         for (val=&apos;2&apos;, col = 1; val &lt;= &apos;9&apos;; val++, col++)
            deck[row][col].set(val, st);
         deck[row][9].set(&apos;T&apos;, st);
         deck[row][10].set(&apos;J&apos;, st);
         deck[row][11].set(&apos;Q&apos;, st);
         deck[row][12].set(&apos;K&apos;, st);
      }
      
      // test compareTo with queen of spades
      Card queenOfSpades = new Card(&apos;q&apos;, Card.Suit.spades);
      String phrase;
      for ( row = 0; row &lt; deck.length; row++)
      {
         for ( col = 0; col &lt; deck[row].length; col ++)
         {
            if ( queenOfSpades.compareTo(deck[row][col]) &lt; 0 )
                  phrase = &quot; is less than &quot;;
            else if ( queenOfSpades.compareTo(deck[row][col]) &gt; 0 )
                  phrase = &quot; is greater than &quot;;
            else
                  phrase = &quot; is equal to &quot;;
                 
            System.out.println(queenOfSpades + phrase
                  + deck[row][col] );
         }   
      }
   }
}
</pre>

	<p>And here is the output that proves the algorithm actually works as advertised:</p>
	
<pre>Q of spades is less than A of clubs
Q of spades is greater than 2 of clubs
Q of spades is greater than 3 of clubs
Q of spades is greater than 4 of clubs
Q of spades is greater than 5 of clubs
Q of spades is greater than 6 of clubs
Q of spades is greater than 7 of clubs
Q of spades is greater than 8 of clubs
Q of spades is greater than 9 of clubs
Q of spades is greater than T of clubs
Q of spades is greater than J of clubs
Q of spades is greater than Q of clubs
Q of spades is less than K of clubs
Q of spades is less than A of diamonds
Q of spades is greater than 2 of diamonds
Q of spades is greater than 3 of diamonds
Q of spades is greater than 4 of diamonds
Q of spades is greater than 5 of diamonds
Q of spades is greater than 6 of diamonds
Q of spades is greater than 7 of diamonds
Q of spades is greater than 8 of diamonds
Q of spades is greater than 9 of diamonds
Q of spades is greater than T of diamonds
Q of spades is greater than J of diamonds
Q of spades is greater than Q of diamonds
Q of spades is less than K of diamonds
Q of spades is less than A of hearts
Q of spades is greater than 2 of hearts
Q of spades is greater than 3 of hearts
Q of spades is greater than 4 of hearts
Q of spades is greater than 5 of hearts
Q of spades is greater than 6 of hearts
Q of spades is greater than 7 of hearts
Q of spades is greater than 8 of hearts
Q of spades is greater than 9 of hearts
Q of spades is greater than T of hearts
Q of spades is greater than J of hearts
Q of spades is greater than Q of hearts
Q of spades is less than K of hearts
Q of spades is less than A of spades
Q of spades is greater than 2 of spades
Q of spades is greater than 3 of spades
Q of spades is greater than 4 of spades
Q of spades is greater than 5 of spades
Q of spades is greater than 6 of spades
Q of spades is greater than 7 of spades
Q of spades is greater than 8 of spades
Q of spades is greater than 9 of spades
Q of spades is greater than T of spades
Q of spades is greater than J of spades
Q of spades is equal to Q of spades
Q of spades is less than K of spades

</pre>

	<p>You can use your code or mine from assignments #1 or #2 and add these methods and changes to the <strong>Card</strong> class -- or if they are already in the <strong>Card</strong> class, change their signatures so that they obey the <strong>Comparable</strong> interface requirement as I have done, above. Thus, you have what you need to create a full, working program in one file.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7a_3.html -->



<a name="53_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - More on Comparable</h1>
	<h2>7A.3.1 Type Parameters</h2>
	<p>There is one idea we can introduce now that would have made the <strong>Card</strong> <strong>compareTo()</strong> implementation shorter.  My presentation implied that   the  parameter of the <strong>compareTo()</strong> method had to be an <strong>Object</strong>,   i.e., the &quot;basest&quot; of classes.  I used <em><font color="#FF0000">type coercion</font></em> and <font color="#FF0000"><strong>instanceof</strong></font> to force things to work for us in the case of <strong>Cards</strong>.  In fact, you can use any class in this position <em>without</em> type   coercion if you   declare this up front as in</p>
<pre>     class Card implements Comparable&lt;Card&gt;</pre>
	
	<p> The word <strong>Card</strong> inside the angled brackets tells Java that we intend to   	use an object of type <strong>Card</strong> as the parameter of our <strong>compareTo()</strong> method.  That enables us to write that method like so:</p>
<pre>public int compareTo(Card otherCard)
{  	
   // remove the first few lines of the old method definition
   ...
   
</pre>
	
	<p>This is an example of a <em><strong>type parameter</strong></em>.  We are inserting the <strong>Card</strong> in the angled brackets, &lt; ... &gt;,  at the top of the class in   the <em>implements</em> clause (in the phrase <strong>Comparable&lt;Card&gt;</strong>) and we   might have placed <em>any</em> type in that position.  We declare that we   will be comparing <strong>Cards</strong> to ... <font color="#FF00FF"><em>drum roll please</em></font> ... <strong>Cards</strong>.  It usually makes sense to use the same type as the class   itself, in this case, <strong>Card</strong>, because our intent is to compare one <strong>Card</strong> to another <strong>Card</strong>.  However, in some universe we might want to compare <strong>Dogs</strong> to <strong>Cats</strong>, so the <strong>Dog</strong> class might implement <strong> Comparable&lt;Cat&gt;</strong>.    Strange, perhaps, but it is not as   strange as you might guess.   </p>
	<p>Why is this called a type <em>parameter</em>?     In a manner of speaking, we are &quot;passing&quot; the <strong>Card</strong> type down into the <strong> Comparable</strong> interface definition, just as we pass an argument to a function.     When can we use <em><strong>type parameters</strong></em>?  Whenever an interface    was created with one.  This means that <strong>Comparable</strong> was defined using   a type parameter.  If you were to look at the definition of the Java   interface, you would find this to be true.  But when we get to <em><strong> generics</strong></em> we will see how it looks when one creates an interface   definition using type parameters.</p>
	<p>As an illustration of using a <em><strong>type parameter</strong></em>, and a second   example of implementing <strong>Comparable</strong>, think of a class called <strong>LcdTV</strong> which is defined by the <strong>model name</strong> (a <strong>String</strong>) and two <strong>ints</strong> giving the <strong>width</strong> and <strong>height</strong> of the viewing area.  In most   cases, when we decide whether one <strong>LcdTV</strong> is larger than another (and by   how much) we care about the diagonal length, which is neither the <strong>width</strong> nor the <strong>height</strong>, but rather, <strong>SQRT( width*width + height*height)</strong> as   I&apos;m sure you all recall from the <font color="#008000">Pythagorean Theorem</font>.  Ahem.  As you see, the idea of one object being compared to another in a   non-obvious way turns up much more common that you might think.</p>
	<p>Here is a class <strong>LcdTV</strong> that implements <strong>Comparable</strong> in a way that   uses a type parameter.<br/>
	</p>
 
<pre>class LcdTV implements Comparable&lt;LcdTV&gt;
{   
   // private data
   private String model;
   private int width;  // in inches
   private int height; // in inches
   
   // class constants
   public final int MAX_LENGTH = 20;
   public final int MAX_DIM = 500;
   public final int DEFAULT_DIM = 10;
   
   // constructors
   public LcdTV(String model, int w, int h)
   {
      setModel(model);
      setSize( w, h );
   }
   
   // mutators
   public boolean setModel(String model  )
   {
      if (model==null) 
      {
         this.model = &quot;undefined&quot;;
         return false;
      }
      this.model = (model.length() &lt;= MAX_LENGTH)? 
         model : model.substring(0, MAX_LENGTH);
      return true;
   }
   public boolean setSize(int w, int h)
   {
      if (w &lt; 1 || h &lt; 1 || w &gt; MAX_DIM || h &gt; MAX_DIM   )
      {
         width = DEFAULT_DIM;
         height = DEFAULT_DIM;
         return false;
      }
      width = w;
      height = h;
      return true;
   }
   
   // accessors
   public int getHeight()
   {
      return height;
   }
   public int getWidth()
   {
      return width;
   }
   public int getSize()
   {
      return (int)Math.sqrt(height*height + width*width);
   }
      
   // stringizer
   public String toString()
   {
      String retVal;
      
      // convert from char to String
      retVal =  model + &quot; (size = &quot;
         + Integer.toString(getSize()) + &quot;) &quot;;
      return retVal;
   }
   
   // compareTo - the main attraction
   public int compareTo(LcdTV other) 
   {
      return this.getSize() - other.getSize();
   }
} 

public class Foothill
{
   public static void main(String[] args)
   {
      LcdTV tv1 = new LcdTV( &quot;Matsashtiku M7&quot;, 18, 13);
      LcdTV tv2 = new LcdTV( &quot;GQ S-91&quot;, 21, 12);
      LcdTV tv3 = new LcdTV( &quot;Matsashtiku M44&quot;, 25, 55);
      LcdTV tv4 = new LcdTV( &quot;Stony VoyVey&quot;, 24, 51);

      System.out.println(&quot;Comparing &quot; + tv1.toString() + &quot; and &quot;
            + tv2.toString() + &quot;: &quot; 
            + Integer.toString(tv1.compareTo(tv2)));
 
      System.out.println(&quot;Comparing &quot; + tv4.toString() + &quot; and &quot;
            + tv3.toString() + &quot;: &quot; 
            + Integer.toString(tv4.compareTo(tv3)));
   }
}

/* --------------------- The Run ------------------------

Comparing Matsashtiku M7 (size = 22)  and GQ S-91 (size = 24) : -2
Comparing Stony VoyVey (size = 56)  and Matsashtiku M44 (size = 60) : -4

-------------------------------------------------------- */
</pre>

	<h2>7A.3.2 Comparable and Algorithms</h2>
	<p>Not  only is it useful to implement <strong>Comparable</strong> but in some   situations it is required.  As we learn about <strong>generics</strong> and <strong>collections</strong>,   we will also see that there are some built-in algorithms in the <em>Java   Collections Framework</em>.  Some of these algorithms are applicable   if and only if the class to which they are going to be applied <em><strong>implements</strong></em> <strong> Comparable</strong>.  As a quick way to understand this, imagine a method   called <strong>sort()</strong> that sorts a list of objects in any class or one called <strong> add()</strong> that inserts an object in its &quot;correct&quot; place in a sorted list.    Such methods exist but can only be   applied to classes that implement <strong>Comparable </strong>(or <strong>Comparator</strong>, a   similar interface about which we will learn more later).  This makes it   important for certain classes to implement <strong>Comparable </strong>for potential   future use with these algorithms..</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7b_1.html -->



<a name="54_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 1 - Interface Cloneable and Deep Copies of Images</h1>
	<h2>7B.1.1 Shallow Copies</h2>
	<p> <img align="right" alt="scenic scuba" border="2" height="198" hspace="5" src="./CS 1B Module 7B Section 1_files/cs_B_common_37.jpg" vspace="8" width="150"/>At some point we end up having to deal with the sticky topic of <em><strong>shallow</strong></em> and <em><strong>deep</strong></em> copies.  It all starts when, one day, we notice that an object has   been modified when we never modified it.  How can this be?  We used   shallow copies when we should have been using deep copies.</p>
	<p>For classes with simple primitive data members, or even immutable   non-primitive members (like <strong>String</strong>), we normally can get by with a shallow copy,   where we supply a <em><strong>copy constructor</strong></em> and simply move the data from the parameter   object to <em><strong>this</strong></em>.  But let&apos;s back-up our story a little to the days before   copy constructors.  Remember when, in our ignorant bliss, we thought we   could copy an object by doing this:</p>

<pre>    imObj2 = imObj1;
</pre>

	<p>We know this won&apos;t work for even the simplest object class, as we can easily   verify.  The two references are pointing to the same data, so changing data   using one reference will be reflected if we use the other reference.  While   we sometimes do want two references pointing to the same data, I&apos;m talking about   the times that we really want a true, separate, copy for each reference.</p>
	<p>So, our next idea is to add a copy constructor, like so:</p>

<pre>   imObj2 = new TwoDimImage(imObj1);
</pre>

	<p>Well, this all depends on the copy constructor.  Here is where we have   to see the full class.  Let&apos;s take a class that has a <em><strong>two-dimensional array</strong></em> of <strong>ints</strong>.  Since grayscale pictures are really nothing more than such   animals, we&apos;ll call this class <strong>TwoDimImage</strong>.  Here is the full class, with   the above assignment and the output:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      int[][] userArray = {
            {1, 1, 1, 1, 1},
            {2, 2, 2, 2, 2},
            {3, 3, 3, 3, 3},
      };
      
      TwoDimImage imObj1 = new TwoDimImage(userArray);
      TwoDimImage imObj2 = new TwoDimImage(imObj1);
      
      // change ONLY the first object
      imObj1.setElement(2, 2, 9);
      imObj1.setElement(4, 0, 9);
     
      // First secret message
      imObj1.display(); 
      imObj2.display();
   }   
}

class TwoDimImage
{
   public static final int MAX_HEIGHT = 5;
   public static final int MAX_WIDTH = 5;
   
   private int data[][];
   
   TwoDimImage()
   {
      int row, col;
      data = new int[MAX_HEIGHT][MAX_WIDTH];
      for ( row = 0; row &lt; data.length; row++ )
         for ( col = 0; col &lt; data[row].length; col++ )
            data[row][col] = 0;
   }
   
   TwoDimImage(int[][] intData)
   {
      this();
      int row, col;
      
      if ( !checkSize( intData ) )
         return;  // silent, but there&apos;s an error, for sure.

      for ( row = 0; row &lt; intData.length; row++ )
         for ( col = 0; col &lt; intData[row].length; col ++ )
            data[row][col] = intData[row][col];
   }
   
   TwoDimImage(TwoDimImage tdi)
   {
      this.data = tdi.data;
   }
   
   private boolean checkSize(int[][] data )
   {
      if (data == null)
         return false;
      if (data.length &gt; MAX_HEIGHT)
         return false;
      if (data[0].length &gt; MAX_WIDTH)  // since rectangle, need only check row 0
         return false;
      return true;
   }
   
   public boolean setElement(int row, int col, int val)
   {
      if (row &lt; 0 || row &gt;= MAX_HEIGHT || col &lt; 0 || col &gt;= MAX_WIDTH)
         return false;
      data[row][col] = val;
      return true;
   }
   public int getElement(int row, int col)
   {
      if (row &lt; 0 || row &gt;= MAX_HEIGHT || col &lt; 0 || col &gt;= MAX_WIDTH)
         return Integer.MAX_VALUE; // use as an error (lame, but easy)
      return data[row][col];
   }
   
   
   public void display()
   {
      int row, col;
      
      // top row border
      System.out.println();
      for ( col = 0; col &lt; TwoDimImage.MAX_WIDTH + 2; col++ )
         System.out.print(&quot;-&quot;);
      System.out.println();
      
      // now each row from 0 to MAX_WIDTH, adding border chars
      for (row = 0; row &lt; TwoDimImage.MAX_HEIGHT; row++)
      {
         System.out.print(&quot;|&quot;);
         for (col = 0; col &lt; TwoDimImage.MAX_WIDTH; col++)
            System.out.print(data[row][col]);
         System.out.println(&quot;|&quot;);
      }
      
      // bottom
      for ( col = 0; col &lt; TwoDimImage.MAX_WIDTH + 2; col++ )
         System.out.print(&quot;-&quot;);
      System.out.println();
   }
}


/*-----------------------------OUTPUT-----------------------------------

-------
|11111|
|22222|
|33933|
|00000|
|90000|
-------

-------
|11111|
|22222|
|33933|
|00000|
|90000|
-------

------------------------------------------------------------------------*/
</pre>

	<p>We changed the first object&apos;s data using:</p>

<pre>   // change ONLY the first object
   imObj1.setElement(2, 2, 9);
   imObj1.setElement(4, 0, 9);
</pre>

	<p>and, sadly,  both objects got modified.  The offending method is   the <em><strong>copy constructor</strong></em>:</p>

<pre>   TwoDimImage(TwoDimImage tdi)
   {
      this.data = tdi.data;
   }
</pre>

	<p> While this assignment would work if <strong>data</strong> were <strong><em>primitive</em></strong> (or even <strong>String</strong>,   since <strong>String</strong> is <strong><em>immutable</em></strong>), it does not work here because <strong>data</strong> refers to stuff   that is <em>outside</em> our object, proper.  In other words, <strong>data</strong> is a <em><strong>deep member</strong></em>.    We have <strong>deep</strong> (sometimes called heap) data but we are using a <strong><em>shallow copy</em></strong>.</p>
	<p> This is unacceptable.  There are two solutions.</p>
	<h2> 7B.1.2 Deep Copies In Copy Constructors</h2>
	<p> We can fix this simply by fixing our copy constructor:</p>

<pre>   TwoDimImage(TwoDimImage tdi)
   {
      this(tdi.data);
   }
</pre>

	<p>Because we are calling our sister constructor that does allocate and move the   data, we will end up with unlinked objects as the output shows:</p>

<pre>-------
|11111|
|22222|
|33933|
|00000|
|90000|
-------

-------
|11111|
|22222|
|33333|
|00000|
|00000|
-------
</pre>

	<p>Fine.   However, Java developers frown on copy constructors -- they   have a well-defined and safer mechanism for accomplishing deep copies by   implementing <strong>Cloneable</strong> and overriding the <strong>clone()</strong> method from   class <strong>Object</strong>.  That&apos;s right!  We are actually overriding a   method in <em><strong>Object</strong></em>, not implementing a method signature in <strong> Cloneable</strong>.  Confusing, I know, but for now, just think about it as   implementing the <strong>clone()</strong> method in interface <strong>Cloneable</strong>, and we&apos;ll   make a comment about this when we&apos;re done.</p>
	<h2> 7B.1.3 Deep Copies Without Copy Constructors: clone()</h2>
	<p align="center"> <img alt="scenic sheep" border="2" height="283" src="./CS 1B Module 7B Section 1_files/cs_B_common_36.gif" width="250"/></p>
	<p align="left"> Molly, above, says you should follow all my advice on   cloning.</p>
	<p align="left"> We can leave out the copy constructor and then use a different syntax for   doing a deep copy.  Implement the Java class <strong>Cloneable</strong> and supply your own<strong> clone() </strong>method.  This involves following a well-thought-out (by Java   designers) sequence which is the following:</p>
	<ol>
		<li>Get rid of all your <em><strong>copy constructors</strong></em>.  They will only cause   	problems and temptation.  Use the <strong>clone()</strong> mechanism,   	exclusively.</li>
		<li>Implement <strong>Cloneable</strong> (which means tagging <strong>implements Cloneable </strong>to the class header).  </li>
		<li>Supply a <strong>clone()</strong> method that has the following signature and form - don&apos;t   	deviate:
		
<pre>   public Object clone() throws CloneNotSupportedException
   {

      // always do this first -
      CurrentClass newObject = (CurrentClass)super.clone();

      // at this point, the parent data is copied, but current data is shallow
      // if you have nothing other than shallow objects, you are done
      // deep members must be cloned in code below ...
      ...
      
      return newObject;
   }
</pre>
			
		</li>
		<li>Do not invoke any constructors explicitly (by calling <strong>this()</strong>) or   	implicitly (by using<strong> new CurrentClass()</strong>) within your <strong>clone()</strong> method definition.</li>
		<li>In your client, copy objects using <strong>clone()</strong> with an appropriate   	type cast:
	
<pre>CurrentClass cc2 = (CurrentClass )cc1.clone();
</pre>

</li>
		<li>Add a <strong>throws CloneNotSupportedException</strong> to your client method   	header.</li>
	</ol>
	<p>This is a lot to digest, so let&apos;s just talk about it in general terms for a   moment.  We are replacing <font color="#FF0000"><em>copy constructor</em></font>s   with a <font color="#0000FF"><em>clone()</em></font> method that does, basically,   the same thing the copy constructor did -- it duplicates the internal data.    Then, instead of:</p>

<pre>   TwoDimImage imObj2 = new TwoDimImage(imObj1);
</pre>

	<p>we use a slightly different syntax:</p>

<pre>   TwoDimImage imObj2 = (TwoDimImage)imObj1.clone();
</pre>

	<p>The difference may seem superficial, but it provides an orderly mechanism for   inheritance and one that is lacking if you use copy constructors.  The   benefits are:</p>
	<ul>
		<li>If you are deriving from an unknown class, but one that you know   	implements <strong>Cloneable</strong>, you can rely on the <strong>super.clone()</strong> statement in your own <strong>clone()</strong> method to correctly duplicate the super   	class data.</li>
		<li>If other programmers subclass from <em>your</em> class, they will be able   	to extend your <strong>clone() </strong>just as you have extended your super class <strong> clone()</strong>.</li>
	</ul>
	<p>On the other hand, if you use copy constructors, or even invoke a constructor   within your own <strong>clone()</strong>, things won&apos;t work. </p>
	<p>In step 3, above, there are two ways to do the work of duplicating your own   member data, that is, member data that you defined and is not part of the super   class.  First, if the data is an object from a class, say from a class   called <strong>MyDataType</strong>, that, itself, can be cloned, you can do this:</p>

<pre>   newObject.myData = (MyDataType)this.myData.clone();
</pre>

	<p>Or, if your data is something like an array, you can do the allocation and   copying manually:</p>

<pre>   newObject.data = new int[SIZE];
   for ( int k = 0; k &lt; SIZE; k++ )
      newObject.data[k] = this.data[k];
</pre>

	<p>Notice that you have to instantiate data and then copy the data into the   object that <strong>clone()</strong> will return.  It is a good idea to enclose   either of the above code snippets in a test to make sure that you actually have   something worth cloning, as in:</p>

<pre>   if (this.myData != null)
</pre>

	<p>While this is all you need to know before looking at the full example, I must    tell you two things, both of which are incomplete comments that require   additional research on your part if you care to know the full story.  You   don&apos;t have to chase these facts if you simply obey the above rules. </p>
	<ol>
		<li>You can handle the <strong>CloneNotSupportedException</strong> in a try/catch block and   	leave out the throws clause in the corresponding function header.</li>
		<li>Interface <strong>Cloneable</strong> actually has no <strong>clone()</strong> method header!  <strong>clone() </strong>is actually a method in class <strong>Object</strong> that you are   	overriding.  This odd combination has the desired effect, but it&apos;s   	beyond the scope of our lesson to go further into this topic.</li>
	</ol>
	<p>Here is the way we use <strong>Cloneable</strong> in our <strong>TwoDimImage</strong> program.</p>

<pre>public class Foothill
{
   public static void main(String[] args) throws CloneNotSupportedException
   {
      int[][] userArray = {
            {1, 1, 1, 1, 1},
            {2, 2, 2, 2, 2},
            {3, 3, 3, 3, 3},
      };
      
      TwoDimImage imObj1 = new TwoDimImage(userArray);
      TwoDimImage imObj2 = (TwoDimImage)imObj1.clone();
      
      // change ONLY the first object
      imObj1.setElement(2, 2, 9);
      imObj1.setElement(4, 0, 9);
     
      // First secret message
      imObj1.display(); 
      imObj2.display();
   }   
}

class TwoDimImage implements Cloneable
{
   public static final int MAX_HEIGHT = 5;
   public static final int MAX_WIDTH = 5;
   
   private int data[][];
   
   TwoDimImage()
   {
      int row, col;
      data = new int[MAX_HEIGHT][MAX_WIDTH];
      for ( row = 0; row &lt; data.length; row++ )
         for ( col = 0; col &lt; data[row].length; col++ )
            data[row][col] = 0;
   }
   
   TwoDimImage(int[][] intData)
   {
      this();
      int row, col;
      
      if ( !checkSize( intData ) )
         return;  // silent, but there&apos;s an error, for sure.

      for ( row = 0; row &lt; intData.length; row++ )
         for ( col = 0; col &lt; intData[row].length; col++ )
            data[row][col] = intData[row][col];
   }

   
   private boolean checkSize(int[][] data )
   {
      if (data == null)
         return false;
      if (data.length &gt; MAX_HEIGHT)
         return false;
      if (data[0].length &gt; MAX_WIDTH) // since rectangle, only check row 0
         return false;
      return true;
   }
   
   public Object clone() throws CloneNotSupportedException
   {
      int row, col;
      
      // always do this first - parent will clone its data correctly
      TwoDimImage newBc = (TwoDimImage)super.clone();
      
      // now do the immediate class member objects
      newBc.data = new int[MAX_HEIGHT][MAX_WIDTH];
      for ( row = 0; row &lt; MAX_HEIGHT; row++ )
         for ( col = 0; col &lt; MAX_WIDTH; col++ )
            newBc.data[row][col] = this.data[row][col];
      
      return newBc;
   }
   
   public boolean setElement(int row, int col, int val)
   {
      if (row &lt; 0 || row &gt;= MAX_HEIGHT || col &lt; 0 || col &gt;= MAX_WIDTH)
         return false;
      data[row][col] = val;
      return true;
   }
   public int getElement(int row, int col)
   {
      if (row &lt; 0 || row &gt;= MAX_HEIGHT || col &lt; 0 || col &gt;= MAX_WIDTH)
         return Integer.MAX_VALUE; // use as an error (lame, but easy)
      return data[row][col];
   }
   
   
   public void display()
   {
      int row, col;
      
      // top row border
      System.out.println();
      for ( col = 0; col &lt; TwoDimImage.MAX_WIDTH + 2; col++ )
         System.out.print(&quot;-&quot;);
      System.out.println();
      
      // now each row from 0 to MAX_WIDTH, adding border chars
      for ( row = 0; row &lt; TwoDimImage.MAX_HEIGHT; row++ )
      {
         System.out.print(&quot;|&quot;);
         for ( col = 0; col &lt; TwoDimImage.MAX_WIDTH; col++ )
            System.out.print(data[row][col]);
         System.out.println(&quot;|&quot;);
      }
      
      // bottom
      for (col = 0; col &lt; TwoDimImage.MAX_WIDTH + 2; col++)
         System.out.print(&quot;-&quot;);
      System.out.println();
   }
}

/*-----------------------------OUTPUT---------------------------------------------

-------
|11111|
|22222|
|33933|
|00000|
|90000|
-------

-------
|11111|
|22222|
|33333|
|00000|
|00000|
-------

------------------------------------------------------------------------*/
</pre>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7b_3.html -->



<a name="55_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - Implementing a Pseudo-Datamatrix Optical Writer/Reader (Optional)</h1>
  	<div class="parenthetical"> <strong>This section is optional</strong><strong></strong>. Ultimatly, it will be replaced by sections <strong>7B.5</strong> through <strong>7B.7</strong>. You may proceed directly to those if you wish. </div>
	<h2>7B.3.1 The Groundwork:  An Interface and an Image Class</h2>
	<p>Our goal is to provide a toolkit for barcode reader/writer development --   tools that our company can use for its internal hardware and software products,   and tools that we can sell to other companies as APIs (application programming   interfaces).</p>
	<h2>7B.3.2 BarcodeIO Interface</h2>
	<p>We begin by defining an interface that will contain the requisite method   signatures needed by any barcode reader/writer class that future programmers   might design. Like all interfaces, we do not define the behavior of the methods. We only provide their names and some documentation in order to guide  implementers  as to their intended effect.</p>
	<p>The basic idea is this:  The interface will proclaim that the   implementing class has two fundamental read operations, one for scanning an   image (clearly intended for later translation into a text string), and another   for reading some text (intended for later conversion to an image label that will be   printed).  This represents both halves of the read process.  Sometimes we   want to <em>create</em> a label, so we ask for a string to encode.  Other times we   want to <em>read</em> a label so we scan in an image.  </p>
	<h4>We have two   methods signatures for these two operations: </h4>
	<ul>
		<li><strong>public boolean scan(BarcodeImage bc);</strong></li>
		<li><strong>public boolean readText(String text);</strong></li>
	</ul>
	<p>Next, the interface requires two output methods, one for reporting the text   message and another for &quot;printing&quot; a label.  </p>
	<h4>These will be called </h4>
	<ul>
		<li><strong>public void displayTextToConsole()</strong> ;</li>
		<li><strong>public void displayImageToConsole();</strong></li>
	</ul>
	<p>Finally, we will add two methods that bridge the gap between the two   extremes.  These will cause the translation of a text message to and from   the image data.  They don&apos;t have any input/output impact, but do represent   a change in the state of the object, allowing us to be certain that the text we   just read-in has been converted to a barcode image, or conversely, that the   image we just scanned has been translated into some text. </p>
	<h4>These methods   are:</h4>
	<ul>
		<li><strong>public boolean generateImageFromText()</strong>;</li>
		<li><strong>public boolean translateImageToText();</strong></li>
	</ul>
	<p>We will call the interface <strong>BarcodeIO</strong>, and, in summary, here is a complete   specification for the interface:</p>
	<h3>BarcodeIO</h3>
	<p>Any   class that <strong><em>implements</em></strong> <strong>BarcodeIO</strong> is expected to store some version of an image   and some version of the text associated with that image.  I will describe   each method signature here because it will make the spec of the implementing class   shorter.  However, descriptions in an interface don&apos;t pack any punch in   practice.  For us, though, they should be considered &quot;spec&quot;: </p>
	<ul>
		<li><strong>public boolean scan( BarcodeImage bc )</strong> - accepts some image,   	represented as a <strong>BarcodeImage</strong> object to be described below, and stores a copy of this   	image.  Depending on the sophistication of the implementing class, the   	internally stored image might be an exact clone of the parameter, or a   	refined, cleaned and processed image.    	Technically, there is no requirement that an implementing class use a <strong>BarcodeImage</strong> object internally, although we will do so.  For the basic <strong>DataMatrix</strong> option,   	it will be an exact clone.  Also, no <strong><em>translation</em></strong> is done here - i.e., any   	text string that might be part of an implementing class is not touched,   	updated or defined during the scan. </li>
		<li><strong>public boolean readText( String text )</strong> - accepts a text string to   	be eventually encoded in an image. No translation is done here - i.e., any <strong>BarcodeImage</strong> that might be part of an implementing class is not touched,   	updated or defined during the reading of the text.</li>
		<li><strong>public boolean generateImageFromText()</strong> - Not technically an I/O   	operation, this method looks at the internal text stored in the implementing class   	and produces a companion <strong>BarcodeImage</strong>, internally (or an image in   	whatever format the implementing class uses).  After this is   	called, we expect the implementing object to contain a fully-defined image   	and text that are in agreement with each other.</li>
		<li><strong>public boolean translateImageToText()</strong> - Not technically an I/O   	operation, this method looks at the internal image stored in the implementing   	class, and produces a companion text string, internally.  After this is   	called, we expect the implementing object to contain a fully defined image   	and text that are in agreement with each other.</li>
		<li><strong>public void displayTextToConsole()</strong> - prints out the text string   	to the console.</li>
		<li><strong>void displayImageToConsole() </strong>- prints out the image to the   	console.  In our implementation, we will do this in the form of a dot-matrix of blanks and asterisks, e.g., 
		
<pre>------------------------------------
|* * * * * * * * * * * * * * * * * |
|*                                *|
|****   * ***** **** **** ******** |
|*   *** ***************** ********|
|*  * **  *   *   *  *    * **     |
|* *       * *  **    * * *    ****|
|*     *   *    ** * *  *  *  ** * |
|** * *** *****  **     * *      **|
|****  *   **** ** *   *   *  * *  |
|**********************************|
------------------------------------
</pre>

</li>
	</ul>
	<h2>7B.3.3 BarcodeImage Class for Holding Images</h2>
	<p>Next we want to define a data   structure that will be used to store, internally, an image.  Let&apos;s be clear   about what we are doing. This class is not the ultimate <strong>DataMatrix</strong> class that is   going to implement <strong>BarcodeIO</strong> and do the translation between text and graphics.     This current class is only about the graphics data, and doesn&apos;t even really have   to be used for barcodes.  We could have called it <strong>TwoDimImage</strong>, for example.     Come to think of it, I did this a few days ago for you.  What a   coincidence.</p>
	<p>The intended use of this class is to be used as a member object in our   ultimate class, <strong>DataMatrix</strong>.  Make sure you are clear on this.  We are   not going to subclass from this, we are going to use it as one small part, a <strong> <em>member object,</em></strong> of the   target class <strong>DataMatrix</strong>.</p>
	<p>We will call this image class <strong>BarcodeImage</strong>.  Because <strong>BarcodeImage</strong> will, just   like our friend <strong>TwoDimImage</strong>, contain deep data, it must <strong><em>implement</em></strong> the Java   interface <strong>Cloneable</strong>.  The data is described very simply as a 2D array of <strong>booleans</strong> (along with a couple static finals that indicate the dimensions of that   array).</p>
	<h4>   Data for BarcodeImage</h4>
	<ul>
	  <li><strong>public static final int MAX_HEIGHT = 30;   public static final int MAX_WIDTH = 65</strong>;    These   	constants represent the maximum allowable dimensions of externally passed arrays   	and the <strong><em>exact</em></strong> internal dimensions of 2D data.  These   	finals are required,   	but the values are up to you.  </li>
		<li><strong>private boolean imageData[][];  </strong>Here is your payload.    	Instantiate the amount described using the above constants every time, even   	if an in-coming image is not that large.  If the in-coming data is too   	large, instantiate memory anyway, but leave it blank (white).  This data will be <strong>false</strong> for elements that are white (or blank), and <strong>true</strong> for elements that are   	anything else, particularly &apos;*&apos;s.</li>
	</ul>
	<p>Let&apos;s talk about how we are going to use<strong> imageData[][]</strong> to hold our image,   internally.   Let&apos;s say we have a very small 3x3 image:</p>
	
<pre><span style="background-color: #99CCFF">* *</span>
<span style="background-color: #99CCFF"> * </span>
<span style="background-color: #99CCFF">***</span>
</pre>

	<p>(That&apos;s my attempt at an image of the face of a student, hungry for   knowledge.)</p>
	<p>Now, our internal <strong>imageData[][] </strong>is a large (<strong>30</strong> tall by <strong>65</strong> wide)   array.  Where do we place this small 3x3 array within <strong>imageData[][]</strong>?    We will place it in the lower-left corner.  All &quot;signal&quot; (the blanks and asterisks of this little 3×3 image) will be placed  into that corner.  Here is the   positioning of this &quot;signal&quot;:</p>

<pre>
    Col# -&gt; |0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ... -&gt; ... 63 64
            |
Row #       |
-----       |-----------------------------------------------------------------------
 0          |
 1          |
 2          |     example: imageData[2][19] is here ----&gt;   <span style="background-color: #99CCFF">X</span>
 3          |
 4          |
 5          |
 6          |
 7          |
 8          |
 9          |
10          |
11          |
12          |
13          |
14          |
15          |
16          |
17          |
18          |
19          |    (everything above and to the right of the signal is white = false)
20          |
21          |
22          |
23          |
25          |
26          |
27          |<span style="background-color: #99CCFF">*   *</span>
28          |<span style="background-color: #99CCFF">  *  </span>    &lt;--- actual &quot;signal&quot; is packed lower left, row <b>MAX_HEIGHT-1 </b>and up
29          |<span style="background-color: #99CCFF">* * *</span>          
             ------------------------------------------------------------------------

</pre>

	<p>Of course, I am using &apos;*&apos; to   mean <strong>true</strong>, and blank &apos; &apos;   to mean <strong>false</strong>.  The array is completely <strong>false</strong> except for a   few elements in the lower-left.   The   color is only used to help you see the actual <strong><em>signal</em></strong>, not   meant to indicate <strong>true</strong> or <strong>false</strong>.  One final, important   observation:  the signal is not stored in the <strong>imageData[][]</strong> in such a way   that the interesting part, the signal, starts with<strong> imageData[0][0]</strong>.  <font color="#FF0000"><em>If   you place data there, you will not get the program to work. </em></font> The above   picture tells you <em>everything you need to know in order to store, read and   write the image</em>.  </p>
	<p>One thing that any downstream method looking just at this large <strong>imageData[]</strong> matrix cannot know, based only on what it contains, is where the actual   signal <em>ends</em>.  (Maybe a few rows of white (<strong>false</strong>) above or to the right of   the last black (*) are signal.)   That kind of information will be   dealt with elsewhere.  All we need to do here, in this class, is to know   what to do with a rectangular image that we get (in a constructor, for example)   that might be <em>smaller than </em>the full <strong>30</strong> x <strong>65</strong> internal array:  we pack   it into the lower left.  But when we display it (if we were to do so in this   class), or do anything else, we&apos;ll   treat the entire <strong>30</strong> x <strong>65</strong> element array as valid data.  </p>
	<h3>    Methods   for BarcodeImage</h3>
	<ul>
		<li>Constructors.  Two minimum, but you could have others:
			<ul>
				<li><strong>Default Constructor </strong>-  instantiates a 2D array (<strong>MAX_HEIGHT</strong> × <strong>MAX_WIDTH</strong>) and stuffs it all with blanks (<strong>false</strong>).</li>
				<li><strong>BarcodeImage( String[] str_data )</strong> - an easy-to-use (but harder   		to implement) constructor that takes a 1D array of <strong>Strings</strong> and converts   		it to the internal 2D array of <strong>booleans</strong>.  See the sample   		below and diagram above, for clarity on this.
				</li>
			</ul>
			
<div class="important"> HINT
						<p>This constructor is a little tricky because the incoming image is not the necessarily same size as the internal matrix.  So, you have to pack it into the lower-left corner, causing a bit of stress if you don&apos;t like 2D counting.  This is good 2D array exercise.</p>
</div>

		</li><li><em><strong>Accessor</strong></em> and <em><strong>mutator</strong></em> for each bit in the image:  <strong>boolean   	getPixel( int row, int col )</strong> and <strong>boolean setPixel( int row, int col,   	boolean value )</strong>;  For the <strong>getPixel()</strong>, you can use the return   	value for both the actual data and also the error condition -- so that we   	don&apos;t &quot;create a scene&quot; if there is an error; we just return <strong>false</strong>.</li>
		<li>A <strong>clone() </strong>method that overrides the method of that name in class <strong>Object</strong>.  This is covered in detail in the modules.</li>
		<li>A <strong>display()</strong> method that shows the object in a border, with <em> blanks</em>, <strong> </strong>, representing white/false and <em>asterisks</em>, <strong> &apos;*&apos;</strong> representing black/true.  This is meant mostly for debugging   	and development purposes since <strong>BarcodeImage</strong> is supposedly independent   	of <em>I/O</em>.  We include it as a corresponding method for our <strong> TwoDimImage</strong>&apos;s <strong>display()</strong> function.</li>
		<li>There may be others -- these are the crucial ones.</li>
	</ul>
	<p>Notice that the &quot;money&quot; constructor takes a <strong>String</strong> array, as input.    Usually, a constructor takes data identical to the internal data.  However   a 2D array of <strong>booleans</strong> is really a pain to write out, while an array of <strong>Strings</strong> is a breeze.   An example that shows how you would   create and display a <strong>BarcodeImage</strong> using this constructor and <strong>display()</strong> follows:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      String[] sImageIn = 
      { 
         &quot;                                      &quot;,
         &quot;                                      &quot;,
         &quot;                                      &quot;,
         &quot;* * * * * * * * * * * * * * * * *     &quot;,
         &quot;*                                *    &quot;,
         &quot;**** * ****** ** ****** *** ****      &quot;,
         &quot;* ********************************    &quot;,
         &quot;*    *   *  * *  *   *  *   *  *      &quot;,
         &quot;* **    *      *   **    *       *    &quot;,
         &quot;****** ** *** **  ***** * * *         &quot;,
         &quot;* ***  ****    * *  **        ** *    &quot;,
         &quot;* * *   * **   *  *** *   *  * **     &quot;,
         &quot;**********************************    &quot;
      };
      
      BarcodeImage bc = new BarcodeImage(sImageIn);
      bc.display();
   }   
}
</pre>

	<p> Here is the output of a successful run:</p>
	<div class="picCenter"><img alt="console shot" border="1" height="658" src="./CS 1B Module 7B Section 3_files/pic_1b7_1.jpg" width="623"/></div>
	<p> This example anticipates a couple things.  First, it looks like <em> Datamatrix</em> format (why?).    Second, the writer of this example chose to &quot;pack&quot; the signal in the lower-left   of the <strong>String</strong> array.  That might not have been the case - there is   no law requiring the client to <em>not</em> have spaces below, or to the left of, the   signal.  Even if we were using <em>Datamatrix</em>, the image might not be   left-lower pre-packed!  But, in the simple program we write in our lab, we   will see one option where we expect the client to give us a <strong>String</strong> array   with this lower-left justification.  This expectation makes writing the   class methods easier.</p>
	<p> Oh, and by the way, don&apos;t be lulled into a false sense of complacency.    The lower-left packing of this <strong>String sImageIn</strong> array by the client does   very little to help us translate the data to a lower-left packing of the<strong> boolean imageData[][]</strong> array.  We will need very careful and meticulous   counting in order to make this translation.  That&apos;s why we are making the   big bucks.</p>
	<h2>7B.3.4 Steps in Implementing BarcodeImage</h2>
	<p>As you know, <strong>BarcodeImage</strong> is very similar to <strong>TwoDimImage</strong> which   I have completely implemented for you.  Here are the key differences.</p>
	<ul>
		<li>The <strong>int data[][]</strong> of the <strong>TwoDimImage</strong> is an <strong>int</strong> matrix, while the <strong>bool  imageData[][]</strong> of <strong>BarcodeImage</strong> is a <strong>boolean</strong> matrix.</li>
		<li>When you <strong>display()</strong> your <strong>BarcodeImage</strong> object, you must test   	for true/false and output <strong>*</strong> or<strong> &apos; &apos;</strong>, accordingly.  You don&apos;t simply   	output the data.</li>
		<li><strong>get/setElement()</strong> is replaced by <strong>get/setPixel()</strong> which work   	on <strong>boolean</strong>, not <strong>int</strong>, data.</li>
		<li> <strong>boolean checkSize(String[] data )</strong> should be   	the new version of <strong>TwoDimImage</strong>&apos;s <strong>checkSize()</strong>.   I   	didn&apos;t specify it above, because it is a private helper method, but it is   	just as useful in the new context.  It has a different signature, but   	has to test for essentially the same things, adjusted for the new    	parameter type.</li>
		<li>The constructor, <strong>BarcodeImage(String[] str_data)</strong>,   	while not much longer than the prior constructor, <strong>TwoDimImage(int[][] int_data)</strong>,   	it is <u><em>much more subtle</em></u> and requires a lot of thought,   	counting, pencil, paper and thinking.  You have to move data from the   	client&apos;s <strong>String array</strong> into the lower left corner of the private <strong> boolean</strong> member array, and this &quot;ain&apos;t&quot; easy.  But you are   	qualified to do it, and it is now the time for you to prove this to   	yourself.</li>
	</ul>
	<p>This class, <strong>BarcodeImage</strong>, can be written and debugged all by itself,   independent of the other components of today&apos;s lesson.  Start with <strong> TwoDimImage</strong> and make changes slowly and carefully.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8a_1.html -->



<a name="56_"></a>


<div class="container">
<div class="content">
	<h1>Section 1 - Introduction to Linked Lists</h1>
	<h2>8A.1.1 Overview</h2>
	<h3>ADTs and Our Old Stack</h3>
	<p>In a prior week, you learned what a <em><strong>stack</strong></em> data structure was, and how to build one using inheritance. A <em><strong>stack</strong></em> is a kind of  <strong><em>abstract data type</em></strong>, or <em><strong>ADT</strong></em>, since the pictures and operations that involve a <em><strong>stack</strong></em> can be described without reference to any particular language. <strong><em>Pushing</em></strong> to and <em><strong>popping</strong></em> from a <em><strong>stack</strong></em> are well understood no matter what programming language we decide to implement them in.  So the <em><strong>stack</strong></em> was our first <strong><em>ADT</em></strong>.</p>
	<div class="parenthetical">One might argue that an <em><strong>array</strong></em> was also a kind of <em><strong>ADT</strong></em>, and one would have a point. <strong><em>Arrays</em></strong> are usually called <em><strong>vectors</strong></em>, informally, when discussed in terms of <em><strong>ADT</strong></em>s, but we&apos;ll wait a few minutes before we introduce the <em><strong>vector</strong></em> vocabulary, so just put that thought aside for the moment.</div>
	<h3>A New ADT: the List</h3>
	<div class="picCenter"><img align="left" alt="scenic duck art" border="0" height="200" hspace="10" src="./CS 1B Module 8A Section 1_files/cs_B_common_28.JPG" vspace="7" width="300"/></div>
	
	<p>In the first part of the week, we will meet our second, formal <em><strong>ADT</strong></em>, the <em><strong>linked list</strong></em>, or simply <strong><em>list</em></strong>. Lists are ubiquitous in computer science, so mastering their implementation and use is essential. We&apos;ll do this in the first lesson and do so in a way that parallels how we used inheritance to implement queues, enabling the ADT to be used for a variety of data types.</p>
	<h3>Java Collections</h3>
	<p>In the second half of the week, we move forward to  the <strong>Java <em>collection classes</em></strong>.  These  <em><strong>collections</strong></em><strong></strong>, found in <strong>java.util</strong>, allow us to use certain built-in data structures (<em><strong>ADT</strong></em>)s, which are pre-designed; each <em><strong>ADT</strong></em> implemented in Java is called a <em><strong>class generic</strong></em>. The exciting thing about these<em> <strong>generic</strong></em><strong>s</strong> is that they are type-neutral. We can use them to create, say, a stack of <strong>ints</strong>, a stack of <strong>Cards</strong> or a stack of <strong>Lizards</strong>, and do so in a <em>single statement</em>: no new classes or methods to write. Nothing to extend or inherit. As long as there is a stack template available for us, we can use it immediately. </p>
	<h3>Reference for Java ArrayLists and other Collection class &quot;Generics&quot;</h3>
	<p>Here is a link from the first weeks, reprised for easy access. Scroll down to the <strong>java.util</strong> link and take it.</p>
	<div class="picCenter"><a href="http://docs.oracle.com/javase/7/docs/api/index.html" target="_blank">http://docs.oracle.com/javase/7/docs/api/index.html</a> → java.util
	</div>



<h2>8A.1.2 The Node Class</h2>
<p>Here is the implementation of the list node class (which we   will wisely call simply <strong>Node</strong>, because we can use it for more than just <strong> Lists</strong>).  We have made the <strong>next</strong> member of the <strong>Node</strong> class <strong>private</strong> to afford maximum protection.  We provide an accessor (but   no mutator) for this critical datum.    Since we are going to be using this <strong>Node</strong> type to generate a &quot;hot-linked&quot;   list, (i.e., we will link up actual nodes passed in by clients, and not copies   of those nodes) we want to reduce the likelihood that a malicious client will   modify the <strong>next</strong> member of a node and thus destroy our list. </p>

<pre>// Class Node ----------------------------------
class Node
{
   // data
   private Node next;

   // constructor
   public Node()
   {
      next = null;
   }

   // console display
   public void show()
   {
      System.out.print(&quot;(generic node) &quot;);
   }

   // insert after
   public void insertAfter(Node newNode)
   {
      if (newNode == null)
         return;
      newNode.next = next;
      next = newNode;
   }

   // remove after
   public Node removeAfter()
   {
      Node temp = next;

      if (temp != null)
         next = temp.next;
      return temp;
   }

   // returning the next member
   public Node getNext()
   {
      return next;
   }
}
</pre>

<h2>8A.1.3 A Test Client and Run</h2>
<p>To test the class we use this <strong>main()</strong>:</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Node n1, n2, n3, np;
      n1 = new Node();
      n2 = new Node();
      n3 = new Node();

      n1.insertAfter(n2);  // insert n2 after n1
      n2.insertAfter(n3);  // insert n3 after n2

      for (np = n1; np != null; np = np.getNext())
         np.show();
   }
 }
</pre>

<p>Which produces this result</p>
<div class="picCenter"><img alt="console shot" border="0" height="120" src="./CS 1B Module 8A Section 1_files/pic_1b8_1.jpg" width="612"/></div>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8a_2.html -->



<a name="57_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - A Base List Class</h1>
	<h2>8A.2.1 A General Linked List</h2>
	<p>Our general <strong>List</strong> class contains two private members, <strong>head</strong> and <strong>current</strong>, both <strong>Node</strong> <em><strong>pointers</strong></em>.  <strong>Head</strong> will   always point to the front of the list and gives us a way to start traversing it.  <strong>Current</strong> will be free to point to any <strong>Node</strong> in the list and   typically starts at the <strong>head</strong> and moves forward one-at-a-time as the   client requests.  The client positions <strong>current</strong> by use of the   instance methods <strong>resetCurrent(), getCurrent() </strong>and<strong> iterate()</strong>.</p>
	<p>We also include methods <strong>insertAfterHead()</strong> and <strong>removeAfterHead()</strong> that   are not really needed in real applications.   They are only used in   the first test program so that we can add items to the head of the list (and   remove them from the head of the list). If you look at this carefully, you&apos;ll see that the   inclusion of these two methods makes our <strong>List</strong> class behave exactly like a   generic stack class.  (Why?).</p>
	<div class="important"> Understand Every Detail
		<p><strong>insertAfterHead()</strong> and <strong>removeAfterHead()</strong> will actually place place/remove the node <em>after</em> the first node in the list, so the actions will appear to happen in the second position. You can see this if you follow the code below.  This is not an error: our linked list will always be born with a non-data header node that does not move and is never removed. All the action takes place after that header node, including these two testing methods. </p>
	</div>
	<p><br/>
	</p>
	<h4>Implementation:</h4>

<pre>//Class List ---------------------------------------
class List
{
   // pointer to first node in stack
   private Node head, current;
   
   // constructor
   public List()
   {
      // an empty list will have one &quot;header&quot; node at the front
      head = new Node();
      current = null;
   }
   
   protected void insertAfterHead(Node newNode)
   {   
      head.insertAfter(newNode);
   }  
   
   protected Node removeAfterHead()
   {
     return head.removeAfter();     
   }

   // console display
   public void showList()
   {
      System.out.println( &quot;\n\n_____Here&apos;s the List_______\n&quot; );
      for (current = head; (current = current.getNext()) != null; )
      {
         current.show();
         System.out.print(&quot; &quot;);
      }
      System.out.println( &quot;\n\n_____That&apos;s all!_______\n&quot; );
   }

   protected Node getCurrent()
   {
      return current;
   }

   protected void resetCurrent()
   {
      current = head;
   }

   protected Node iterate()
   {
      if (current != null)
         current = current.getNext();
      return current;
   }
}
</pre>

	<h2>8A.2.2 A Test Client and Run</h2>
	<p>To test the class we use this <strong>main()</strong>.  Remember that the <strong>Node</strong> class must   appear in the file.</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      Node np;
      List myList = new List();
      int k;

      // build a data-less list by inserting 10 nodes at front
      for (k = 0; k &lt; 10; k++)
      {
         np = new Node();
         myList.insertAfterHead(np);
      }
      myList.showList();

      // remove 5 nodes
      for (k = 0; k &lt; 5; k++)
         myList.removeAfterHead();
      myList.showList();
   }
}
</pre>

	<p>Which produces this result</p>

<pre>_____Here&apos;s the List_______

(generic node)  (generic node)  (generic node)  (generic node)  (generic node)
(generic node)  (generic node)  (generic node)  (generic node)  (generic node)  

_____That&apos;s all!_______



_____Here&apos;s the List_______

(generic node)  (generic node)  (generic node)  (generic node)  (generic node)  

_____That&apos;s all!_______
</pre>

	<p>I added a line feed into the first list so the line would not go too far to   the right.</p>
	<p>We should discuss the very terse but elegant loop control in <strong>showList()</strong>:</p>

<pre>   for (current = head;  (current = iterate()) != null;  )
</pre>

	<p>This is a short way to go through a list, but it requires that the list have   a <em><strong>header node</strong></em>, that is, a node at the front that does not contain any useful   data.</p>
	<ol>
		<li>We start off the pointer <strong>current</strong> at <strong>head</strong>.  That is fine.</li>
		<li><strong>current = iterate()</strong> is not a typo.  We are not testing   	for equality, we are making an assignment.  As we said before, we are   	taking a step forward in our list with this kind of assignment. We saw it   	with<strong> p = p.GetNext()</strong>, which is what <strong>iterate()</strong> is doing<strong>. </strong> However, in past examples this step occurred   	in the third section of the <em><strong>for</strong></em> <strong><em>loop</em></strong>. Here it is   	occurring in the second, test, section. After the assignment we are testing   	whether the value of the assignment was   	non-null, i.e., we are asking &quot;have we reached the end of the list (remember the   	list ends with a <strong>null</strong>).  Therefore, this statement takes a step   	forward and then tests for <strong>null</strong>.</li>
		<li>Because the iteration is done in the second section there is no need to   	have anything in the iteration (third) section of the for loop control.   	That&apos;s why it is blank.</li>
	</ol>
	<p>Again, we take a step first before we test, which is why we must have a <em> header node</em> in the list.  If there was none, we would be skipping the   first data node.</p>
	<h3>Memory Considerations</h3>
	<p>A careful study of the class and client reveals that we are making some   decisions about memory usage.  The first decision is   that we have chosen to link client nodes directly into the list rather than   making local copies owned by the list.  This is a choice - we are saying   that in this class it is important (for some reason) that nodes which are linked   in be the originals.  This may be a dangerous decision, but it is a judgment call that   the class designer is   making.</p>
	<ul>
		<li><font color="#990033"><strong>Dangerous:</strong></font>  The client has   	access to the nodes that are in the list.  That means the client might   	be able to pillage our list.  We reduce the possibility by removing <strong>Node.GetNext()</strong> method  -- it was just used   	for testing in the last section.  Also, we have various <strong>protected </strong>qualifiers in place which prevents out-of-package clients from using   	these methods.  <strong>Protected </strong>means that only   	classes derived from <strong>List</strong> will be able to access the methods of that   	section.  It&apos;s fine to let the derived <strong>List</strong> classes invoke these   	protected functions because they are created by &quot;tinkerer&quot;, not   	end user, programmers.  But the real client class that   	will ultimately use the finished product will not be able to get at these dangerous   	methods (<em>dangerous</em> because they return node references which could potentially be used to damage   	the list).  There might be other measures that need to   	be taken, but we have made our point.  </li>
	</ul>
	<ul>
		<li><font color="#990033"><strong>Useful: </strong></font>We may want the data (i.e.,   	non-<strong>next</strong>) portion of <em>derived</em> <strong>Node</strong> objects to be mutable <em>after</em> they are put into the list.  This would result in the list   	always being up-to-date with each node&apos;s most recent changes.  This is what I am calling  &quot;hot-linked&quot; (not to be   	confused with the excellent lunch you can get at <em><strong>Top Dog</strong></em> near UC   	Berkeley).  That is, in turn, why we want originals and not copies to be   	in the list.</li>
	</ul>
	<p>Also, we are creating a <em><strong>header node</strong></em> that will always be in the   list, even when it is empty.  <em><strong>Header nodes</strong></em> provide a way to   make moving through the list easier with fewer special cases (i.e., we never   have to test for empty lists).</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8a_3.html -->



<a name="58_"></a>


<div class="container">
<div class="content">
	<h1>Section 3 - Deriving a Float Class</h1>
	<h2>8A.3.1 Building From a Base Class</h2>
	<p>Let&apos;s say we wish to create a real, useful list of <strong>floats</strong> (actually <strong> doubles</strong>)  from our generic   list of &quot;nothings&quot;.  As with the <strong>StackNodes</strong> and <strong>Stack</strong> data   structure, we first create a new node called <strong>FloatNode</strong>.  <strong>FloatNode</strong> will be derived from <strong>Node</strong> and therefore will not   have to duplicate any data or linking methods.  It only has to add the <strong>double</strong> data to it.  That&apos;s what deriving classes is all about.</p>
	<p>This is exactly as we did when we extended the <strong>StackNode</strong> class, but   here we are extending our more general <strong>Node</strong> class.  Here is the <strong> FloatNode</strong> class. </p>
	<div class="parenthetical">Note: I&apos;m actually using <strong>doubles</strong> rather than <strong>floats</strong>.  Often we use <strong>doubles</strong>, but informally call them <strong><em>floats</em></strong>, since <strong>double</strong> is a floating point data type.</div>
<pre>// imports go at the top of whatever .java file this appears.
import java.util.*;
import java.text.*;

class FloatNode extends Node
{
   // additional data for subclass
   private double data;
   
   // constructor
   public FloatNode(double x)
   {
      super();  // constructor call to base class
      data = x;
   }
   
   // overriding show()
   public void show()
   {
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(4);
      
      System.out.print(&quot;[&quot; + tidy.format(data) + &quot;] &quot;);
   }
   
   // accessor and mutator
   public double getData()
   {
      return data;
   }
   
   public boolean setData(double usrData)
   {
      // if there were a viable limitation we would test and return false if bad
      data = usrData;
      return true;
   }
}
</pre>

	<p>To repeat what I said several lessons before, it is derived from <strong>Node</strong>.    It has only one member, the <strong>double</strong> <strong>data</strong>.  It has one constructor,   the usual accessors, and it overrides the <strong>show() </strong>method of the base class.   I added some   fancy number formatting just to make sure the floats are printed out neatly, and   that could be omitted, to make the class even simpler.  Notice how you have to   know absolutely NOTHING about the base class nodes.  You only add the float data   and methods that manipulate that. <br/>
	</p>
	<h2>8A.3.2 An Instant List of Floats</h2>
	<p>Guess what?  We don&apos;t have to derive any other classes to start using a <strong>float</strong> list.  We can use what we have immediately. Keep in mind this is   still a little unrealistic because the client below uses <strong>FloatNodes</strong> rather than   simple <strong>floats</strong> (the client shouldn&apos;t have to be bothered with the   existence of such esoteric types as <strong>FloatNodes</strong>), but it will be a good   test for your understanding of derived classes.</p>
	<p>In what follows, I assume the same multi-file project that we used with the <strong>StackNode</strong> and <strong>Stack</strong> examples.  In other words I added classes   (and .java files) Node and List to the project and placed the code for <strong>Node</strong> and <strong>List</strong> into Node.java and List.java, respectively.</p>
	<p>Here is the main <strong>Foothill.java</strong> file, containing the derived class <strong> FloatNode</strong>, and a main that tests its functionality.</p>

<pre>import java.util.*;
import java.text.*;

public class Foothill
{
   public static void main (String[] args)
   {
      FloatNode fp;
      List myList = new List();
      int k;

      // build a data-less list by inserting 10 nodes at front
      for (k = 0; k &lt; 10; k++)
      {
         fp = new FloatNode(k);
         myList.insertAfterHead(fp);
      }
      myList.showList();

      // remove 5 nodes
      for (k = 0; k &lt; 5; k++)
         myList.removeAfterHead();   
      myList.showList();
   }
 }

class FloatNode extends Node
{
   // additional data for subclass
   private double data;
   
   // constructor
   public FloatNode(double x)
   {
      super();  // constructor call to base class
      data = x;
   }
   
   // overriding show()
   public void show()
   {
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(4);
      
      System.out.print(&quot;[&quot; + tidy.format(data) + &quot;] &quot;);
   }
   
   // accessor and mutator
   public double getData()
   {
      return data;
   }
   
   public boolean setData(double usrData)
   {
      // if there were a viable limitation we would test and return false if bad
      data = usrData;
      return true;
   }
}
</pre>

	<p>Output:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="294" src="./CS 1B Module 8A Section 3_files/pic_1b8_2.jpg" width="734"/></div>
	<p>We are using a <strong>FloatNode</strong> reference, fp to create the nodes that go into the   list because that is how we add actual numbers.</p>
	<p>You should be enjoying the magic of <strong><em>inheritance </em></strong>now.  Without modifying the <strong>showList() </strong> method, our list of <strong>FloatNodes</strong> was printed to the screen.</p>
	<p>Study this example before going on to the next section (which has even cooler   things in it).</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8a_4.html -->



<a name="59_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - A Full List of Floats</h1>
	<h2>8A.4.1 A Sorted List of Floats</h2>
	<p>We now show how a fully general linked-list can be derived from the generic   base class <strong>List</strong>.  We assume you have the <strong>FloatNodes</strong> defined and   working.  We are going to derive a class from List called <strong>FloatList</strong>.     Here is an overview of the class:</p>

<pre>class FloatList extends List
{
   public void insert(double x){ ... }  // insert in increasing numerical order
   public boolean remove(double x) { ... }  // remove the first occurrence from list
}
</pre>

	<p>This is very nice if you think about it.  We can create a <strong>FloatList</strong>,   then start inserting (and or removing) <strong>floats</strong> into/from it.  Every   time we call <strong>myList.insert(some_float) </strong>the float <strong>some_float</strong> will be   inserted into the list in its correct numerical location, that is, as we build   the list it will always be in increasing order.    There are no <strong>Nodes</strong>, <strong>FloatNodes</strong> or other techno-babbly data types for our client   to deal with.  The client just <em><strong>inserts</strong></em> <strong>floats </strong> (remember, really <strong>doubles</strong>) into the list, and <em> <strong> removes</strong></em> them whenever he wants to.  The list deals with finding the   correct place for the <strong>floats</strong>.</p>

	<p>Here is a graphic illustration of how insert() should work.  Let&apos;s say the   state of the list at some point in time is:</p>
     
<pre>0 → 3.5 → 93.2 → 153 → 200 → 300 → 400 → 436.1 → null </pre>
<p>Then we call<strong> myList.insert (250)</strong>.  The list becomes:</p>
     
<pre>0 → 3.5 → 93.2 → 153 → 200 → <strong>250</strong> → 300 → 400  → 436.1 → null </pre>
<p>After calling <strong>myList.Delete(200)</strong>, the list should be:</p>
     
<pre>0 → 3.5 → 93.2 → <strong>153 → 250</strong> → 300 → 400 → 436.1 → null </pre>

	<h2>8A.4.2 Implementation of <strong>FloatList.insert()</strong> and <strong>FloatList.remove()</strong></h2>
	<p><strong>insert(double x) </strong>is a tricky method.  We have to</p>
	<ol>
		<li>Create a new <strong>FloatNode</strong> to house the <strong>double x</strong>.</li>
		<li>Enter a loop that starts at the head of the list and compares the data   	for each node in the list with <strong>x.</strong></li>
		<li>If <strong>x</strong> &gt;= the current node&apos;s data, then we move forward one node</li>
		<li>If <strong>x</strong> &lt; the current node&apos;s data, we have found the place in the list to   	insert x (before the current node).</li>
		<li>If we reach the end of the list before item 4 above, then we place x at   	the end of the list (it was larger than all the items.)</li>
	</ol>
	<p>The thing that makes this tricky is item 4.  Notice if <strong>x</strong> <em>is   less than</em> the current   node&apos;s data we have to place <strong>x</strong> <em>BEFORE</em> that node.  But there is no method to   insert a new node <em>BEFORE</em> a node in a list.  There is only <strong>insertAfter(), </strong>no<strong> insertBefore()</strong>.  This is not a matter of semantics.    With only one <strong>next</strong> pointer included in each <strong>Node</strong> it is impossible to write an <strong>insertBefore()</strong> method even if we wanted to do so.  To solve this   dilemma, we stand back one node (like holding a dog on a long leash) and test   the node two in front of our current position.  That way, when we find the   correct place to insert the <strong>double x</strong>,   we are still far enough behind it to do an<strong> insertAfter()</strong> on the correct node.</p>
	<p>Despite my considerable skill at explaining things, you&apos;ll just have to read   the logic and use a pencil and paper, drawing arrows and crossing out values, as   you read the code.  If you trace through the logic you will see how it   works.</p>
	<p>Here is the implementation of <strong>FloatList;</strong></p>

<pre>class FloatList extends List
{
   // insert in increasing numerical order
   public void insert(double x)
   {
      Node np;
      FloatNode fp;
      // create a new FloatNode
      FloatNode newfp = new FloatNode(x);
      
      // always stay one node behind the node you are testing
      for (resetCurrent(); (np = getCurrent()) != null ; iterate() )
      {
         if (np.getNext() == null)
            break; // pointing to last node in list
      
         // if x &gt; current then we continue to search
         fp = (FloatNode)(np.getNext());
         if ( x &lt;= fp.getData() )
            break;   // found the exact place for this float
      }
      np.insertAfter(newfp);
   }
   
   // remove the first occurance from list
   boolean remove(double x)
   {
      Node np;
      FloatNode fp;

      // always stay one node behind the node you are testing
      for (resetCurrent(); (np = getCurrent()) != null ; iterate() )
      {
         if (np.getNext() == null)
            return false; // end of list and not found

         // if f == current then we found match
         fp = (FloatNode)(np.getNext());
         if ( x == fp.getData() )
         {
            np.removeAfter();
            return true;   // we found, we removed, we return
         }
      }
      return false;
   }
}
</pre>

	<h3>Discussion of insert()</h3>
	<p>As you read <strong>insert()</strong>, remember that <strong>resetCurrent()</strong> is inherited from the <strong>List</strong> class, and it sets <strong>current = head</strong>.  Also, <strong>iterate()</strong> takes a step forward in   the list by the simple statement <strong>current = current.next.</strong>  Remember   that we have a <em><strong>header node </strong></em>at the front of the list which has no meaningful <strong>float</strong> data in it, yet it is absolutely essential to the logic here, so don&apos;t   ignore it.</p>
	<p>Finally, because<strong> np.getNext()</strong> returns a simple <strong>Node</strong>, we have to type cast to <strong>FloatNode</strong> so we can access the <strong>float,</strong> <strong>data</strong>.</p>
	<p>I&apos;ll rephrase the confusing part again, this time in the language of the   above code.  Our comparison is between the float passed in, <strong>x</strong>, and <strong>np.next.data</strong>.  That way, if <strong>x </strong><em>IS LESS THAN</em> <strong>np.next.data,</strong> we know that <strong>x</strong> goes <em>BEFORE</em> <strong>np.next</strong>.  That means <strong>x</strong> goes <em>BETWEEN</em> <strong>np</strong> and <strong>np.next</strong>.  So we can call <strong>np.insertAfter()</strong> and place the new <strong>float</strong> before <strong>np.next,</strong> as desired.  These   comparisons require using the accessor method since data is private to   FloatNode.</p>
	<p>Once you understand <strong>insert()</strong>, it will be easy to understand <strong>remove()</strong>. Here it is:</p>

<pre>   // remove the first occurrence from list
   boolean remove(double x)
   {
      Node np;
      FloatNode fp;

      // always stay one node behind the node you are testing
      for (resetCurrent(); (np = getCurrent()) != null ; iterate() )
      {
         if (np.getNext() == null)
            return false; // end of list and not found

         // if f == current then we found match
         fp = (FloatNode)(np.getNext());
         if ( x == fp.getData() )
         {
            np.removeAfter();
            return true;   // we found, we removed, we return
         }
      }
      return false;
   }
}
</pre>

	<p>This is the complete implementation of <strong>FloatList</strong> which is derived from <strong>List</strong>.  Because this same logic works for any data type, it is   essential that you understand it.  To make sure you do, I&apos;ll want you to   create a <strong>StringNode</strong> (or even <strong>CardNode</strong>) and <strong>StringList</strong> (<strong>CardList</strong>)   class, so that you will have the methods that will insert <strong>Strings</strong> (or <strong> Cards</strong>) in a list in increasing order.  It should be easy to copy the   code above and make the minor changes.</p>
	<p>The next page has a sample run and the full listing.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8a_5.html -->



<a name="60_"></a>


<div class="container">
<div class="content">
	<h1>Section 5 - FloatList Source Code and Run</h1>
	<h2>8A.5.1 The Complete Listing</h2>
	<p>Remember that this project is using multiple files.  That means that the   base classes <strong>Node</strong> and <strong>List</strong> are declared and implemented in their own .java files.  The following is the main<strong> .java</strong> file (which I am still calling <strong>Foothill.java</strong>).  It contains the derived classes <strong>FloatNode</strong> and <strong>FloatList</strong> as   well as the  main <strong>Foothill</strong> class.</p>

<pre>import java.util.*;
import java.text.*;

public class Foothill
{
   public static void main (String[] args)
   {
      FloatList myList = new FloatList();
      int k;
      double x;

      // build list of 10 floats, 2 at a time (1 random and 1 k*100)
      for (k = 0; k &lt; 5; k++)
      {
         x = 1000 * (double)Math.random(); // float bet 0 and 1000
         myList.insert(x);
         myList.insert(k*100);
      }

      // should be sorted
      myList.showList();

      // remove 5 nodes (and delete them!)
      for (k = 0; k &lt; 5; k++)
      {
         x = k*100;
         if (myList.remove(x))
            System.out.println(x + &quot; removed&quot;);
         else 
            System.out.println(x + &quot; not found&quot;);
     }
      myList.showList();

      if (!myList.remove (-10))  // should have no effect
         System.out.println(&quot;-10 not in list as expected.&quot;);;
      myList.showList();
   }
 }

class FloatNode extends Node
{
   // additional data for subclass
   private double data;
   
   // constructor
   public FloatNode(double x)
   {
      super();  // constructor call to base class
      data = x;
   }
   
   // overriding show()
   public void show()
   {
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(4);
      
      System.out.print(&quot;[&quot; + tidy.format(data) + &quot;] &quot;);
   }
   
   // accessor and mutator
   public double getData()
   {
      return data;
   }
   public boolean setData(double usrData)
   {
      // if there were a viable limitation we would test and return false if bad
      data = usrData;
      return true;
   }
}

class FloatList extends List
{
   // insert in increasing numerical order
   public void insert(double x)
   {
      Node np;
      FloatNode fp;
      // create a new FloatNode
      FloatNode newfp = new FloatNode(x);
      
      // always stay one node behind the node you are testing
      for (resetCurrent(); (np = getCurrent()) != null ; iterate() )
      {
         if (np.getNext() == null)
            break; // pointing to last node in list
      
         // if x &gt; current then we continue to search
         fp = (FloatNode)(np.getNext());
         if ( x &lt;= fp.getData() )
            break;   // found the exact place for this float
      }
      np.insertAfter(newfp);
   }
   
   // remove the first occurrence from list
   boolean remove(double x)
   {
      Node np;
      FloatNode fp;

      // always stay one node behind the node you are testing
      for (resetCurrent(); (np = getCurrent()) != null ; iterate() )
      {
         if (np.getNext() == null)
            return false; // end of list and not found

         // if f == current then we found match
         fp = (FloatNode)(np.getNext());
         if ( x == fp.getData() )
         {
            np.removeAfter();
            return true;   // we found, we removed, we return
         }
      }
      return false;
   }
}
</pre>

	<p>And, finally, the run:</p>

<pre>_____Here&apos;s the List_______

[0]  [79.3059]  [100]  [200]  [300]   ** LINE SHORTED TO FIT SCREEN ***
***    [400]  [601.4567]  [624.8817]  [936.4668]  [992.7678]  

_____That&apos;s all!_______

0.0 removed
100.0 removed
200.0 removed
300.0 removed
400.0 removed


_____Here&apos;s the List_______

[79.3059]  [601.4567]  [624.8817]  [936.4668]  [992.7678]  

_____That&apos;s all!_______

-10 not in list as expected. 

_____Here&apos;s the List_______

[79.3059]  [601.4567]  [624.8817]  [936.4668]  [992.7678]  

_____That&apos;s all!_______
</pre>

	<p>This line:</p>

<pre>       x = 1000 * (double)Math.random(); // float bet 0 and 1000
</pre>

	<p>generates a pseudo random number between 0 and 1000.  The method <strong> Math.random()</strong> generates a random <strong>double</strong> between <strong>0.0</strong> and <strong>1.0</strong>.  We use simple arithmetic to convert this to a random number   between 0 and 1000.  You can look up <strong>random() </strong>on the Web for more   information if you are interested.  You may also find cousins of <strong> random()</strong> that will return <strong>ints</strong> in a certain range.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_1.html -->



<a name="61_"></a>


<div class="container">
<div class="content">
	<h1>Section 1 - Introduction to ArrayLists and Other Containers</h1>
	<h2>8B.1.1 Evaluating Arrays</h2>
	<p>Let&apos;s consider some of the advantages and disadvantages of arrays.</p>
	<h3>Why We Love Arrays</h3>
	<p>Arrays are easy to use.  You can define an array of any data type using   a simple declaration and then access their elements using simple bracket   notation:</p>

<pre>   Card deck[52];

   deck[5].set(&apos;2&apos;, clubs);
</pre>

	<p> Arrays are fast.  They are as fast a method of accessing one of a   collection of objects as you will find.  The difference between one   microsecond and five microseconds might seem meaningless on ordinary time scales,   but if you have to update two million pixels on the screen in 1/60 of a second,   this difference will be painfully evident.  Speed is important in some   applications.</p>
	<h3> Why We Hate Arrays</h3>
	<p> In a phrase,  &quot;fixed size&quot;.</p>
	<p> By fixed size, I mean that once you declare an array, that&apos;s it.  No   changing.  You might allocate way more than you end up using, or not   enough.  </p>
	<h2> 8B.1.2 ArrayLists (Vectors)</h2>
	<img align="right" alt="fruity v" border="0" height="200" src="./CS 1B Module 8B Section 1_files/cs_C_common_12.JPG" width="300"/>
	<p> Java gives us a set of <strong><em>collection</em></strong> classes that help us to   create collections of objects (like arrays).  The <strong><em>collection</em></strong> that is most like an <em><strong>array</strong></em> -- but with major advantages over it --   is an <strong>ArrayList</strong>.  In older versions of Java this used to be called a <strong>Vector</strong>, but <strong>Vectors</strong> have been deprecated and you should use <strong>ArrayLists</strong> in their   place.</p>
	<p> In order to use <strong>ArrayLists</strong> you have to declare one in a   manner similar to an array declaration, but with different syntax.  Let&apos;s   say you want an <strong>ArrayList</strong> of 100 <strong>doubles</strong>.  You would declare:</p>

<pre>   ArrayList&lt;Double&gt; myDoubles = new ArrayList&lt;Double&gt;();
</pre>

	<p>We are using a <strong>Double</strong> with a capital &quot;<strong>D</strong>&quot;.  This is   a different thing than an ordinary primitive <strong>double</strong> -- it is called a <strong><em> wrapper class </em></strong>because it &quot;wraps&quot; a primitive <strong>double</strong> into an object.    It&apos;s not worth studying wrapper classes in depth here.  We just remark that   when  working with <strong>Doubles</strong> (capital <strong>D</strong>),   some things can be done as if these were primitive <strong>doubles</strong>, others can&apos;t.    When you <em>can</em> use a primitive <strong>double</strong> in place of an object <strong>Double</strong>, then Java   is converting the primitive into an object automatically on your behalf.    This conversion is called <em><strong>auto-boxing</strong></em> or <strong><em>type</em></strong><em><strong> promotion</strong></em>.  For instance, a   simple assignment usually makes use of auto-boxing:</p>

<pre>   Float flt;
   flt = 2.5F;   // 2.5F is auto-boxed or promoted
</pre>

	<p>You   cannot use <em><strong>collections</strong></em> like <strong>ArrayLists</strong> with <em><strong>primitive</strong></em> data types (another reason   you may often end up writing your own <em><strong>stacks</strong></em> and <em><strong>lists</strong></em>, as we have done in this   course).  Still, <em><strong>auto-boxing</strong></em> usually allows you to do most of   what you need without much kerfuffle.</p>
	<p>You should recognize the notation that uses the angled brackets, <strong>ArrayList&lt;Double&gt;</strong> as the application of a <em><strong>type parameter</strong></em>.  This works similarly to   a phrase we have seen in this course,   namely <strong>implements Comparable&lt;Card&gt;</strong>, in that we are providing the <strong>ArrayList</strong> definition a   type parameter, <strong>Double</strong>, to tell it we are making a specific <strong>ArrayList</strong> of <em> <strong>Doubles</strong></em> (not <strong>Strings</strong> or <strong>Galaxies</strong>).    The idea, of course, is that we could have put any class name into the brackets   and the resultant list would be a list of objects of that class. For instance, to declare an <strong>ArrayList</strong> of <strong>Strings</strong>, do this:</p>

<pre>   ArrayList&lt;String&gt; myStrings = new ArrayList<string>();
</string></pre>

	<p>Once declared, you use the various instance methods of the <strong>ArrayList</strong> class to   do things. One method, <strong>size(),</strong> returns the number of   elements currently in the array.  Another method, <strong>add(),</strong> lets   you expand the array by adding a new element to the end of it (<em><strong>push</strong></em> a new element onto the <strong><em>end</em></strong> of the array - making this a natural <em><strong>stack</strong></em> candidate).  <strong>set()</strong> lets you change an existing element in the array.</p>
	<p>Here is a simple example of the use of <strong>ArrayLists</strong>.  Notice that you have to <strong>import java.util.* </strong>at the top of your file to gain access to these tools.    This will be true of all the <em><strong>collections classes</strong></em> we discuss in this   lesson.</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
       <span style="background-color: #00FFFF">ArrayList&lt;Double&gt; myDoubles = new ArrayList&lt;Double&gt;();</span>
       int k;
     
       for ( k = 0; k &lt; 30; k++ )
          <span style="background-color: #00FFFF">myDoubles.add( -.01 * k);</span>
       <span style="background-color: #00FFFF">myDoubles.set(1, 999.);</span>
      
       for ( k = 0; k &lt; <span style="background-color: #00FFFF">myDoubles.size()</span>; k++ )
       {
          System.out.print(<span style="background-color: #00FFFF">myDoubles.get(k)</span> + &quot; &quot; );
          if (k%10 == 9)
             System.out.println();
       }
   }
}
</pre>

	<p>The output is this:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="157" src="./CS 1B Module 8B Section 1_files/pic_1b8_3.jpg" width="745"/></div>
	<p>We have overcome our fixed-size problem.  </p>
	<h2> 8B.1.3 ArrayList Methods</h2>
	<p> <strong>ArrayList</strong> is an example of a <em><strong>collection</strong></em> that <strong><em> extends</em></strong> the abstract <strong>Collection</strong> <em><strong>class</strong></em> which in turn <strong> <em>implements</em></strong> the even more abstract <strong> Collection</strong> <strong> <em>interface</em></strong>!!  Some methods, like <strong>add(), </strong> are inherited from (implement) these base interfaces.  Others are unique to the <strong> ArrayList</strong>. I won&apos;t try to separate out which are which, because this isn&apos;t   critical to using this collection.  Here are some of useful methods that   can be applied to <strong>ArrayList</strong>:</p>
	<ul>
		<li><strong>remove(int k)</strong> removes a value from the specified position in the   	list.</li>
		<li><strong>clear()</strong> clears the entire array</li>
		<li><strong>indexOf( Object o)</strong> returns the index of the first occurrence of <strong>o</strong> in the list.</li>
		<li><strong>isEmpty()</strong> returns a <strong>boolean true</strong> or <strong>false</strong>, depending on whether or not   	the list is empty.</li>
	</ul>
	<h2>8B.1.4 Collections Framework Interfaces and Classes</h2>
	<p>When we use the phrase <em><strong>Java Collections Framework</strong></em>, we really   mean three  related but different things.</p>
	<ol>
		<li><font color="#808000"><strong>Interfaces</strong> - These are Java <em><strong> interfaces</strong></em> in the pure sense of the word. They define behavior of   	potential classes without actually defining a class.  In other words,   	each <em><strong>Frameworks Interface</strong></em> is a collection of abstract method   	headers.  As you know, one cannot instantiate an <em><strong>interface</strong></em>.    	Instead, one <em><strong>implements</strong></em> an <em><strong>interface</strong></em> by   	declaring a class that defines all the methods declared in that <em><strong> interface</strong></em>.  Many of the terms we will throw around in the next   	few pages will involve <em><strong>Frameworks interfaces</strong></em>:  <strong>Queue</strong>, <strong>Deque</strong> and  <strong>List</strong> are examples of such interfaces.    	You do not deal with them directly (unless you wish to do the work of   	implementing all the abstract methods they declare).  Rather, you will   	work with <em><strong>implementations</strong></em> of these interfaces that are defined by   	the <em><strong>Collections Framework</strong></em>. These <em><strong>implementations</strong></em> are described in the next two items.</font></li>
		<li><font color="#0000FF"><em><strong>Implementations (a.k.a. Classes)</strong></em> -    	These are actual classes that <em><strong>implement</strong></em> the <em><strong>Framework   	interfaces</strong></em> in ways that Java believes are useful to many   	programmers.  In this category there are, for example, <strong>ArrayList</strong> and <strong>Array</strong> classes that you can <strong><em>instantiate</em></strong> in order to   	manipulate your own custom objects using the pre-defined <strong>ArrayList</strong> or <strong>Array</strong> methods (<strong>binarySearch()</strong>,<strong> sort()</strong>, <strong>fill()</strong>, <strong>contains()</strong>, etc.).  The classes in this second category are of   	limited use because they tend to collect and manipulate objects from the   	grand-daddy of all classes <strong>Object</strong>.  This makes their use a   	little awkward as one is constantly having to employ <em><strong>type coercion</strong></em> and the <strong>instanceof</strong> operator to bend these general classes to one&apos;s own   	means. Furthermore, these classes are not type-safe, meaning that errors are   	not caught until run-time.</font></li>
		<li><font color="#990000"><em><strong>Generic Implementations</strong></em> - Here we   	have the most useful class of collections. These are type-safe generic   	classes - implementations of the Interfaces of part 1.  They have a   	complete set of methods like <strong>add(), remove(), isEmpty()</strong>, etc.    	When instantiating an object of these generic classes, you supply a   	type-parameter telling the generic collection what kind of elements you   	intend it to manipulate.  For example, there is an <strong>ArrayList&lt;&gt;</strong> generic class which you would declare using notation like <strong>ArrayList&lt;Double&gt;</strong> or <strong>ArrayList&lt;Card&gt;</strong>. As a result, you end up with an <strong>ArrayList</strong> of a particular type - more specific than the <strong>ArrayList</strong> of <strong>Objects</strong> of item 2. above.  Some useful examples of <em><strong>Generic   	Implementations of Framework Collections </strong></em>are <strong>ArrayDeque</strong>, <strong> ArrayList</strong> and <strong>Stack</strong> (the last of which is deprecated but   	available).</font></li>
	</ol>
	<p>The <em><strong>Frameworks collections</strong></em> that we examine next will fall into   the third category:  they are implementations of <em><strong>Frameworks   interfaces</strong></em> that admit a type-parameter that we provide. The <strong>ArrayList</strong> example in the previous section demonstrates this perfectly.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_2.html -->



<a name="62_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - Iterators</h1>
	<h2>8B.2.1 Iterators</h2>
	<p>Think about the various ways in which we looped through arrays, and compare   those loops to moving through linked lists.  There was a common idea in   both: initialize, test, iterate, but the actual syntax was much trickier in the   lists.  Besides <strong>ArrayLists</strong>, there are other <strong><em>collections</em></strong> in   java.util.*, notably general <strong>LinkedLists</strong>.  Another   advantage of using <strong>ArrayLists</strong> and <strong>LinkedLists </strong>is that there is a   common technique for running through them, a technique whose syntax is identical   in both cases.  This involves the use of things called <strong>Iterators</strong>.</p>
	<p><em>Iterators</em> are defined alongside <strong>ArrayLists</strong> (or other <strong><em> collections</em></strong>).   In fact, each <em>iterator</em> is   defined <em>within</em>, i.e., nested inside, its parent class.   There   are two flavors, the &quot;simpleton&quot;, <strong>Iterator</strong>, which has very limited   capabilities, and the more powerful <strong>ListIterator</strong>.   They are used to run-through lists just like <strong>int</strong> indexes run through arrays.  An <em>iterator</em> initially points to   the first element in the <em><strong>collection</strong></em> and can move forward or backward through the <em><strong>collection</strong></em> using its instance methods <strong>next() </strong>and <strong>previous().</strong>    It is associated with whatever collection   object it will access. To produce an <em>iterator</em>, you use the   collection object along with an instance method,<strong> iterator()</strong> or <strong> listIterator() </strong>depending on which kind of <em>iterator</em> you want.  In the case of an <strong>ArrayList</strong>, we will   usually want the more powerful <strong>ListIterator</strong>:</p>

<pre>   ListIterator&lt;Double&gt; p;
   p = myDoubles.listIterator();
</pre>

	<p>This creates a <strong>ListIterator</strong> object, <strong>p</strong>, which can be used on <strong>myDoubles</strong>.  You should declare the <strong>ListIterator</strong> using the   same type (<strong>Double</strong>, <strong>String</strong>, <strong>Card</strong>) as the collection it is   going to operate on.  Above we created a <strong>Double</strong> version of <strong> ListIterator</strong> to make it compatible with <strong>myDoubles</strong>.</p>
	<p>When constructed, <strong>p</strong> will initially point   (conceptually, not actually) to the first element in the collection.  <strong> ArrayList iterators</strong> have useful <strong>hasNext(), hasPrevious(), next(), previous() and remove()</strong> instance methods.</p>
	<ul>
		<li><strong>hasNext() </strong>returns a <strong>boolean</strong> <strong>true</strong> if the <strong>iterator</strong> has not completed going through the list.</li>
		<li><strong>next()</strong> returns the currently pointed-to object in the list, and   	iterates up the list to the next object.  This is akin to the   	operations <strong>k++ </strong>or <strong>current = current.next </strong>you may have seen in this or other courses.</li>
		<li><strong>hasPrevious()</strong> returns a <strong>boolean</strong> <strong>true</strong> if the <strong> iterator</strong> is not at the beginning of the list.</li>
		<li><strong>previous()</strong>  returns the  item just before the currently pointed-to object in the   	list, and iterates down the list to point to the element <em>PREVIOUS</em> to   	the current element.</li>
		<li><strong>remove()</strong> removes the last element returned by <strong>next() </strong>or <strong> previous()</strong> from the list.</li>
		<li><strong>set() </strong>replaces the last element returned by <strong>next() </strong>or <strong>previous()</strong> with the argument passed to <strong>set()</strong>.</li>
	</ul>
	<p>Here is a cute program that shows how to create an <strong>ArrayList</strong> of <strong>Strings</strong> and   run through it with an <strong>iterator</strong>.  It demonstrates how easily we can move   through the list, modifying and inserting elements as we go.</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      String[] words = {&quot;When&quot;, &quot;Harry&quot;, &quot;Met&quot;, &quot;Sally&quot;, 
         &quot;X&quot;, &quot;Wild&quot;, &quot;Beast&quot;, &quot;X&quot;, 
         &quot;La&quot;, &quot;Femme&quot;, &quot;Nikita&quot;, &quot;X&quot;, &quot;Back&quot;, &quot;To&quot;, 
         &quot;The&quot;, &quot;Future&quot;, &quot;X&quot;};
      
      ArrayList&lt;String&gt; myStrings = new ArrayList&lt;String&gt;();
      int k;
      ListIterator&lt;String&gt; p;
 
      // load up the list
      for (k = 0; k &lt; words.length; k++)
         myStrings.add(words[k]);
     
      // print the list
      for (p = myStrings.listIterator(); p.hasNext();  )
         System.out.print( p.next() + &quot; &quot; ); 
      System.out.println();
     
      // replace the &quot;X&quot;s with &quot;AA&quot;
      for (p = myStrings.listIterator(); p.hasNext();  )
         if ( p.next().equals(&quot;X&quot;) )
            p.set(&quot;AA&quot;);

      // print the list
      for (p = myStrings.listIterator(); p.hasNext();  )
         System.out.print( p.next() + &quot; &quot; ); 
      System.out.println();

      // remove the &quot;AA&quot;s from the list
      for (p = myStrings.listIterator(); p.hasNext();  )
         if ( p.next().equals(&quot;AA&quot;) )
            p.remove();

      // print the list
      for (p = myStrings.listIterator(); p.hasNext();  )
         System.out.print( p.next() + &quot; &quot; ); 
      System.out.println();

      // print the list backwards (remember that p is
      // now at the end from the last loop
      while (p.hasPrevious())
         System.out.print( p.previous() + &quot; &quot;);
      System.out.println();
     
      // insert &quot;24&quot; into the list in position 3
      myStrings.add(3, &quot;24&quot;);
 
      // print the list
      for (p = myStrings.listIterator(); p.hasNext();  )
         System.out.print( p.next() + &quot; &quot; ); 
      System.out.println();
   }
}</pre>


	<p>Run:</p>
	<div class="picCenter"><img alt="console shot" border="0" height="166" src="./CS 1B Module 8B Section 2_files/pic_1b8_4.jpg" width="627"/></div>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_3.html -->



<a name="63_"></a>


<div class="container">
<div class="content">
	<h1>Section 3 - Returning to Cards</h1>
	<h2>8B.3.1 Cards</h2>
	<p>Let&apos;s return to our card program.  To get started, we want to place our   classes in separate files.  If you have your <strong>Cards</strong> project handy, open it,   otherwise, start a new project.  Name the main class <strong>Foothill</strong> (as I always   like to do) and put your <strong>Card</strong> and <strong>Deck</strong> classes into  separate .java files by creating a <strong>Card</strong> and <strong>Deck</strong> class in your project (or by copying the files into the Foothill/src directory and selecting<strong> File → Refresh</strong> then <strong>Project → Clean</strong>).</p>
	<p>In the following listing, I am using the most recent listing of <strong>Card</strong> in which we have it implement Comparable, and I also made the improvement mentioned earlier   regarding the <em><strong>type parameter</strong></em>, <strong>Card</strong>.  By adding this   parameter to the declaration of the <strong>Comparable</strong> interface, the <strong> compareTo()</strong> method is a little shorter than before.</p>
	<h4>Card.java</h4>

<pre>//Card class --------------------------------------------------------------------
public class Card implements Comparable&lt;Card&gt;
{   
   // type and constants
   public enum Suit { clubs, diamonds, hearts, spades }
   
   // for ordering
   public static char[] valueRanks = { &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, 
      &apos;T&apos;, &apos;J&apos;, &apos;Q&apos;, &apos;K&apos;, &apos;A&apos;};
   static Suit[] suitRanks = {Suit.clubs, Suit.diamonds, Suit.hearts, 
      Suit.spades};
   static int numValsInOrderingArray = 13;

   // private data
   private char value;
   private Suit suit;
   boolean errorFlag;

   // 4 overloaded constructors
   public Card(char value, Suit suit)
   {
      set(value, suit);
   }

   public Card(char value)
   {
      this(value, Suit.spades);
   }
   public Card()
   {
      this(&apos;A&apos;, Suit.spades);
   }
   // copy constructor
   public Card(Card card)
   {
      this(card.value, card.suit);
   }

   // mutators
   public boolean set(char value, Suit suit)
   {
      char upVal;            // for upcasing char

      // convert to uppercase to simplify
      upVal = Character.toUpperCase(value);

      if ( !isValid(upVal, suit))
      {
         errorFlag = true;
         return false;
      }

      // else implied
      errorFlag = false;
      this.value = upVal;
      this.suit = suit;
      return true;
   }

   // accessors
   public char getVal()
   {
      return value;
   }

   public Suit getSuit()
   {
      return suit;
   }

   public boolean getErrorFlag()
   {
      return errorFlag;
   }

   public boolean equals(Card card)
   {
      if (this.value != card.value)
         return false;
      if (this.suit != card.suit)
         return false;
      if (this.errorFlag != card.errorFlag)
         return false;
      return true;
   }

   // stringizer
   public String toString()
   {
      String retVal;

      if (errorFlag)
         return &quot;** illegal **&quot;;

      // else implied

      retVal =  String.valueOf(value);
      retVal += &quot; of &quot;;
      retVal += String.valueOf(suit);

      return retVal;
   }

   // helper
   private boolean isValid(char value, Suit suit)
   {
      char upVal;

      // convert to uppercase to simplify (need #include &lt;cctype&gt;)
      upVal = Character.toUpperCase(value);

      // check for validity
      if (
            upVal == &apos;A&apos; || upVal == &apos;K&apos;
            || upVal == &apos;Q&apos; || upVal == &apos;J&apos;
            || upVal == &apos;T&apos; 
            || (upVal &gt;= &apos;2&apos; &amp;&amp; upVal &lt;= &apos;9&apos;)
            )
         return true;
      else
         return false;
   }
   
   // sort member methods
   public int compareTo(Card otherCard)
   {
      if (this.value == otherCard.value)
         return ( getSuitRank(this.suit) - getSuitRank(otherCard.suit) );

      return ( 
            getValueRank(this.value) 
               - getValueRank(otherCard.value) 
            );
   }

   // helpers for compareTo()
   public static int getSuitRank(Suit st)
   {
      int k;

      for (k = 0; k &lt; 4; k++) 
         if (suitRanks[k] == st)
            return k;

      // should not happen
      return 0;
   }

   public  static int getValueRank(char val)
   {
      int k;

      for (k = 0; k &lt; numValsInOrderingArray; k++) 
         if (valueRanks[k] == val)
            return k;

      // should not happen
      return 0;
   }
}
</pre>

	<h4>Deck.java</h4>

<pre>//class Deck  ----------------------------------------------------------------
public class Deck
{
   // six full decks (no jokers) is enough for about any game
   private static final int MAX_CARDS_PER_DECK = 6 * 52; 
   private static Card[] masterPack;  // one 52-Card master for initializing decks

   private Card[] cards;
   private int topCard;
   private int numPacks;

   private static boolean firstTime = true;  // avoid calling allcMstrPck &gt; once

   public Deck(int numPacks)
   {
      allocateMasterPack();  // do not call from init()
      cards = new Card[MAX_CARDS_PER_DECK];
      init(numPacks);
   }

   static private void allocateMasterPack()
   {
      int j, k;
      Card.Suit st;
      char val;

      // we&apos;re in static method; only needed once per program: good for whole class
      if ( !firstTime )
         return;
      firstTime = false;

      // allocate
      masterPack = new Card[52];
      for (k = 0; k &lt; 52; k++)
         masterPack[k] = new Card();

      // next set data
      for (k = 0; k &lt; 4; k++)
      {
         // set the suit for this loop pass
         st = Card.Suit.values()[k];

         // now set all the values for this suit
         masterPack[13*k].set(&apos;A&apos;, st);
         for (val = &apos;2&apos;, j = 1; val &lt;= &apos;9&apos;; val++, j++)
            masterPack[13 * k + j].set(val, st);
         masterPack[13 * k + 9].set(&apos;T&apos;, st);
         masterPack[13 * k + 10].set(&apos;J&apos;, st);
         masterPack[13 * k + 11].set(&apos;Q&apos;, st);
         masterPack[13 * k + 12].set(&apos;K&apos;, st);
      }
   }

   public Deck()
   {
      this(1);
   }

   // set deck from 1 to 6 packs, perfecly ordered
   public void init(int numPacks)
   {
      int k, pack;

      if (numPacks &lt; 1 || numPacks &gt; 6)
         numPacks = 1;

      // hand over the masterPack cards to our deck
      for (pack = 0; pack &lt; numPacks; pack++)
         for (k = 0; k &lt; 52; k++)
            cards[pack * 52 + k] = masterPack[k];

      // if something modified a card, we would be in trouble.  fortunately,
      // we don&apos;t expect a card to ever be modified after instantiated
      // in the context of a deck. e.g. state would be for deck set-up only

      this.numPacks = numPacks;
      topCard = numPacks * 52;
   }

   public void init()
   {
      init(1);
   }

   public int getNumCards() 
   {
      return topCard; 
   }

   public void shuffle()
   {
      Card tempCard;
      int k, randInt;

      // topCard is size of deck 
      for (k = 0; k &lt; topCard; k++)
      {
         randInt = (int)(Math.random() * topCard); 

         // swap cards k and randInt (sometimes k == randInt:  okay)
         tempCard = cards[k];
         cards[k] = cards[randInt];
         cards[randInt] = tempCard;
      }
   }

   public Card dealCard()
   {
      // always deal the topCard.  
      Card errorReturn = new Card(&apos;E&apos;, Card.Suit.spades); //  in rare cases

      if (topCard == 0)
         return errorReturn;
      else
         return cards[--topCard];
   }

   public Card inspectCard(int k)
   {
      // return copy of card at position k.
      // if client tries to access out-of-bounds card, return error

      Card errorReturn = new Card(&apos;E&apos;, Card.Suit.spades); //  in rare cases

      if (k &lt; 0 || k &gt;= topCard)
         return errorReturn;
      else
         return cards[k];
   }
}
</pre>

	<h4>Foothill.java</h4>
	<p>This is just to make sure your project is working before we start monkeying   with it:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      Deck deck1 = new Deck(2);
      
      // deal first deck (two packs), unshuffled.
      while (deck1.getNumCards() &gt; 0)
         System.out.print( deck1.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);
      
      while (deck1.getNumCards() &gt; 0)
         System.out.print( deck1.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);

      // deal one pack in the second deck, first unshuffled ...
      Deck deck2 = new Deck();

      while (deck2.getNumCards() &gt; 0)
         System.out.print( deck2.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);

      // now shuffled (don&apos;t forget to reload the deck)
      deck2.init();
      deck2.shuffle();
      while (deck2.getNumCards() &gt; 0)
         System.out.print( deck2.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);
   }
}
</pre>

	<p>Get that working first.  Also review it to make sure you remember how it   all works.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_4.html -->



<a name="64_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - Improving Deck with ArrayList</h1>
	<h2>8B.4.1 Moving Cards from Arrays to ArrayLists</h2>
	<p>Now that we know about <strong>ArrayList</strong>s, let&apos;s take a critical look at our <strong>Deck</strong> class more closely. Its primary member is the <em><strong>array</strong></em> of <strong>Cards</strong>:</p>

<pre>public class Deck
{
   private static final int MAX_CARDS_PER_DECK = 6 * 54; 

   private Card[] cards;
   private int topCard;
</pre>
 
	<p>You can already see an annoyance. We have to decide how large an array to allocate. If you think that the fix for this is to constantly resize the array, that would actually be a more complicated solution. Also, there is this &quot;extra&quot; member, <strong>topCard</strong>, which we seem to need but wish we didn&apos;t. Let&apos;s look at some of the implementation that resulted from the choice of <em><strong>array</strong></em>. </p>
	<p>When we load up the deck in<strong> init()</strong> one of the double nested loops is:</p>
 
 <pre>      // hand over the masterPack cards to our deck
      for (pack = 0; pack &lt; numPacks; pack++)
         for (k = 0; k &lt; 52; k++)
            cards[pack*52 + k] = masterPack[k];
</pre>

	<p>The index expression in the last line is ugly. We&apos;re trying to turn two nested index values into a single index that tells us where the highest unused location is. This is programming 101, and you can do this in your sleep, but that doesn&apos;t make the sleep any more pleasant.  An <strong>ArrayList</strong> doesn&apos;t require such computation; we just add to the front of the list (a little different than adding to the end of an array, but it has the same effect) by calling <strong>add(0)</strong> and we&apos;re done. Where else do  <strong>cards[]</strong> and <strong>topCard</strong> come up?</p>
	<p>Here is a fragment from <strong>dealCard()</strong>:</p>

<pre>   if (topCard == 0)
      return errorReturn;
   else
      return cards[--topCard];
</pre>

	<p>It&apos;s not horrible, but we have to remember to decrement <strong>topCard</strong> before we return. Not only that, but we can&apos;t use<strong> topCard--</strong> (as it would give the wrong answer, obviously). Even though we know how and why, it would be nice to use an <strong>ArrayList</strong> instead of an <em><strong>array</strong></em>, since <strong>add(0)</strong> presents no such difficulties.</p>
	<p>There are several places where the array nature of <strong>cards[]</strong> creates micro-challenges which increase the chance for error. So let&apos;s switch to <strong>ArrayList</strong>s.</p>
	<h3>Note About the Selection of ArrayList</h3>
	<p>What makes <strong>ArrayLists</strong> easier than <em><strong>arrays</strong></em> is the fact that we can always add and remove to the <em>front</em> of the <strong>ArrayList</strong> using <strong>ArrayList</strong>&apos;s <strong>add(0, - )</strong> and <strong>remove(0)</strong>. <strong>0</strong> is the <strong>0</strong>th index, so we always use that value, and never need to know about <strong>topCard&apos;s</strong> value. You might think that this is then a misuse of <strong>ArrayList</strong>. Maybe we should be using a Dequeu (<strong>Stack</strong>). However, we will want to also access elements at random using <strong>get(k)</strong>, which helps justify <strong>ArrayList</strong> in this context.</p>
	<p>Another potential criticism is that add/remove from position 0 is not as efficient in an <strong>ArrayList</strong> as it is in a <strong>LinkedList</strong>. This can be answered by always adding to position <strong>size()</strong>, which is potentially more efficient (than at position <strong>0</strong>) in an <strong>ArrayList</strong>. If you were troubled by this, then, you would change the <strong>0</strong> to <strong>size()</strong> in various places.</p>
	<h2>8B.4.2 An ArrayList of Cards</h2>
	<p>Inside <strong>Deck</strong>, we use  an <strong>ArrayList</strong> of cards, not an <em><strong>array</strong></em>, and when we want to deal out a   card we simply call the<strong>ArrayList</strong>&apos;s <strong>remove(0)</strong> to remove   it from the deck.  The card will be gone and there is no need to do any bookkeeping on <strong>topCard</strong>. In fact, we no longer  need  <strong>topCard</strong>. That&apos;s already a plus.</p>
	<p>Here is the start of the new prototype for our improved <strong>Deck</strong>, which I&apos;ll call <strong>DeckVec</strong> (for deck <em><strong>vector</strong></em>, a language-independent term  for <strong>java.util</strong>&apos;s <strong>ArrayList</strong>):</p>

<pre>//class DeckVec  ----------------------------------------------------------------
public class DeckVec
{
   private ArrayList&lt;Card&gt; cards;

   private int numPacks;
</pre>

	<p>Already, it&apos;s cleaner.  No array dimensioning will be needed in the constructor, no <strong>MAX_CARDS_PER_DECK</strong> and no <strong>topCard</strong>. <strong>cards</strong> is now an (empty) <strong>ArrayList</strong>, and it will grow and shrink though calls to <strong>add(0, - )</strong> and <strong>remove(0)</strong>.</p>
	<p>Let&apos;s see how this simplifies some of the  implementation. The<strong> init()</strong> method&apos;s double nested loop now looks like this:</p>

<pre>   // hand over the masterPack cards to our deck
   for (pack = 0; pack &lt; numPacks; pack++)
      for (k = 0; k &lt; 52; k++)
         cards.add(0, masterPack[k]);
</pre>

	<p>Nicely done, right? What about <strong>dealCard()</strong>?</p>

<pre>public Card dealCard()
{
   // always deal the top card (which we will take from position 0) 
   Card errorReturn = new Card(&apos;E&apos;, Card.Suit.spades); //  in rare cases

   if (cards.size() == 0)
      return errorReturn;
   else
      return cards.remove(0);
}
</pre>
<p>Here is a summary of what we did, and what we still would need to do to completely transform <strong>Deck</strong> to use a <strong>ArrayList</strong> instead of an <em><strong>array</strong></em><strong></strong>:	</p>
	<ul>
	    <li>Change <strong>cards[]</strong> from <em><strong>array</strong></em> to <strong>ArrayList&lt;Card&gt;</strong></li>
	    <li>Remove <strong>topCard</strong> and <strong>MAX_CARDS_IN_DECK</strong></li>
	    <li><strong>topCard</strong> value, when needed, is now <strong>cards.size()</strong>. But, you can still use a <em>local</em><strong> topCard = cards.size()</strong> if you use <strong>topCard</strong> in a loop and don&apos;t want the overhead of the <strong>size()</strong> call inside the loop (or loop control).</li>
	    <li>When adding to the deck, instead of adding into <strong>cards[topCard++]</strong> use <strong>cards.add(0, -)</strong>.</li>
      <li>When dealing, instead of returning <strong>cards[--topCard]</strong>, we grab <strong>cards.remove(0)</strong>.</li>
      <li>Instead of using <strong>cards[k]</strong> we need <strong>cards.get(k)</strong> or <strong>cards.set(k, -)</strong> .   </li>
    </ul>
    <h2>8B.4.3 A Complete Listing</h2>
    <p>Here is a full listing of the transformed <strong>Deck</strong> class, along with <strong>Card</strong> and a test <strong>main()</strong></p>
    
<pre>// ======  Foothill.java ===================================================

public class Foothill
{
   public static void main(String[] args)
   {
      DeckVec deck1 = new DeckVec(2);
      
      // deal first deck (two packs), unshuffled.
      while (deck1.getNumCards() &gt; 0)
         System.out.print( deck1.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);
      
      while (deck1.getNumCards() &gt; 0)
         System.out.print( deck1.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);

      // deal one pack in the second deck, first unshuffled ...
      DeckVec deck2 = new DeckVec();

      while (deck2.getNumCards() &gt; 0)
         System.out.print( deck2.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);

      // now shuffled (don&apos;t forget to reload the deck)
      deck2.init();
      deck2.shuffle();
      while (deck2.getNumCards() &gt; 0)
         System.out.print( deck2.dealCard() +  &quot; /  &quot;);
      System.out.println(&apos;\n&apos;);
   }
}

// ======  Card.java  ==================================

//Card class --------------------------------------------------------------------
public class Card implements Comparable&lt;Card&gt;
{   
   // type and constants
   public enum Suit { clubs, diamonds, hearts, spades }
   
   // for ordering
   public static char[] valueRanks = { &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;, 
      &apos;T&apos;, &apos;J&apos;, &apos;Q&apos;, &apos;K&apos;, &apos;A&apos;};
   static Suit[] suitRanks = {Suit.clubs, Suit.diamonds, Suit.hearts, 
      Suit.spades};
   static int numValsInOrderingArray = 13;

   // private data
   private char value;
   private Suit suit;
   boolean errorFlag;

   // 4 overloaded constructors
   public Card(char value, Suit suit)
   {
      set(value, suit);
   }

   public Card(char value)
   {
      this(value, Suit.spades);
   }
   public Card()
   {
      this(&apos;A&apos;, Suit.spades);
   }
   // copy constructor
   public Card(Card card)
   {
      this(card.value, card.suit);
   }

   // mutators
   public boolean set(char value, Suit suit)
   {
      char upVal;            // for upcasing char

      // convert to uppercase to simplify
      upVal = Character.toUpperCase(value);

      if ( !isValid(upVal, suit))
      {
         errorFlag = true;
         return false;
      }

      // else implied
      errorFlag = false;
      this.value = upVal;
      this.suit = suit;
      return true;
   }

   // accessors
   public char getVal()
   {
      return value;
   }

   public Suit getSuit()
   {
      return suit;
   }

   public boolean getErrorFlag()
   {
      return errorFlag;
   }

   public boolean equals(Card card)
   {
      if (this.value != card.value)
         return false;
      if (this.suit != card.suit)
         return false;
      if (this.errorFlag != card.errorFlag)
         return false;
      return true;
   }

   // stringizer
   public String toString()
   {
      String retVal;

      if (errorFlag)
         return &quot;** illegal **&quot;;

      // else implied

      retVal =  String.valueOf(value);
      retVal += &quot; of &quot;;
      retVal += String.valueOf(suit);

      return retVal;
   }

   // helper
   private boolean isValid(char value, Suit suit)
   {
      char upVal;

      // convert to uppercase to simplify (need #include &lt;cctype&gt;)
      upVal = Character.toUpperCase(value);

      // check for validity
      if (
            upVal == &apos;A&apos; || upVal == &apos;K&apos;
            || upVal == &apos;Q&apos; || upVal == &apos;J&apos;
            || upVal == &apos;T&apos; 
            || (upVal &gt;= &apos;2&apos; &amp;&amp; upVal &lt;= &apos;9&apos;)
            )
         return true;
      else
         return false;
   }
   
   // sort member methods
   public int compareTo(Card otherCard)
   {
      if (this.value == otherCard.value)
         return ( getSuitRank(this.suit) - getSuitRank(otherCard.suit) );

      return ( 
            getValueRank(this.value) 
               - getValueRank(otherCard.value) 
            );
   }

   // helpers for compareTo()
   public static int getSuitRank(Suit st)
   {
      int k;

      for (k = 0; k &lt; 4; k++) 
         if (suitRanks[k] == st)
            return k;

      // should not happen
      return 0;
   }

   public  static int getValueRank(char val)
   {
      int k;

      for (k = 0; k &lt; numValsInOrderingArray; k++) 
         if (valueRanks[k] == val)
            return k;

      // should not happen
      return 0;
   }
}

// ======  DeckVec.java  ==================================
import java.util.*;

//class DeckVec  ----------------------------------------------------------------
public class DeckVec
{
   // six full decks (no jokers) is enough for about any game
   private static Card[] masterPack;  // one 52-Card master for initializing decks

   private ArrayList&lt;Card&gt; cards;
   private int numPacks;

   private static boolean firstTime = true;  // avoid calling allcMstrPck &gt; once

   public DeckVec(int numPacks)
   {
      allocateMasterPack();  // do not call from init()
      cards = new ArrayList&lt;Card&gt;();
      init(numPacks);
   }

   static private void allocateMasterPack()
   {
      int j, k;
      Card.Suit st;
      char val;

      // we&apos;re in static method; only needed once per program: good for whole class
      if ( !firstTime )
         return;
      firstTime = false;

      // allocate
      masterPack = new Card[52];
      for (k = 0; k &lt; 52; k++)
         masterPack[k] = new Card();

      // next set data
      for (k = 0; k &lt; 4; k++)
      {
         // set the suit for this loop pass
         st = Card.Suit.values()[k];

         // now set all the values for this suit
         masterPack[13 * k].set(&apos;A&apos;, st);
         for (val= &apos;2&apos;, j = 1; val &lt;= &apos;9&apos;; val++, j++)
            masterPack[13 * k + j].set(val, st);
         masterPack[13 * k + 9].set(&apos;T&apos;, st);
         masterPack[13 * k + 10].set(&apos;J&apos;, st);
         masterPack[13 * k + 11].set(&apos;Q&apos;, st);
         masterPack[13 * k + 12].set(&apos;K&apos;, st);
      }
   }

   public DeckVec()
   {
      this(1);
   }

   // set deck from 1 to 6 packs, perfecly ordered
   public void init(int numPacks)
   {
      int k, pack;

      if (numPacks &lt; 1 || numPacks &gt; 6)
         numPacks = 1;

      cards.clear();
      // hand over the masterPack cards to our deck
      for (pack = 0; pack &lt; numPacks; pack++)
         for (k = 0; k &lt; 52; k++)
            cards.add(0, masterPack[k]);

      // if something modified a card, we would be in trouble.  fortunately,
      // we don&apos;t expect a card to ever be modified after instantiated
      // in the context of a deck. e.g. state would be for deck set-up only

      this.numPacks = numPacks;
   }

   public void init()
   {
      init(1);
   }

   public int getNumCards() 
   {
      return cards.size(); 
   }

   public void shuffle()
   {
      Card tempCard;
      int k, randInt, topCard;

      // topCard avoids calling size() every loop pass
      topCard = cards.size();
      for (k = 0; k &lt; topCard; k++)
      {
         randInt = (int)(Math.random() * topCard); 

         // swap cards k and randInt (sometimes k == randInt:  okay)
         tempCard = cards.get(k);
         cards.set( k, cards.get(randInt) );
         cards.set( randInt, tempCard );
      }
   }

   public Card dealCard()
   {
      // always deal the top card (which we will take from position 0) 
      Card errorReturn = new Card(&apos;E&apos;, Card.Suit.spades); //  in rare cases

      if (cards.size() == 0)
         return errorReturn;
      else
         return cards.remove(0);
   }

   public Card inspectCard(int k)
   {
      // return copy of card at position k.
      // if client tries to access out-of-bounds card, return error

      Card errorReturn = new Card(&apos;E&apos;, Card.Suit.spades); //  in rare cases

      if ( k &lt; 0 || k &gt;= cards.size() )
         return errorReturn;
      else
         return cards.get(k);
   }
}
</pre>



</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_5.html -->



<a name="65_"></a>


<div class="container">
<div class="content">
	<h1>Section 5 - Queues, Stacks and Java Deques</h1>
	<h2>8B.5.1 A Review of our Custom Stack</h2>
	<p>Previously, we used inheritance to create re-usable <em><strong>stacks</strong></em> and <em><strong>lists</strong></em> by using   ordinary class inheritance and deriving classes from a generic <strong>Node</strong> class and <strong>List</strong> class. In one case, we created a <strong>FloatStack</strong> class in this manner.    There is nothing wrong with this approach - it produces a very robust and   predictable design that is extensible to many data types.    However, we want to see how we could use the <em><strong>Java Collections Framework</strong></em> to circumvent much of   our development and get right into the client application.  </p>
	<p>First, let&apos;s review our earlier client (which assumes that we have laid   the groundwork by defining the <strong>Node</strong>, <strong>Stack</strong>, <strong>FloatNode</strong> and <strong>FloatStack</strong> classes).  I have renamed <strong>FloatStack&apos;s pushFloat()</strong> to just <strong>push()</strong>.    This effectively <em><strong>overrides</strong></em> the base class <strong>push()</strong>.  We   cannot similarly replace <strong>popFloat()</strong> with <strong>pop()</strong> because the return   types cannot differ in overridden methods.</p>

<pre>import java.util.*;
import java.text.*;

public class Foothill
{
   public static void main (String[] args)
   {
      FloatStack fstk = new FloatStack();
      float f;

      fstk.push(1.1F);
      fstk.push(2.2F);
      fstk.push(3.3F);
      fstk.push(4.4F);
      
      for (int k = 0; k &lt; 5; k++)
         if ( (f = fstk.popFloat()) != FloatStack.STACK_EMPTY)
            System.out.print( f + &quot; &quot;);
         else
            System.out.print(&quot;(empty stack) &quot;);
      System.out.println();
   }
 }

/* ----------------- Program Run -------------------

4.4 3.3 2.2 1.1 (empty stack) 

-------------------------------------------------- */

</pre>

	<p> We will see how we can get the same result without any of the   pre-development by exploiting the existing <strong>Java Collections Framework</strong>.</p>
	<h2> 8B.5.2  Java Stacks</h2>

<img align="right" alt="scenic boats and bridge" border="2" height="200" hspace="10" src="./CS 1B Module 8B Section 5_files/cs_B_common_43.JPG" vspace="5" width="300"/>

	<p> As we saw, a <strong><em>stack</em></strong> is a <em><strong>LIFO</strong></em> data structure.    In Java the <strong><em> collection</em></strong> that behaves like a <strong>stack</strong> is, shockingly, called <strong>Stack</strong>.    Although it has been <em>deprecated</em>, and replaced by the more general <strong> ArrayDeque</strong>, you can   still use it, and we do so here to demonstrate how easy collection classes are   used.  In a moment, we&apos;ll use the updated <strong>ArrayDeque </strong>to solve this   same problem using the newer idiom, but   first, we show how one can easily instantiate a <strong>float</strong> stack:</p>

<pre>   Stack&lt;Float&gt; fstk = new Stack&lt;Float&gt;();
</pre>

	<p>Once defined, you can use <strong>fstk</strong> much like did in our older schema,   through member methods <strong> push()</strong> and <strong>pop()</strong>.  The method <strong>size()</strong> works as it did with the <strong>ArrayList</strong> collection, although we don&apos;t have,   nor do we need, <strong>ArrayList&apos;</strong>s <strong>add()</strong> or <strong>remove()</strong>.  A very   useful method you will find in most Framework classes is <strong>boolean isEmpty()</strong> which tells you if the collection is empty.</p>
	<p>Here is a simple example of the use of <strong>Stack</strong>.  As with all <em><strong> Java collections</strong></em>, you have to <em><strong>import</strong></em> <strong>java.util.*</strong> if   you wish to use the classes or interfaces without their full package names.   You&apos;ll also see that because of the nature of what a <strong>Stack</strong> is, we don&apos;t need the   stack <em><strong>iterator</strong></em> in order to write useful code for a <strong>Stack</strong>:  <strong>push()</strong>,  and<strong> pop() </strong>provide enough functionality to do what we need.</p>

<pre>// Demo of Java Collections&apos; Stack (compare with our custom FloatStack)
import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      Stack&lt;Float&gt; fstk = new Stack&lt;Float&gt;();

      fstk.push(1.1F);
      fstk.push(2.2F);
      fstk.push(3.3F);
      fstk.push(4.4F);
      
      for (int k = 0; k &lt; 5; k++)
         if ( !fstk.isEmpty() )
            System.out.print( fstk.pop() + &quot; &quot;);
         else
            System.out.print(&quot;(empty stack) &quot;);
      System.out.println();
   }
 }

/* ----------------- Program Run -------------------

4.4 3.3 2.2 1.1 (empty stack)

-------------------------------------------------- */
</pre>

	<p> As you can see, you can save a lot of time by using <em><strong>Java   Collections&apos;</strong></em> <strong>Stack</strong> if it has enough functionality to meet your needs.     Creating a <strong>Stack</strong> of &quot;anythings&quot; can be as easy as this, without all the   custom design we did earlier.</p>
	<h2> 8B.5.3 Java Deques</h2>
	<p> There is a newer <em><strong>Framework</strong></em> class called <strong>ArrayDeque</strong> that also has<strong> push()</strong>, <strong>pop()</strong> and <strong>isEmpty()</strong> which we will soon see can be used instead of the older <strong>Stack</strong>.  However <strong>ArrayDeque</strong> has other methods that enable it to be used as a <em><strong> FIFO</strong></em> data structure as well.  <strong>add()</strong> places elements onto the <font color="#0000FF"> <em> back</em></font> of the underlying <strong>collection</strong> while  <strong>remove()</strong> removes   them from the <font color="#0000FF"> <em>front</em></font>.  An <strong>ArrayDeque</strong> can be instantiated on any class or   non-primitive type and   behaves otherwise just like a a <em><strong>stack</strong></em> or a <em><strong>queue</strong></em>, depending on which methods we   use to access it. </p>
	<p> Here we create a <em><strong>queue</strong></em> using <strong>ArrayDeque</strong> by calling <strong>add()</strong> and <strong>remove()</strong> in   the obvious places.</p>

<pre>// Demo of Java Collections&apos; ArrayDeque to make a queue of objects --&gt; Floats
import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      ArrayDeque&lt;Float&gt; fq = new ArrayDeque&lt;Float&gt;();

      fq.add(1.1F);
      fq.add(2.2F);
      fq.add(3.3F);
      fq.add(4.4F);
      
      for (int k = 0; k &lt; 5; k++)
         if ( !fq.isEmpty() )
            System.out.print( fq.remove() + &quot; &quot;);
         else
            System.out.print(&quot;(empty queue) &quot;);
      System.out.println();
   }
 }

/* ----------------- Program Run -------------------

1.1 2.2 3.3 4.4 (empty queue) 

-------------------------------------------------- */
</pre>

	<p> As promised, we can use a <strong>ArrayDeque</strong> to implement the above <strong>stack</strong> by applying the   methods <strong>push()</strong> and <strong>pop()</strong> in place of <strong>add()</strong> and <strong>remove()</strong>.</p>

<pre>// Demo of Frameworks&apos; ArrayDeque that acts like a stack (compare with deprecated Stack)
import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      ArrayDeque&lt;Float&gt; fstk = new ArrayDeque&lt;Float&gt;();

      fstk.push(1.1F);
      fstk.push(2.2F);
      fstk.push(3.3F);
      fstk.push(4.4F);
      
      for (int k = 0; k &lt; 5; k++)
         if ( !fstk.isEmpty() )
            System.out.print( fstk.pop() + &quot; &quot;);
         else
            System.out.print(&quot;(empty stack) &quot;);
      System.out.println();
   }
 }

/* ----------------- Program Run -------------------

4.4 3.3 2.2 1.1 (empty stack)

-------------------------------------------------- */
</pre>

	<p> Since both <em><strong>stacks</strong></em> and <em><strong>queues</strong></em> can be   implemented with the class <strong>ArrayDeque</strong>, Java provides a small set of   methods that makes sense for either <em><strong>stacks</strong></em> <em>or</em> <em><strong>queues</strong></em> while having a   consistent vocabulary.  <strong>ArrayDeques</strong> give the balanced terminology <strong> addFirst(), addLast()</strong> and <strong>removeFirst(), removeLast()</strong> which can be   used to add or remove elements to or from either end of the <strong>ArrayDeque</strong>.    To make this clear, you can substitute the calls <strong>fstk.push()</strong> and <strong> fstk.pop()</strong> with calls <strong>fstk.addFirst() </strong>and<strong> removeFirst()</strong> in the   code above and it will not change the behavior.  To confirm your   understanding of this, change both the <em><strong>stack</strong></em> and the <em><strong>queue</strong></em> samples above so that they use the four new methods in place of the older ones.</p>
	<h2> 8B.5.4 Deque Error Reporting with Offer/Poll vs. Add/Remove</h2>
	<p> <strong>ArrayDeque</strong> is one of a few class implementations of the <em><strong> Framework</strong></em> interface <strong>Deque</strong>.  All such implementations inherit   a flexible error reporting mechanism from that interface.</p>
	<p> Some programmers prefer to indicate errors by <em><strong>throwing exceptions</strong></em>.    Others like to return a <strong>boolean</strong> (and possibly set an error flag at the   same time).  The <em><strong>Frameworks</strong></em> interface <strong>Deque</strong> acknowledges this by providing two sets of accessors and mutators that obey   these two styles.  The method with names like <strong>add</strong><em>XYZ</em><strong>()</strong> and <strong>remove</strong><em>XYZ</em><strong>() </strong> return<strong> void</strong>,<strong> </strong>throwing a variety of exceptions if the <strong> ArrayDeque</strong>  (or any implementation of <strong>Deque</strong>) cannot complete   the operation, while two corresponding method categories <strong>offer<em>XYZ</em>() </strong>and <strong>peek<em>XYZ</em>() </strong> use the <strong> boolean</strong> return mechanism.</p>
	<p> <strong>ArrayDeque</strong> and all classes that implement the interface <strong>Deque</strong> provide this flexibility.  Here is a table that compares the basic available   methods in this interface.  The links take you directly to the Java pages   where all the details can be found.</p>
	<div class="wideTable">
		<table>
			<tbody><tr>
				<th> </th>
				<th colspan="2">First Element (Head)</th>
				<th colspan="2">Last Element (Tail)</th>

			</tr>
			<tr>
				<td> </td>
				<td align="center"><em>Throws exception</em></td>
				<td align="center"><em>Special value</em></td>
				<td align="center"><em>Throws exception</em></td>
				<td align="center"><em>Special value</em></td>
				</tr>
			<tr>
				<td><strong>Insert</strong></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#addFirst%28E%29" target="_blank"> <code>addFirst(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#offerFirst%28E%29" target="_blank"> <code>offerFirst(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#addLast%28E%29" target="_blank"> <code>addLast(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#offerLast%28E%29" target="_blank"> <code>offerLast(e)</code></a></td>
				</tr>
			<tr>
				<td><strong>Remove</strong></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#removeFirst%28%29" target="_blank"> <code>removeFirst()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#pollFirst%28%29" target="_blank"> <code>pollFirst()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#removeLast%28%29" target="_blank"> <code>removeLast()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#pollLast%28%29" target="_blank"> <code>pollLast()</code></a></td>
				</tr>
			<tr>
				<td><strong>Examine</strong></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#getFirst%28%29" target="_blank"> <code>getFirst()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#peekFirst%28%29" target="_blank"> <code>peekFirst()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#getLast%28%29" target="_blank"> <code>getLast()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#peekLast%28%29" target="_blank"> <code>peekLast()</code></a></td>
				</tr>
		</tbody></table>
	</div>
	<p>As a demonstration of these two styles, compare the two equivalent code   fragments based on the above <strong>ArrayDeque</strong> implementation of a stack</p>
	<h4>Exception   Error Reporting</h4>

<pre>   for (int k = 0; k &lt; 5; k++)
   {
      try 
      {
         System.out.print( fstk.removeFirst() + &quot; &quot;);
      }
      catch( Exception e)
      {
         System.out.print(&quot;(empty stack) &quot;);
      }
   }
</pre>

	<h4>Boolean Error Reporting</h4>

<pre>   Float flt;
   for (int k = 0; k &lt; 5; k++)
     if ( (flt =  fstk.pollFirst()) != (Float)null )
        System.out.print( flt + &quot; &quot;);
     else
        System.out.print(&quot;(empty stack) &quot;);
</pre>

	<p>Because <em><strong>Collection</strong></em> classes must be built upon <em><strong>wrapper</strong></em> types such as <strong>Float</strong> and <strong>Integer</strong> as opposed to <em><strong>primitives</strong></em> like <strong>float</strong> and <strong>int</strong>, you sometimes have to <u>explicitly declare</u> a <em><strong>wrapper</strong></em> object like we did above, with <strong>Float flt</strong>.    Often, however, you can use the primitives and allow <strong><em>auto-boxing</em></strong> (a.k.a. <strong><em>automatic promotion</em></strong>) of primitives. Rather than trying to   remember when <em>auto-boxing</em> works, I use the primitive first and if I get   an error, I replace the primitive with its corresponding a wrapper object.</p>
	<h2>8B.5.5 Java Version Correspondences and Equivalent Methods</h2>
	<p>The <strong>Deque</strong> interface (and <strong>ArrayDeque</strong> implementation by association) extends the <strong>Queue</strong> interface.  The   methods inherited from <strong>Queue</strong> are equivalent to <strong>Deque</strong> methods as follows:</p>
	<div class="narrowTable">
		<table>
			<tbody><tr>
				<th>Queue Method</th>
				<th>Equivalent Deque Method</th>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#add%28E%29" target="_blank"> <code>add(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#addLast%28E%29" target="_blank"> <code>addLast(e)</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#offer%28E%29" target="_blank"> <code>offer(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#offerLast%28E%29" target="_blank"> <code>offerLast(e)</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#remove%28%29" target="_blank"> <code>remove()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#removeFirst%28%29" target="_blank"> <code>removeFirst()</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#poll%28%29" target="_blank"> <code>poll()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#pollFirst%28%29" target="_blank"> <code>pollFirst()</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#element%28%29" target="_blank"> <code>element()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#getFirst%28%29" target="_blank"> <code>getFirst()</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Queue.html#peek%28%29" target="_blank"> <code>peek()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#peek%28%29" target="_blank"> <code>peekFirst()</code></a></td>
				</tr>
		</tbody></table>
	</div>
	<p>When <strong>Deque</strong> implementations such as <strong>ArrayDeque</strong> are used to simulate <em><strong>stack</strong></em> behavior, we can correspond the newer methods with the   equivalent <strong>Stack</strong> methods   as follows:</p>
	<div class="narrowTable">
		<table>
			<tbody><tr>
				<th>Stack Method</th>
				<th>Equivalent Deque Method</th>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#push%28E%29" target="_blank"> <code>push(e)</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#addFirst%28E%29" target="_blank"> <code>addFirst(e)</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#pop%28%29" target="_blank"> <code>pop()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#removeFirst%28%29" target="_blank"> <code>removeFirst()</code></a></td>
				</tr>
			<tr>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#peek%28%29" target="_blank"> <code>peek()</code></a></td>
				<td><a href="http://docs.oracle.com/javase/7/docs/api/java/util/Deque.html#peekFirst%28%29" target="_blank"> <code>peekFirst()</code></a></td>
				</tr>
		</tbody></table>
	</div>
	<p>Before leaving this page, take a moment to reflect that the collections we   have created here using <strong>Float</strong> elements will apply to <em>any</em> class   regardless of its complexity. You should try this out with your own favorite   class.  Of course, the client (<strong>main()</strong>) that we used here to test all   this does <em><strong>print</strong></em> the <em>popped</em> or <em>removed</em> elements under   the assumption that the underlying class overrides a <strong>toString()</strong> method.    This is true of most classes and lists that Java provides, but you are   responsible for overriding<strong> toString()</strong> in your own classes.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_6.html -->



<a name="66_"></a>


<div class="container">
<div class="content">
	<h1>Section 6 - List Collections (and a Sort Key Trick)</h1>
	<h2> 8B.6.1  Linked List Collections</h2>
	<p> We now reproduce our <em><strong>linked list</strong></em> of <strong>floats</strong> using the <strong>list template</strong> to assist us.  Before you   break open a bottle of champagne, I should tell you that there is no magic   method that works like our previous <strong>insert()</strong>, which places a new element   in its proper position in the list.  We have to do a little work to get   that functionality, even with <em><strong>Collections Framework&apos;s Linked Lists</strong></em> so be forewarned.  <strong>Lists</strong> only give us something similar to our <strong>insertAfter()</strong> and <strong>deleteAfter()</strong> (through the <strong>ListIterator</strong> methods <strong>add()</strong> and <strong>remove()</strong>). The logic of ordering   the list must be supplied by us.  You might be thinking that (when we get   there, shortly) you can use <strong>PriorityQueue&apos;s   add() and remove().</strong>  Sort-of.  <strong>PriorityQueue</strong> is not really   putting anything into the list in order -- it is merely <em>removing</em> things   in order, which is a different idea.   At any rate, our current   effort will help solidify <strong>ListIterators</strong> and moving through a <strong> LinkedList</strong>.</p>
	<p> In short, we will declare a <strong>LinkedList</strong> of <strong>Floats</strong> (wrapper of <strong>float</strong>) in a single   statement.   This will give us all the functionality of our custom <strong> FloatList</strong> class <font color="#FF0000"><em>except</em></font> for the powerful <strong>insert()</strong> and <strong>remove()</strong> methods.  We will write two   global-scope methods <strong>insert()</strong> and <strong>remove()</strong> to accomplish this (and   also a global <strong>showList()</strong> for output).  In the<strong> insert()</strong> and <strong> remove()</strong> (and <strong>showList()</strong>) we will naturally use <strong>ListIterators</strong> to help us run through the list. In practice, you would   encapsulate <strong>insert(), remove()</strong> and <strong>showList() </strong>in the proper class, but for now, let&apos;s put these methods into the client at pseudo-global scope (in the Foothill class as helpers). </p>

<pre>// Demo of java.util Linkedlist of floats (c.f custom FloatList)
import java.util.*;
import java.text.*;

public class Foothill
{
   static void showList(LinkedList&lt;Float&gt; myList)
   {
      NumberFormat tidy = NumberFormat.getInstance(Locale.US);
      tidy.setMaximumFractionDigits(2);
      ListIterator&lt;Float&gt; iter;
      
      System.out.println( &quot;\n\n_____Here&apos;s the List_______\n&quot; );
      for (iter = myList.listIterator(); iter.hasNext(); )
         System.out.print(&quot;[&quot; + tidy.format(iter.next()) + &quot;] &quot;);
      System.out.println( &quot;\n\n_____That&apos;s all!_______\n&quot; );
   }
   
   static void insert(LinkedList&lt;Float&gt; myList, float x)
   {
      ListIterator&lt;Float&gt; iter;
      float listX;

      for (iter = myList.listIterator(); iter.hasNext(); )
      {
        listX = iter.next();
        if (x &lt;= listX)
        {
           iter.previous(); // back up one
           break;
        }
      }
      iter.add(x);
   }
   
   static boolean remove(LinkedList&lt;Float&gt; myList, float x)
   {
      ListIterator&lt;Float&gt; iter;

      for (iter = myList.listIterator(); iter.hasNext(); )
         if (iter.next() == x)
         {
            iter.remove();
            return true;   // we found, we removed, we return
         }
      return false;
   }
   
   public static void main (String[] args)
   {
      LinkedList&lt;Float&gt; myList = new LinkedList&lt;Float&gt;();
      int k;
      float x;

      // build list of 10 floats, 2 at a time (1 random and 1 k*100)
      for (k = 0; k &lt; 5; k++)
      {
         x = 1000 * (float)Math.random(); // float bet 0 and 1000
         insert(myList, x);
         insert(myList, k*100);
         insert(myList, k*100);
      }

      // should be sorted
      showList(myList);

      // remove 5 nodes (and delete them!)
      for (k = 0; k &lt; 5; k++)
      {
         x = k*100;
         if (remove(myList, x))
            System.out.println(x + &quot; removed&quot;);
         else 
            System.out.println(x + &quot; not found&quot;);
     }
     showList(myList);

      if (!remove (myList, -10))  // should have no effect
         System.out.println(&quot;-10 not in list as expected. \n&quot;);;
      showList(myList);
   }
 }

/* -------------- Run of Above ------------------

_____Here&apos;s the List_______

[0] [0] [31.74] [100] [100] [174.84] [200] [200] [300] [300] [400] [400] [514.41
] [658.16] [694.21] 

_____That&apos;s all!_______

0.0 removed
100.0 removed
200.0 removed
300.0 removed
400.0 removed


_____Here&apos;s the List_______

[0] [31.74] [100] [174.84] [200] [300] [400] [514.41] [658.16] [694.21] 

_____That&apos;s all!_______

-10 not in list as expected. 



_____Here&apos;s the List_______

[0] [31.74] [100] [174.84] [200] [300] [400] [514.41] [658.16] [694.21] 

_____That&apos;s all!_______

--------------------- End Run ---------------------- */
</pre>

	<h4>Notes</h4>
	<p>If you look carefully, you&apos;ll see that I intentionally added duplicates to the list so we could see that <strong>ListIterator</strong>&apos;s<strong> remove()</strong> only deletes <em>one</em> element (the first it finds). This parallels our <strong>remove()</strong>&apos;s intention.</p>
	<p>In <strong>insert()</strong> we specify the <strong>ListIterator&lt;Float&gt;</strong> instead of   just <strong>ListIterator</strong> so that we can use the item   returned by the <strong>iter.next()</strong> as if it were a <strong>Float</strong> (and even better, through <em><strong>automatic un-boxing</strong></em>, we can use it as it if were a <strong>float</strong>). This can be seen in   these statements:</p>

<pre>     float listX = iter.next();
     if (x &lt;= listX)
</pre>

	<p>In the original incarnation of <strong>insert()</strong>, we &quot;stood   back&quot; one node so we could use <strong>insertAfter()</strong> and prevent our list pointer from   going too far ahead in the list (for details you can review those modules).    We have a better way to do that now - we can use the <strong>ListIterator&apos;s previous()</strong> method to back up one.  That&apos;s just what we do.  When we find the   position in the list, we have actually moved past it, so we simply back-up one:</p>

<pre>     listX = iter.next();
     if (x &lt;= listX)
     {
        iter.previous(); // back up one
        break;
     }
</pre>

	<ul>
		<li><strong><font color="#808000">The Good News:</font></strong>  This works just like our hard-fought custom <strong>FloatList</strong> class.  We sacrificed nothing. (Compare the run with before -   	it&apos;s identical.)</li>
		<li><font color="#808000"><strong>More Good News:</strong></font> The<strong> insert()</strong> and <strong>remove()</strong> methods were actually easier to write than before - we   	didn&apos;t need to stand back one node in anticipation of the awkard <strong>insertAfter()</strong> and <strong>deleteAfter()</strong> calls.</li>
		<li><strong><font color="#FF0000">The Bad News:</font></strong> We had to write   	methods and do some work.  Oh well.</li>
	</ul>

	<h2>8B.6.2 Multiple Sort Fields</h2>
	<p>The above analysis of a sorted list assumes we have a <strong>&lt;= </strong>and<strong> == operator</strong> defined for the underlying   object type.  With <strong>floats</strong> (and <strong>Floats</strong> via auto-unboxing) this is a no-brainer.   We can also use define and use a <strong>compareTo()</strong> if we prefer not to use operator overloading.</p>
	<p> <em>However, when we have data that has <strong>multiple members</strong>, any one of   which we may want to use as a basis for our<strong> compareTo()</strong>, we have to decide which   one to use.</em> </p>
	<p> If there is only one good choice,  the solution is easy.     But what if we want to order the list on different members in different clients?</p>
	<h4>It works like this:</h4>
	<ol>
		<li>Define some <strong>public static final ints</strong> (or <strong>enums</strong>)  that   	the client can use to describe what kind of sort it wants.  For   	example, in an <strong>iTunesEntry</strong> class, these constants might be called:  <strong>SORT_BY_TITLE</strong>,  <strong> SORT_BY_ARTIST</strong> and <strong>SORT_BY_TIME</strong>.  This establishes the   	language for our solution.</li>
		<li>Define a <strong>static private member sortKey</strong> which will be exactly one of   	the above constants at any time.  For example, if we are going to sort by   	artist, then the value of <strong>nSortKey</strong> will be set to the  value <strong>SORT_BY_ARTIST</strong>.</li>
		<li>Define a <em><strong>static mutator</strong></em> method called something like <strong>setSortType()</strong> which takes   	one of those constants as an argument and sets the <strong>sortKey</strong> member   	accordingly. A client would call
		
<pre> iTunesEntry.setSortType(iTunesEntry.SortType.SORT_BY_ARTIST);
</pre>

</li>
		<li>Add a <strong>compareTo()</strong> method within the class (or outside as a <strong>Comparable</strong>) to work based on the selected <strong>sortKey</strong>.  </li>
	</ol>
	<p>At any time you compare two objects using syntax like <span class="codeInLine">obj_1.compareTo(obj2)</span>,  it will give the answer based on the  active sort key.</p>
	<h2>8B.6.3 iTunesEntry</h2>
	<p>Here is a hypothetical class, <strong>iTunesEntry</strong>, that has the following members:</p>

<pre>public class iTunesEntry implements Comparable&lt;iTunesEntry&gt;
{
   private String title, artist;
   private int totalTime;
   
   // ... rest of class omitted
}
</pre>

	<p> There are two <strong>Strings</strong> and one <strong>int</strong>, and we might want our list   sorted by the artist&apos;s name (<strong>artist</strong>) one day, on the title (<strong>title</strong>)   on another day and the play time (<strong>totalTime</strong>) on yet a third day.    Following the above plan, we first define the static int symbols and the private   static as in <em><strong>steps 1 and 2</strong></em>:</p>

<pre>public class iTunesEntry implements Comparable&lt;iTunesEntry&gt;
{
   // ... various members, then
   
   public enum SortType { SORT_BY_TITLE, SORT_BY_ARTIST, SORT_BY_TIME };
   
   private static SortType sortKey = SortType.SORT_BY_ARTIST;
      
   // ... then the rest 
};
</pre>

	<p> The static <strong>sortKey</strong> is the member that remembers what our sort key is   at any given moment.  We could define our sort types using <strong>static private   int,</strong> but doing so with more than two or three constants is tedious.    Therefore, we often use the <strong>enum</strong> type, which accomplishes the exact same   thing - <strong>enums</strong> are <strong>ints</strong>.  The above syntax for the <strong>enum</strong> <strong>SortType</strong> causes <strong>SORT_BY_TITLE = 0,   SORT_BY_ARTIST = 1,</strong> etc. We covered all this in the first week if you need a refresher.</p>
	<p>We now know what to call the &quot;idea&quot; of wanting to sort by artist:  we   call it <strong>iTunesEntry.SortType.SORT_BY_ARTIST</strong>.  The client can use this same symbol   when it wants to talk to our class about the sort type it wishes to use.   Note that we gave <strong>sortKey</strong>  an initial   value (a step you don&apos;t want to omit).</p>
	<p>So far, so good.  Next, <em><strong>step 3</strong></em>:  define a <em><strong>static mutator</strong></em>.    This can be used by any client to change the value of <strong>sortKey</strong>.    Like any good <em><strong>mutator</strong></em>, it must filter bad data.</p>

<pre>   public static boolean setSortType( SortType whichType )
   {
      switch (whichType)
      {
      case SORT_BY_TITLE:
      case SORT_BY_ARTIST:
      case SORT_BY_TIME:
         sortKey = whichType;
         return true;
      default:
         return false;
      }
   }
</pre>

	<p> <em><strong>Step 4</strong></em> completes the picture: we have to make sure this member is actually used when   we do a comparison.  At a minimum, add a <strong>compareTo()</strong> method to the class (if you have access -- otherwise, you&apos;ll need either add this in a subclass or  create a <strong>Comparator</strong> as described in the next seection).</p>

<pre>   public int compareTo(iTunesEntry other)
   {
      switch (sortKey)
      {
      case SORT_BY_TITLE:
         return (title.compareToIgnoreCase(other.title));
      case SORT_BY_ARTIST:
         // get last name from string
         // stack the last name before the first - no worries about trailing last
         return (getArtistLastName() + artist).compareToIgnoreCase(
            other.getArtistLastName() + other.getArtist() );

      case SORT_BY_TIME:
         return (totalTime - other.totalTime);
      default:
         return 0;
      }
   }
</pre>

	<p>A client would use this <strong>compareTo()</strong> in its sorts, list insertion searches, etc.</p>
	<h3>equals()</h3>
	<p>Finally, an important note about <strong>equals()</strong>. Typically, this is not about <em>ordering</em>, but about <em>member-by-member comparisons</em>. You should be well aware of this by now. Why bring it up in a discussion about ordering? On occasion, one might wish  <strong>equals() </strong>to be defined in terms of <strong>compareTo()</strong>, which is defined in terms of the <strong>sortKey</strong>. Understand that this is a weaker equality than member-wis e equality, and if you don&apos;t understand what I mean, think about it and discuss it in the forums.</p>
	<p>Well, we now have set up our <strong>iTunesEntry</strong> class to have a totally flexible <strong>compareTo()</strong> mechanism.   After that, you can   build <strong>greater()</strong>, <strong>less()</strong>,  <strong>equalTo()</strong>, or even overload <strong>equals()</strong> on top of these methods.   Typically, you can   get by with just  <strong>compareTo()</strong>.</p>
	<p>The client changes the sort key using one simple statement:</p>

<pre>	// set the sort key to song duration
  iTunesEntry.setSortType(iTunesEntry.SortType.SORT_BY_TIME);
</pre>

	<p>Once this is done, we can apply any function or algorithm that uses the &lt;   operator, and it will be done based on time ordering.</p>
	<h2>8B.6.4 iTunes Client With Multiple Sort Keys</h2>
	<p>Here is an example client that uses the above technique.   You can   ignore the first part that reads the <strong>iTunesEntry</strong> data from the file.    Concentrate on the methods that we have modified from the <strong>float</strong> version.    We made some minor adjustments so that they work now with <strong>iTunesEntry</strong> objects.</p>

<pre>// Main file for iTunes project.  See Read Me file for details
// CS 1C, Foothill College, Michael Loceff, creator

import cs_1c.*;
import java.util.*;

//------------------------------------------------------
public class Foothill
{
   // -------  main --------------
   public static void main(String[] args) throws Exception
   {
      LinkedList&lt;iTunesEntry&gt; myList;

      // some structures and file reading utilities not explained here
      iTunesEntryReader tunesInput = new iTunesEntryReader(&quot;itunes_file.txt&quot;);
      int arraySize;

      // how we test the success of the read:
      if (tunesInput.readError())
      {
         System.out.println(&quot;couldn&apos;t open &quot; + tunesInput.getFileName()
            + &quot; for input.&quot;);
         return;
      }

      myList = new LinkedList&lt;iTunesEntry&gt;();

      // create an array of objects for our own use:
      arraySize = tunesInput.getNumTunes();


      // set the sort key to song duration
      iTunesEntry.setSortType(iTunesEntry.SortType.SORT_BY_TIME);

      // build the list.  It should automatically go in by song duration
      for (int k = 0; k &lt; arraySize; k++)
         insert(myList, tunesInput.getTune(k));
      
      // should be sorted by duration
      showList(myList);

      // now do it again by title
      myList.clear();
      iTunesEntry.setSortType(iTunesEntry.SortType.SORT_BY_TITLE);

      // build the list.  It should automatically go in alphabetically by title
      for (int k = 0; k &lt; arraySize; k++)
         insert(myList, tunesInput.getTune(k));
      
      // should be sorted by title
      showList(myList);
   }

// Global method definitions --------------------------
   static void insert(LinkedList&lt;iTunesEntry&gt; myList, iTunesEntry x)
   {
      ListIterator&lt;iTunesEntry&gt; iter;
      iTunesEntry listX;

      for (iter = myList.listIterator(); iter.hasNext(); )
      {
        listX = iter.next();
        if ( x.compareTo(listX) &lt;= 0 )
        {
           iter.previous(); // back up one
           break;
        }
      }
      iter.add(x);
   }

   boolean remove(LinkedList&lt;iTunesEntry&gt; myList, iTunesEntry x)
   {
      ListIterator&lt;iTunesEntry&gt; iter;

      for (iter = myList.listIterator(); iter.hasNext(); )
         if (iter.next() == x)
         {
            iter.remove();
            return true;   // we found, we removed, we return
         }
      return false;
   }

   void removeAll(LinkedList&lt;iTunesEntry&gt; myList, iTunesEntry x)
   {
      while ( remove(myList, x) )
         ;
   }

   static void showList(LinkedList&lt;iTunesEntry&gt; myList)
   {
      ListIterator&lt;iTunesEntry&gt; iter;
      
      System.out.println( &quot;\n\n_____Here&apos;s the List_______\n&quot; );
      for (iter = myList.listIterator(); iter.hasNext(); )
         System.out.println( &quot;[&quot; + iter.next() + &quot;] &quot;);
      System.out.println( &quot;\n\n_____That&apos;s all!_______\n&quot; );
   }
}


/* ------------------- run ------------------
itunes_file.txt
79
Carrie Underwood | Cowboy Casanova |  3:56
Carrie Underwood | Quitter |  3:40
Rihanna | Russian Roulette |  3:48
Foo Fighters | All My Life |  4:23
Foo Fighters | Monkey Wrench |  3:50
Eric Clapton | Pretending |  4:43
Eric Clapton | Bad Love |  5:08
Howlin&apos; Wolf | Everybody&apos;s In The Mood |  2:58
Howlin&apos; Wolf | Well That&apos;s All Right |  2:55
Reverend Gary Davis | Samson and Delilah |  3:36
Reverend Gary Davis | Twelve Sticks |  3:14
Roy Buchanan | Hot Cha |  3:28
Roy Buchanan | Green Onions |  7:23
Janiva Magness | I&apos;m Just a Prisoner |  3:50
Janiva Magness | You Were Never Mine |  4:36
John Lee Hooker | Hobo Blues |  3:07
John Lee Hooker | I Can&apos;t Quit You Baby |  3:02
Snoop Dogg | That&apos;s The Homie |  5:43
Snoop Dogg | Gangsta Luv |  4:17
The Rubyz | Ladies and Gentleman |  3:21
The Rubyz | Watch the Girl |  3:12
Veggie Tales | Donuts for Benny |  3:04
Veggie Tales | Our Big Break |  1:09
Berliner Philharmoniker | Brahms: Symphony No. 1 in C Minor Op. 68 |  13:59
Berliner Philharmoniker | Brahms: Symphony No. 4 in E Minor Op. 98 |  13:20
Yo-yo Ma | Bach: Suite for Cello No. 1 in G Major Prelude |  2:21
Yo-yo Ma | Simple Gifts |  2:34
Ry Cooter | Alimony |  2:55
Ry Cooter | France Chance |  2:48
Aaron Watson | The Road |  3:24
Terra Incognita | Clone |  4:58
Terra Incogni | Lizard Skin |  4:30
Blue Record | Bullhead&apos;s Psalm |  1:19
Blue Record | Ogeechee Hymnal |  2:35
Mastadon | Oblivion |  5:48
Mastadon | The Bit |  4:55
Sean Kingston | Fire Burning |  3:59
Sean Kingston | My Girlfriend |  3:24
T-Pain | Take Your Shirt Off |  3:48
Lil Jon | Give It All U Got |  3:38
Jay-Z | What We Talkin&apos; About |  4:03
Jay-Z | Empire State of Mind |  4:36
Snoop Dog | Think About It |  3:37
Snoop Dog | Lil&apos; Crips |  3:15
Jeff Golub | Shuffleboard |  3:30
Jeff Golub | Goin&apos; On |  5:56
Jeff Golub | Fish Fare |  4:59
Caraivana | Noites Cariocas |  4:12
Caraivana | Tico-Tico No Fuba |  2:27
John Patitucci | Monk/Trane |  7:14
John Patitucci | Sonny Side |  7:25
Nina Simone | Pirate Jenny |  6:42
Nina Simone | The Other Woman |  3:06
Nina Simone | Feeling Good |  2:57
John Coltrane | A Love Supreme Part 1 |  7:42
John Coltrane | In a Sentimental Mood |  4:16
AOL Dejando Huellas | Dime Si te Vas Con El |  3:24
AOL Dejando Huella | Te Amo Tanto |  3:12
McCoy Tyner | Blues On the Corner |  6:07
McCoy Tyner | Afro Blue |  12:22
Kanye West | Stronger |  5:11
Kanye West | Good Life |  3:27
Steely Dan | Black Cow |  5:10
Steely Dan | Kid Charlemagne |  4:38
Steely Dan | Haitian Divorce |  5:51
Herbie Hancock | Nefertiti |  7:31
Herbie Hancock | Rockit |  5:25
Herbie Hancock | Chameleon |  15:41
Return to Forever | Medieval Overture |  5:13
Suzanne Vega | Luka |  3:51
Suzanne Vega | Small Blue Thing |  3:55
Bonnie Raitt | Something to Talk About |  3:47
Bonnie Raitt | I Can&apos;t Make You Love Me |  5:31
Natalie Cole | This Will Be |  2:51
Natalie Cole | Unforgettable |  3:31
Jet | Timothy |  4:20
Jet | Rip It Up |  3:20
Was (Not Was) | Where Did Your Heart Go? |  5:47
Was (Not Was) | I Blew Up The United States |  3:50

Veggie Tales | Our Big Break |  1:09
Blue Record | Bullhead&apos;s Psalm |  1:19
Yo-yo Ma | Bach: Suite for Cello No. 1 in G Major Prelude |  2:21
Caraivana | Tico-Tico No Fuba |  2:27
Yo-yo Ma | Simple Gifts |  2:34
Blue Record | Ogeechee Hymnal |  2:35
Ry Cooter | France Chance |  2:48
Natalie Cole | This Will Be |  2:51
Howlin&apos; Wolf | Well That&apos;s All Right |  2:55
Ry Cooter | Alimony |  2:55
Nina Simone | Feeling Good |  2:57
Howlin&apos; Wolf | Everybody&apos;s In The Mood |  2:58
John Lee Hooker | I Can&apos;t Quit You Baby |  3:02
Veggie Tales | Donuts for Benny |  3:04
Nina Simone | The Other Woman |  3:06
John Lee Hooker | Hobo Blues |  3:07
The Rubyz | Watch the Girl |  3:12
AOL Dejando Huella | Te Amo Tanto |  3:12
Reverend Gary Davis | Twelve Sticks |  3:14
Snoop Dog | Lil&apos; Crips |  3:15
Jet | Rip It Up |  3:20
The Rubyz | Ladies and Gentleman |  3:21
Aaron Watson | The Road |  3:24
Sean Kingston | My Girlfriend |  3:24
AOL Dejando Huellas | Dime Si te Vas Con El |  3:24
Kanye West | Good Life |  3:27
Roy Buchanan | Hot Cha |  3:28
Jeff Golub | Shuffleboard |  3:30
Natalie Cole | Unforgettable |  3:31
Reverend Gary Davis | Samson and Delilah |  3:36
Snoop Dog | Think About It |  3:37
Lil Jon | Give It All U Got |  3:38
Carrie Underwood | Quitter |  3:40
Bonnie Raitt | Something to Talk About |  3:47
Rihanna | Russian Roulette |  3:48
T-Pain | Take Your Shirt Off |  3:48
Foo Fighters | Monkey Wrench |  3:50
Janiva Magness | I&apos;m Just a Prisoner |  3:50
Was (Not Was) | I Blew Up The United States |  3:50
Suzanne Vega | Luka |  3:51
Suzanne Vega | Small Blue Thing |  3:55
Carrie Underwood | Cowboy Casanova |  3:56
Sean Kingston | Fire Burning |  3:59
Jay-Z | What We Talkin&apos; About |  4:03
Caraivana | Noites Cariocas |  4:12
John Coltrane | In a Sentimental Mood |  4:16
Snoop Dogg | Gangsta Luv |  4:17
Jet | Timothy |  4:20
Foo Fighters | All My Life |  4:23
Terra Incogni | Lizard Skin |  4:30
Janiva Magness | You Were Never Mine |  4:36
Jay-Z | Empire State of Mind |  4:36
Steely Dan | Kid Charlemagne |  4:38
Eric Clapton | Pretending |  4:43
Mastadon | The Bit |  4:55
Terra Incognita | Clone |  4:58
Jeff Golub | Fish Fare |  4:59
Eric Clapton | Bad Love |  5:08
Steely Dan | Black Cow |  5:10
Kanye West | Stronger |  5:11
Return to Forever | Medieval Overture |  5:13
Herbie Hancock | Rockit |  5:25
Bonnie Raitt | I Can&apos;t Make You Love Me |  5:31
Snoop Dogg | That&apos;s The Homie |  5:43
Was (Not Was) | Where Did Your Heart Go? |  5:47
Mastadon | Oblivion |  5:48
Steely Dan | Haitian Divorce |  5:51
Jeff Golub | Goin&apos; On |  5:56
McCoy Tyner | Blues On the Corner |  6:07
Nina Simone | Pirate Jenny |  6:42
John Patitucci | Monk/Trane |  7:14
Roy Buchanan | Green Onions |  7:23
John Patitucci | Sonny Side |  7:25
Herbie Hancock | Nefertiti |  7:31
John Coltrane | A Love Supreme Part 1 |  7:42
McCoy Tyner | Afro Blue |  12:22
Berliner Philharmoniker | Brahms: Symphony No. 4 in E Minor Op. 98 |  13:20
Berliner Philharmoniker | Brahms: Symphony No. 1 in C Minor Op. 68 |  13:59
Herbie Hancock | Chameleon |  15:41


Algorithm Elapsed Time: 0 seconds.

------------- */
</pre>

	<h4>The Run</h4>

<pre>
_____Here&apos;s the List_______
[Our Big Break&quot;, by Veggie Tales Duration: 69]
[Bullhead&apos;s Psalm&quot;, by Blue Record Duration: 79]
[Bach: Suite for Cello No. 1 in G Major Prelude&quot;, by Yo-yo Ma Duration: 141]
[Tico-Tico No Fuba&quot;, by Caraivana Duration: 147]
[Simple Gifts&quot;, by Yo-yo Ma Duration: 154]
[Ogeechee Hymnal&quot;, by Blue Record Duration: 155]
[France Chance&quot;, by Ry Cooter Duration: 168]
[This Will Be&quot;, by Natalie Cole Duration: 171]
[Well That&apos;s All Right&quot;, by Howlin&apos; Wolf Duration: 175]
[Alimony&quot;, by Ry Cooter Duration: 175]
[Feeling Good&quot;, by Nina Simone Duration: 177]
[Everybody&apos;s In The Mood&quot;, by Howlin&apos; Wolf Duration: 178]
[I Can&apos;t Quit You Baby&quot;, by John Lee Hooker Duration: 182]
[Donuts for Benny&quot;, by Veggie Tales Duration: 184]
[The Other Woman&quot;, by Nina Simone Duration: 186]
[Hobo Blues&quot;, by John Lee Hooker Duration: 187]
[Watch the Girl&quot;, by The Rubyz Duration: 192]
[Te Amo Tanto&quot;, by AOL Dejando Huella Duration: 192]
[Twelve Sticks&quot;, by Reverend Gary Davis Duration: 194]
[Lil&apos; Crips&quot;, by Snoop Dog Duration: 195]
[Rip It Up&quot;, by Jet Duration: 200]
[Ladies and Gentleman&quot;, by The Rubyz Duration: 201]
[The Road&quot;, by Aaron Watson Duration: 204]
[My Girlfriend&quot;, by Sean Kingston Duration: 204]
[Dime Si te Vas Con El&quot;, by AOL Dejando Huellas Duration: 204]
[Good Life&quot;, by Kanye West Duration: 207]
[Hot Cha&quot;, by Roy Buchanan Duration: 208]
[Shuffleboard&quot;, by Jeff Golub Duration: 210]
[Unforgettable&quot;, by Natalie Cole Duration: 211]
[Samson and Delilah&quot;, by Reverend Gary Davis Duration: 216]
[Think About It&quot;, by Snoop Dog Duration: 217]
[Give It All U Got&quot;, by Lil Jon Duration: 218]
[Quitter&quot;, by Carrie Underwood Duration: 220]
[Something to Talk About&quot;, by Bonnie Raitt Duration: 227]
[Russian Roulette&quot;, by Rihanna Duration: 228]
[Take Your Shirt Off&quot;, by T-Pain Duration: 228]
[Monkey Wrench&quot;, by Foo Fighters Duration: 230]
[I&apos;m Just a Prisoner&quot;, by Janiva Magness Duration: 230]
[I Blew Up The United States&quot;, by Was (Not Was) Duration: 230]
[Luka&quot;, by Suzanne Vega Duration: 231]
[Small Blue Thing&quot;, by Suzanne Vega Duration: 235]
[Cowboy Casanova&quot;, by Carrie Underwood Duration: 236]
[Fire Burning&quot;, by Sean Kingston Duration: 239]
[What We Talkin&apos; About&quot;, by Jay-Z Duration: 243]
[Noites Cariocas&quot;, by Caraivana Duration: 252]
[In a Sentimental Mood&quot;, by John Coltrane Duration: 256]
[Gangsta Luv&quot;, by Snoop Dogg Duration: 257]
[Timothy&quot;, by Jet Duration: 260]
[All My Life&quot;, by Foo Fighters Duration: 263]
[Lizard Skin&quot;, by Terra Incogni Duration: 270]
[You Were Never Mine&quot;, by Janiva Magness Duration: 276]
[Empire State of Mind&quot;, by Jay-Z Duration: 276]
[Kid Charlemagne&quot;, by Steely Dan Duration: 278]
[Pretending&quot;, by Eric Clapton Duration: 283]
[The Bit&quot;, by Mastadon Duration: 295]
[Clone&quot;, by Terra Incognita Duration: 298]
[Fish Fare&quot;, by Jeff Golub Duration: 299]
[Bad Love&quot;, by Eric Clapton Duration: 308]
[Black Cow&quot;, by Steely Dan Duration: 310]
[Stronger&quot;, by Kanye West Duration: 311]
[Medieval Overture&quot;, by Return to Forever Duration: 313]
[Rockit&quot;, by Herbie Hancock Duration: 325]
[I Can&apos;t Make You Love Me&quot;, by Bonnie Raitt Duration: 331]
[That&apos;s The Homie&quot;, by Snoop Dogg Duration: 343]
[Where Did Your Heart Go?&quot;, by Was (Not Was) Duration: 347]
[Oblivion&quot;, by Mastadon Duration: 348]
[Haitian Divorce&quot;, by Steely Dan Duration: 351]
[Goin&apos; On&quot;, by Jeff Golub Duration: 356]
[Blues On the Corner&quot;, by McCoy Tyner Duration: 367]
[Pirate Jenny&quot;, by Nina Simone Duration: 402]
[Monk/Trane&quot;, by John Patitucci Duration: 434]
[Green Onions&quot;, by Roy Buchanan Duration: 443]
[Sonny Side&quot;, by John Patitucci Duration: 445]
[Nefertiti&quot;, by Herbie Hancock Duration: 451]
[A Love Supreme Part 1&quot;, by John Coltrane Duration: 462]
[Afro Blue&quot;, by McCoy Tyner Duration: 742]
[Brahms: Symphony No. 4 in E Minor Op. 98&quot;, by Berliner Philharmoniker Duration:
 800]
[Brahms: Symphony No. 1 in C Minor Op. 68&quot;, by Berliner Philharmoniker Duration:
 839]
[Chameleon&quot;, by Herbie Hancock Duration: 941]

_____That&apos;s all!_______


_____Here&apos;s the List_______
[A Love Supreme Part 1&quot;, by John Coltrane Duration: 462]
[Afro Blue&quot;, by McCoy Tyner Duration: 742]
[Alimony&quot;, by Ry Cooter Duration: 175]
[All My Life&quot;, by Foo Fighters Duration: 263]
[Bach: Suite for Cello No. 1 in G Major Prelude&quot;, by Yo-yo Ma Duration: 141]
[Bad Love&quot;, by Eric Clapton Duration: 308]
[Black Cow&quot;, by Steely Dan Duration: 310]
[Blues On the Corner&quot;, by McCoy Tyner Duration: 367]
[Brahms: Symphony No. 1 in C Minor Op. 68&quot;, by Berliner Philharmoniker Duration:
 839]
[Brahms: Symphony No. 4 in E Minor Op. 98&quot;, by Berliner Philharmoniker Duration:
 800]
[Bullhead&apos;s Psalm&quot;, by Blue Record Duration: 79]
[Chameleon&quot;, by Herbie Hancock Duration: 941]
[Clone&quot;, by Terra Incognita Duration: 298]
[Cowboy Casanova&quot;, by Carrie Underwood Duration: 236]
[Dime Si te Vas Con El&quot;, by AOL Dejando Huellas Duration: 204]
[Donuts for Benny&quot;, by Veggie Tales Duration: 184]
[Empire State of Mind&quot;, by Jay-Z Duration: 276]
[Everybody&apos;s In The Mood&quot;, by Howlin&apos; Wolf Duration: 178]
[Feeling Good&quot;, by Nina Simone Duration: 177]
[Fire Burning&quot;, by Sean Kingston Duration: 239]
[Fish Fare&quot;, by Jeff Golub Duration: 299]
[France Chance&quot;, by Ry Cooter Duration: 168]
[Gangsta Luv&quot;, by Snoop Dogg Duration: 257]
[Give It All U Got&quot;, by Lil Jon Duration: 218]
[Goin&apos; On&quot;, by Jeff Golub Duration: 356]
[Good Life&quot;, by Kanye West Duration: 207]
[Green Onions&quot;, by Roy Buchanan Duration: 443]
[Haitian Divorce&quot;, by Steely Dan Duration: 351]
[Hobo Blues&quot;, by John Lee Hooker Duration: 187]
[Hot Cha&quot;, by Roy Buchanan Duration: 208]
[I Blew Up The United States&quot;, by Was (Not Was) Duration: 230]
[I Can&apos;t Make You Love Me&quot;, by Bonnie Raitt Duration: 331]
[I Can&apos;t Quit You Baby&quot;, by John Lee Hooker Duration: 182]
[I&apos;m Just a Prisoner&quot;, by Janiva Magness Duration: 230]
[In a Sentimental Mood&quot;, by John Coltrane Duration: 256]
[Kid Charlemagne&quot;, by Steely Dan Duration: 278]
[Ladies and Gentleman&quot;, by The Rubyz Duration: 201]
[Lil&apos; Crips&quot;, by Snoop Dog Duration: 195]
[Lizard Skin&quot;, by Terra Incogni Duration: 270]
[Luka&quot;, by Suzanne Vega Duration: 231]
[Medieval Overture&quot;, by Return to Forever Duration: 313]
[Monk/Trane&quot;, by John Patitucci Duration: 434]
[Monkey Wrench&quot;, by Foo Fighters Duration: 230]
[My Girlfriend&quot;, by Sean Kingston Duration: 204]
[Nefertiti&quot;, by Herbie Hancock Duration: 451]
[Noites Cariocas&quot;, by Caraivana Duration: 252]
[Oblivion&quot;, by Mastadon Duration: 348]
[Ogeechee Hymnal&quot;, by Blue Record Duration: 155]
[Our Big Break&quot;, by Veggie Tales Duration: 69]
[Pirate Jenny&quot;, by Nina Simone Duration: 402]
[Pretending&quot;, by Eric Clapton Duration: 283]
[Quitter&quot;, by Carrie Underwood Duration: 220]
[Rip It Up&quot;, by Jet Duration: 200]
[Rockit&quot;, by Herbie Hancock Duration: 325]
[Russian Roulette&quot;, by Rihanna Duration: 228]
[Samson and Delilah&quot;, by Reverend Gary Davis Duration: 216]
[Shuffleboard&quot;, by Jeff Golub Duration: 210]
[Simple Gifts&quot;, by Yo-yo Ma Duration: 154]
[Small Blue Thing&quot;, by Suzanne Vega Duration: 235]
[Something to Talk About&quot;, by Bonnie Raitt Duration: 227]
[Sonny Side&quot;, by John Patitucci Duration: 445]
[Stronger&quot;, by Kanye West Duration: 311]
[Take Your Shirt Off&quot;, by T-Pain Duration: 228]
[Te Amo Tanto&quot;, by AOL Dejando Huella Duration: 192]
[That&apos;s The Homie&quot;, by Snoop Dogg Duration: 343]
[The Bit&quot;, by Mastadon Duration: 295]
[The Other Woman&quot;, by Nina Simone Duration: 186]
[The Road&quot;, by Aaron Watson Duration: 204]
[Think About It&quot;, by Snoop Dog Duration: 217]
[This Will Be&quot;, by Natalie Cole Duration: 171]
[Tico-Tico No Fuba&quot;, by Caraivana Duration: 147]
[Timothy&quot;, by Jet Duration: 260]
[Twelve Sticks&quot;, by Reverend Gary Davis Duration: 194]
[Unforgettable&quot;, by Natalie Cole Duration: 211]
[Watch the Girl&quot;, by The Rubyz Duration: 192]
[Well That&apos;s All Right&quot;, by Howlin&apos; Wolf Duration: 175]
[What We Talkin&apos; About&quot;, by Jay-Z Duration: 243]
[Where Did Your Heart Go?&quot;, by Was (Not Was) Duration: 347]
[You Were Never Mine&quot;, by Janiva Magness Duration: 276]

_____That&apos;s all!_______

Press any key to continue . . .
</pre>

    <p>Note that the first list is ordered by time, and the second by title, just as   we had expected.  </p>
    <p>Also notice that, besides changing the type parameter from float to <strong> iTunesEntry</strong>, we did not touch the<strong> insert()</strong> or <strong>remove()</strong> methods.  So these can easily be turned into function templates and never   written again.  Wow.</p>
    <h3>A More  Complete Listing</h3>
    <p>Here is the  listing for <strong>iTunesEntry</strong>, but I do not provide  the necessary class (<strong>iTunesEntryReader</strong>) that reads the data from a file, so you won&apos;t be able to run it, as is.  We&apos;ll run it in <span class="sectionOrAssignmentTitle">CS 1C</span>. However, this contains all the machinery necessary to do any potential assigned lab.</p>

<pre>package cs_1c;

//class iTunesEntry -----------------------------------------------------
public class iTunesEntry implements Comparable&lt;iTunesEntry&gt;
{
   private String title, artist;
   private int totalTime;

   public static final int MIN_STR_LENGTH = 1;
   public static final int MAX_STR_LENGTH = 300;
   public static final int MAX_ENTRY_LENGTH = 10000;
   public static final int MIN_PLAY_TIME_IN_SEC = 1;
   public static final int MAX_PLAY_TIME_IN_SEC = 100000;
   
   public static final int DEFAULT_PLAY_TIME = 1;  // 1 second
   public static final String DEFAULT_STRING = &quot; (undefined) &quot;;
   
   // comparable tools
   public enum SortType { SORT_BY_TITLE, SORT_BY_ARTIST, SORT_BY_TIME };
   
   private static SortType sortKey = SortType.SORT_BY_ARTIST;
   
   // constructora
   iTunesEntry()
   {
      title = DEFAULT_STRING;
      artist = DEFAULT_STRING;
      totalTime = DEFAULT_PLAY_TIME;
   }
   
   iTunesEntry(String nm, String art, int tTime)
   {
      if ( !setTitle(nm) )
         title = DEFAULT_STRING;
      if ( !setArtist(art) )
         artist = DEFAULT_STRING;
      if ( !setTotalTime(tTime) )
         totalTime = DEFAULT_PLAY_TIME;
   }
   
   // accessors
   public String getTitle()  { return title; }
   public String getArtist()  { return artist; }
   public int getTime()  { return totalTime; }   
   
   // mutators
   public boolean setTitle(String ttl)
   {
      if (ttl.length() &lt; MIN_STR_LENGTH || ttl.length() &gt; MAX_STR_LENGTH)
         return false;
      title = ttl;
      return true;
   }
   public boolean setArtist(String art)
   {
      if (art.length() &lt; MIN_STR_LENGTH || art.length() &gt; MAX_STR_LENGTH)
         return false;
      artist = art;
      return true;
   }
   public boolean setTotalTime(int tTime)
   {
      if (tTime &lt; MIN_PLAY_TIME_IN_SEC || tTime &gt; MAX_PLAY_TIME_IN_SEC)
         return false;
      totalTime = tTime;
      return true;
   }
   
   public String getArtistLastName()
   {
      // search for first blank from end of string
      // assume no trailing spaces
      int k, length;

      length = artist.length();
      if ( length &lt; 1 )
         return &quot;&quot;;

      for (k = length-1; k &gt;= 0; k--)
      {
         if (artist.charAt(k) == &apos; &apos;)
            break;
      }

      if (k &gt;= length-1 )
         return &quot;&quot;;

      return artist.substring(k + 1, artist.length()-1);
   }
   
   public String convertTimeToString() 
   {
      int minutes, seconds;
      String strSeconds, strMinutes;

      minutes = totalTime / 60;
      seconds = totalTime % 60;

      strMinutes = &quot;&quot; + minutes;
      strSeconds = &quot;&quot; + seconds;

      if (strSeconds.length() &lt; 2)
         strSeconds = &quot;0&quot; + strSeconds;

      return strMinutes + &quot;:&quot; + strSeconds;
   }

  
   public static boolean setSortType( SortType whichType )
   {
      switch (whichType)
      {
      case SORT_BY_TITLE:
      case SORT_BY_ARTIST:
      case SORT_BY_TIME:
         sortKey = whichType;
         return true;
      default:
         return false;
      }
   }
   
   public int compareTo(iTunesEntry other)
   {
      switch (sortKey)
      {
      case SORT_BY_TITLE:
         return (title.compareToIgnoreCase(other.title));
      case SORT_BY_ARTIST:
         // get last name from string
         // stack the last name before the first - no worries about trailing last
         return (getArtistLastName() + artist).compareToIgnoreCase(
            other.getArtistLastName() + other.getArtist() );

      case SORT_BY_TIME:
         return (totalTime - other.totalTime);
      default:
         return 0;
      }
   }
   
   public String toString()
   {
      return &quot;\&quot;&quot; + title + &quot;\&quot;, by &quot;
         + artist + &quot;, Duration &quot;
         + totalTime;
   }
}
</pre>

</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_7.html -->



<a name="67_"></a>


<div class="container">
<div class="content">
	<h1>Section 7 - PriorityQueues</h1>
	<h2>8B.7.1 The Comparator Interface</h2>
	<p>We have seen the <strong>Comparable</strong> interface which belongs to the <strong>java.lang   package</strong>. There is another interface defined in the Collections Framework called <strong>Comparator</strong> which is very similar.  When you implement a <strong>Comparator</strong> interface, you are providing a <strong>compare()</strong> method that explains the relationship   between two objects of your target class.  For instance, if you want to   build a <strong>Comparator</strong> for <strong>Cards</strong>, you would do something like this:</p>

<pre>class MyCardComparator implements Comparator&lt;Card&gt;
{
   public int compare(Card c1, Card c2)
   {
      // define compare here ... 
   }
}
</pre>

	<p> For our present example, we need a comparator for <strong>Float</strong>.  While <strong>Float</strong> already implements <strong>Comparable</strong> as part of <strong>Java.lang</strong>, it does <em>not</em> do so for <strong>Comparator</strong> in <strong>Java.util</strong>.  Here is one obvious implementation:</p>

<pre>class MyComparator implements Comparator&lt;Float&gt;
{
   public int compare(Float f1, Float f2)
   {
      if (f1 &lt; f2)
         return -1;
      if (f1 &gt; f2)
         return 1;
      return 0;
   }
}
</pre>

	<h2>8B.7.2  PriorityQueue</h2>
	<p>A <strong>PriorityQueue</strong> is a <strong><em>generic collection class</em></strong> that we   can instantiate around any object type we wish such as <strong>Card</strong> or <strong>Float</strong>.    The idea of the <strong>PriorityQueue</strong> is that it implements the expected <strong>add()</strong> and<strong> remove()</strong> methods, but with a twist:  If you supply a <strong> Comparator</strong> object to the <strong>PriorityQueue</strong> constructor, it will insert   new objects in their proper order.  This results in a list structure that   is even more powerful than <strong>LinkedList</strong> because we have very little work to   do.</p>
	<p>The steps are quite simple.</p>
	<ol>
		<li><em><strong>Implement a Comparator</strong></em> for your target class (as we did   	above for <strong>Float</strong>).</li>
		<li><em><strong>Instantiate a PriorityQueue&lt;&gt;</strong></em> passing the <u>initial size</u> of the Queue and <u>the Comparator</u> as arguments to the constructor.</li>
		<li><em><strong>Use add() and remove() as you would normally.</strong></em>    	Objects are inserted in their natural order as defined by your Comparator.</li>
	</ol>
	<p>To emphasize how little work we have to do, I have added a new improvement to   our next example.  Not only are the <strong>Insert()</strong> and <strong>Remove()</strong> methods gone,   replaced by the implicit <strong>add()</strong> and <strong>remove()</strong> of the <strong>PriorityQueue</strong>, but the <strong>ShowList()</strong> is also gone.  How can that be?  Well, we could have done   this all along, but I&apos;ve saved it for now to add to the potency of this drastic   simplification.  Any object that has a <strong>toString()</strong> method overridden can be   placed in a <strong>System.out.println()</strong> method.  The collections classes all   implement <strong>toString()</strong> enabling us to print out these <em><strong>lists</strong></em>, <em><strong>queues</strong></em>, <em><strong>stacks</strong></em> or <em><strong>deques</strong></em> without any loops or hoopla.</p>
	<p>Study this elegantly simple example.</p>

<pre>import java.util.*;

class MyComparator implements Comparator&lt;Float&gt;
{
   public int compare(Float f1, Float f2)
   {
      if (f1 &lt; f2)
         return -1;
      if (f1 &gt; f2)
         return 1;
      return 0;
   }
}
public class Foothill
{
   public static void main (String[] args)
   {
      PriorityQueue&lt;Float&gt; myList = new PriorityQueue&lt;Float&gt;(5, new MyComparator());
      int k;
      float x;

      // build list of 10 floats, 2 at a time (1 random and 1 k*100)
      for (k = 0; k &lt; 5; k++)
      {
         x = 1000 * (float)Math.random(); // float bet 0 and 1000
         myList.add(x);
         myList.add((float)(k*100));
      }

      // should be sorted
      System.out.println(myList + &quot;\n&quot;);

      // remove 5 nodes (and delete them!)
      for (k = 0; k &lt; 5; k++)
      {
         x = k*100;
         if (myList.remove(x))
            System.out.println(x + &quot; removed&quot;);
         else 
            System.out.println(x + &quot; not found&quot;);
      }
      System.out.println(myList + &quot;\n&quot;);

      if (!myList.remove (-10))  // should have no effect
         System.out.println(&quot;-10 not in list as expected. \n&quot;);;
      System.out.println(myList + &quot;\n&quot;);
   }
 }
</pre>

</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_8b_8.html -->



<a name="68_"></a>


<div class="container">
<div class="content">
	<h1>Section 8 - Raw Types</h1>
	<h2>8B.8.1 Raw Types</h2>
	<p>We conclude (finally) by showing an example of something called a &quot;raw type&quot;.    This term refers to a Generic Framework Implementation that is not handed a <em> <strong>type   parameter</strong></em>.  For example, say we want a linked list, but want it to contain   a menagerie of object types (some <strong>Dogs</strong>, some <strong>Stars</strong>, some <strong>Pizzas</strong>, etc.).     We can actually do this:</p>

<pre>   LinkedList  mixedList = new LinkedList();
</pre>

	<p>and all we&apos;ll get from the compiler is a slap on the wrist - a <em>warning</em> that   we are instantiating a <em><strong>raw type</strong></em> and uses <em><strong>unchecked or unsafe operations</strong></em>.    This means that the compiler won&apos;t be able to tell us if we are adding a valid   object to this list since we haven&apos;t told it what kind of object we are planning   to add.  But, of course, that&apos;s the point.  We want to add multiple   types.</p>
	<p>We can get around this warning by feeding the beast the type <em><strong>Object</strong></em>.  This doesn&apos;t really make the program any safer, but at least it   shuts up the compiler warnings.  It will still be our responsibility to   figure out what kind of objects we are removing or returning from the list.    In some cases, this doesn&apos;t matter.  In the example below, we are using the   list to store a multi-type bunch of things (numbers and Strings), and we will   only make use of the <strong>toString() </strong>method which is included in most classes,   meaning we can apply it to any object we take off the list:</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      LinkedList&lt;Object&gt;  mixedList = new LinkedList&lt;Object&gt;();
      ListIterator&lt;Object&gt;  p;
      
      mixedList.add(37);
      mixedList.add(&quot;Hi Mom&quot;);
      mixedList.add(&quot;Hey - Who&apos;s In Charge Here?&quot;);
      mixedList.add(-45);
      
      String aString = &quot;Something to Delete&quot;;
      mixedList.add(aString);
    
      System.out.println(&quot;----------- Original List -------- &quot;);    
      for (p = mixedList.listIterator(); p.hasNext(); )
         System.out.println(p.next().toString()); 
      
      mixedList.remove(aString);
         
     System.out.println(&quot;----------- Updated List -------- &quot;);    
     for (p = mixedList.listIterator(); p.hasNext(); )
         System.out.println(p.next().toString());
   }
 }

/* --------------- Sample Run ----------------------

----------- Original List -------- 
37
Hi Mom
Hey - Who&apos;s In Charge Here?
-45
Something to Delete
----------- Updated List -------- 
37
Hi Mom
Hey - Who&apos;s In Charge Here?
-45

------------------------------------------------- */
</pre>

	<p>You&apos;ll notice that along with the dumbed-down raw-like <strong>LinkedList</strong>, we   are also creating raw-like <strong>Iterator</strong>.  If you want to use this sort of list with your own objects (and you will),   you would need to implement <strong>toString()</strong> in any class that you send to the list.</p>
	<p>If you wanted to do something special with the items that you were taking off   the list, you would have to know what kind of item you had.  A clunky, but   valid, way to do this is through use of <strong>instanceof</strong>:</p>

<pre>   genericObj = p.next();
   if ( genericObj instanceof PizzaOrder )
   {
      pizzaOrder = (PizzaOrder)genericObj;
      pizzaOrder.DisplayPizza();
   }
</pre>

	<p>And, that&apos;s all.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_9a_1.html -->



<a name="69_"></a>


<div class="container">
<div class="content">
	<h1>Section 1 - Introduction to Java Generics</h1>
	<h2>9A.1.1 Overview of Week 9</h2>
	<h3>Java Generics</h3>
	<p>This week we learn how to create re-usable classes in the sense that the data they contain will be of a non-committed type. In other words, if the <strong>Java collection classes in java.util</strong>  do not meet our needs, we can write <strong>generics</strong> of our own. We will use a symbolic <em><strong>type parameter</strong></em> to fill in for the data type we wish to embed in the <em><strong>class</strong></em>, and only when a<em><strong> client instantiates</strong></em> a <em><strong>class</strong></em> will the data type be specified. Classes which work with these flexible <em><strong>type parameters</strong></em> are called <em><strong>class generics</strong></em>, or just <strong><em>generics</em></strong>.</p>
	<h3>Trees</h3>
	<p>We also get a taste of a new <em><strong>ADT</strong></em>: the <em><strong>tree</strong></em>. <strong><em>Trees</em></strong> are widely used in computer science and they come in many flavors like <em><strong>general trees</strong></em>, <em><strong>binary search trees</strong></em>, and sub-varieties like <em><strong>red-black</strong></em>, <strong><em>top-down splay</em></strong>, and <em><strong>AVL</strong></em>. But we save these exotic sounding varieties for the<span class="sectionOrAssignmentTitle"> next course</span>, because <em><strong>general trees</strong></em> are a handful all by themselves. And it pays to master the many <em><strong>tree</strong></em> maneuvers on <em><strong>general trees</strong></em> before studying the more advanced ones.</p>
	<h2>9A.1.2 A Plan for Generics</h2>
	<p>Often we create a data structure, <em><strong>class</strong></em> or <em><strong>interface</strong></em> for one data type that   we would find useful for another type.  Problem is, we have to duplicate   the code and do a global search and replace.  For example, if I create a   nice  interface or class that processes <strong>Cards</strong>, and find that I want to use   it to also process <strong>Strings</strong>, I have to change all <strong>Card</strong> references to <strong>String</strong> references.</p>
	<p>Note that this is not a problem <em><strong>inheritance</strong></em> can solve.  <em><strong>Inheritance</strong></em> allows   us to <em>add</em> data and methods to existing data and methods. It doesn&apos;t let us <em>replace</em> existing data with new data types.</p>
	<p>So we start with a simple problem, solve it once for <strong>Cards</strong>, then learn how to   change it into a solution for all data types.</p>
	<h2>9A.1.3 A Class Has Bi-Modal Output</h2>
	<p>Authors usually use <em><strong>stacks</strong></em> or<em><strong> linked lists</strong></em> to demonstrate generics, but I&apos;ll   do something different.</p>
	<p>I want to<em> </em>display to the console window with <strong> System.out.println()</strong> <em>sometimes</em>, but at <em>other times</em> I want to display to   a GUI with <strong>JOptionPane.ShowMessageDialog.</strong>  I&apos;d like to do this for   my <strong>Card</strong> class, so we&apos;ll start there.    We create a simple class   called <strong>CardRevealer()</strong> that has two methods:  <strong>displayConsole(Card c)</strong> and <strong>displayGUI(Card c)</strong>.  It will quickly and easily send my <strong>Card</strong> to the right   place without requiring the client to write all the <strong>System.out.println()</strong> ugliness, or the<strong> JOptionPane.ShowMessageDialog()</strong> ugliness.</p>
	<p>Here&apos;s my class:</p>

<pre>class CardRevealer
{
   public void displayGUI(Card myThing)
   {
      String report = myThing.toString();
      JOptionPane.showMessageDialog(null, report, 
            &quot;Loceff&apos;s Data Revealer&quot;, JOptionPane.PLAIN_MESSAGE);
   }
   
   public   void displayConsole(Card myThing)
   {
      String report = myThing.toString();
      System.out.println(&quot; --- Loceff&apos;s Data Revealer ---&quot;);
      System.out.println(report);
      System.out.println(&quot; ------------------------------\n\n&quot;);
   }
}
</pre>

	<p>Never mind that there&apos;s no data, that&apos;s okay.  The important thing is   that this class works with <strong>Cards</strong>, and only <strong>Cards</strong>.  </p>
	<p>Here is a test <strong>main()</strong>:</p>

<pre>import java.util.*;
import javax.swing.*;

public class Foothill
{
   public static void main(String[] args)
   {
      Card card1, card2, card3;
     
      CardRevealer rv = new CardRevealer();
      
      card1 = new Card();
      card2 = new Card(&apos;5&apos;);
      card3 = new Card(&apos;9&apos;, Card.Suit.hearts);
        
      rv.displayConsole(card1);
      rv.displayConsole(card2);
      rv.displayGUI(card3);
   }
}
</pre>


	<p>And a run: </p>
	<div class="picCenter"><img alt="console and gui shot" border="2" height="197" src="./CS 1B Module 9A Section 1_files/pic_1b9_1.jpg" width="531"/></div>
	<p>Nice work.  I create a <strong>CardRevealer</strong> object, <strong>rv</strong>, and use it to easily   display my <strong>Cards</strong> to whichever output type I wish.  You can imagine that I   could beef up this class to allow entire decks of cards or individual hands of   5 or 13 cards to be displayed.  In other words, I could provide special methods for dealing   with output of arrays of cards.  </p>
	<p>Now, how about <strong>Strings</strong>?  I want to allow clients who use <strong> Strings</strong> to be able to call <strong>displayConsole()</strong> and <strong>displayGUI()</strong>.    <strong>Employees</strong>? <strong>Dogs</strong>? You bet.   Do I need a separate class for   each one?  No.  We will create a <em><strong>generic class</strong></em> that looks just like <strong>CardRevealer</strong> but can be used for all of these objects.</p>
	
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_9a_2.html -->



<a name="70_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - Generic Classes</h1>
	<h2>9A.2.1 Creating a Generic Class</h2>
	<p>To make this <em><strong>class</strong></em> applicable to any data type, not just <strong>Cards</strong>, requires   that we add some notation to it.  It goes as follows (don&apos;t try to memorize   these steps, just look briefly at them, and refer back when you see the example):</p>
	<ol>
		<li>After the class name in the first line of the definition, add the symbol<strong> &lt;E&gt;,</strong> as in class <strong>Revealer&lt;E&gt;</strong></li>
		<li>Inside the definitions, wherever we had a <strong>Card</strong>, we put the symbol <strong>E</strong>.</li>
	</ol>
	<p>In the <em><strong>client</strong></em>, instead of declaring a <strong>Revealer</strong>, we declare a <strong>Revealer&lt;Card&gt;</strong> or <strong> Revealer&lt;String&gt;</strong>  or  <strong>Revealer&lt;Dog&gt;</strong>, depending on the   type we need.  </p>
	<p>In case you haven&apos;t noticed the connection, the angled brackets, <strong>&lt; &gt;</strong>,   were used before when we implemented Java <em><strong>interfaces</strong></em> or <em><strong> Framework Collections</strong></em> using our own classes:  <strong>Comparable&lt;<font color="#000080">Card</font>&gt;,   ArrayList&lt;<font color="#000080">Float</font>&gt;, PriorityQueue&lt;<font color="#000080">Rectangle</font>&gt;</strong>.    Of course!  In these previous sessions we were passing a <em><strong>type   argument</strong></em> to the <em><strong>generic</strong></em> and in our current lesson we are   learning how to <em>make</em> a <em><strong>generic</strong></em> class using a <em> <strong>type   parameter</strong></em>.  </p>
	<p>When we learned about  <em><strong>methods</strong></em>, we first learned how to use <em>existing   methods</em> by passing our <em><strong>arguments</strong></em> to them without worrying about how to   define <em><strong>methods</strong></em> (remember when we first learned <strong>println( <font color="#000080"> <em>our arguments</em></font> )</strong>,  <strong>JOptionPane.ShowMessageDialog( <font color="#000080"><em>our arguments</em></font> )</strong>?).  Then later we   learned how to create our own <em><strong>methods</strong></em> by provisioning them with <em><strong>formal   parameters</strong></em> of our own invention.  So with <em><strong>generics</strong></em>,   we learned to use existing generic classes in previous lessons (<strong>Comparable&lt;Card&gt;,   ArrayList&lt;Float&gt;, PriorityQueue&lt;Rectangle&gt;</strong>) and now we are building our own   generics from scratch.</p>
	<p>Here is the full program with the <em>genericized</em> class and an adjusted <strong>main()</strong>:</p>

<pre>import java.util.*;
import javax.swing.*;

public class Foothill
{
   public static void main(String[] args)
   {
      String string1 = &quot;death of a salesman&quot;;
      String string2 = &quot;queen&apos;s gambit&quot;;
      Card card1, card2, card3;
 
     <span style="background-color: #00FFFF"> Revealer&lt;Card&gt; rv1 = new Revealer&lt;Card&gt;();    </span>
     <span style="background-color: #00FFFF"> Revealer&lt;String&gt; rv2 = new Revealer&lt;String&gt;();
</span> 
      card1 = new Card();
      card2 = new Card(&apos;5&apos;);
      card3 = new Card(&apos;9&apos;, Card.Suit.hearts);

      rv1.displayGUI(card1);
      rv2.displayGUI(string1);
      rv1.displayGUI( new Card(&apos;t&apos;,Card.Suit.clubs));
      
      rv1.displayConsole(card3);   
      rv1.displayConsole(card2);
      rv2.displayConsole(string2); 
   }
}

class Revealer<span style="background-color: #00FFFF">&lt;E&gt;</span>
{
   public   void displayGUI(<span style="background-color: #00FFFF">E</span> myThing)
   {
      String report = myThing.toString();
      JOptionPane.showMessageDialog(null, report, 
            &quot;Loceff&apos;s Data Revealer&quot;, JOptionPane.PLAIN_MESSAGE);
   }
   
   public   void displayConsole(<span style="background-color: #00FFFF">E</span> myThing)
   {
      String report = myThing.toString();
      System.out.println(&quot; --- Loceff&apos;s Data Revealer ---&quot;);
      System.out.println(report);
      System.out.println(&quot; ------------------------------\n\n&quot;);
   }
}</pre>

	<p>The output is:</p>

<pre> --- Loceff&apos;s Data Revealer ---
9 of Hearts
 ------------------------------


 --- Loceff&apos;s Data Revealer ---
5 of Spades
 ------------------------------


 --- Loceff&apos;s Data Revealer ---
queen&apos;s gambit
 ------------------------------</pre>
<img alt="gui shot" border="0" height="122" src="./CS 1B Module 9A Section 2_files/pic_1b9_2.jpg" width="268"/>   →   <img alt="gui shot" border="0" height="122" src="./CS 1B Module 9A Section 2_files/pic_1b9_3.jpg" width="268"/>	   →    <img alt="gui shot" border="0" height="122" src="./CS 1B Module 9A Section 2_files/pic_1b9_4.jpg" width="268"/>
	<h2>9A.2.2 Analysis</h2>
	<p>Besides the odd notation, the concept is simple.  We use the symbol <strong>E</strong> in place of the type <strong>Card</strong> in various parts of the method definitions.  It   is a place holder - a <em><strong>type parameter</strong></em>.  In fact, <strong>E</strong> can be anything, as long as you use the same   letter or word in the phrase<strong> Revealer&lt;E&gt;</strong>.  Usually   programmers choose <strong>E</strong> or <strong>T</strong> as type parameters, and if they need   more they use other single capital letters.   This is one time where   the use of single letters is ok.  </p>
	<p>Using <strong>generics</strong> in the <em><strong>client</strong></em> is particularly easy.  In   fact, it looks very much like how we declared an <strong>ArrayList</strong> class.  Of   course.  The <strong>ArrayList</strong> class is a <strong>generic</strong>, just one that   someone else designed for us.</p>
	<div class="picCenter"><img alt="scenic trees from above" border="0" height="216" src="./CS 1B Module 9A Section 2_files/cs_C_common_15.jpg" width="302"/></div>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_9a_3.html -->



<a name="71_"></a>


<div class="container">
<div class="content">
	<h1>Section 3 - A Generic Stack</h1>
	<h2>9A.3.1 Creating a Generic Node</h2>
	<p>Let&apos;s go with tradition now and create a <em><strong>generic stack</strong></em> that we can use on all   of our <em><strong>classes</strong></em>.  Of course, you know how to use <strong><em>Java Frameworks Collections </em>ArrayDeque</strong> to do this without building your own <em><strong>generic</strong></em>, but there will be a   time when you won&apos;t have a ready-to-go generic data structure and you&apos;ll have to   build your own.  </p>
	<p>Our previous technique of extending <strong>StackNodes</strong> should start to feel   inadequate.  After we built our original <strong>Node</strong> type, why should we have to build   more types (even derived class types) like  <strong>FloatNode</strong> or <strong>StringNode</strong> whenever we want  a <strong>Stack</strong> of <em><strong>floats</strong></em> or <em><strong>Strings</strong></em>?  It seems like we now   have the ingredients to build our own generic <strong>Stack</strong> without having to do   more work every time we want to have a <strong>Stack</strong> of some new type.  </p>
	<p>You can smell a <strong><em>generic</em></strong> definition coming on.  We will build a <strong>Node</strong> that we never have to extend using generics.  Check it out:</p>

<pre>//Class Node  ----------------------------------
class Node&lt;E&gt;
{
   protected Node&lt;E&gt; next;
   private E data;
    
   // constructor
   public Node()
   {
      next = null;
   }
   public Node(E data)
   {
      setData(data);
   }
  
   public boolean setData(E data)
   {
      if (data == null)
         return false;
      this.data = data;
      return true;
   }
   
   public E getData()
   {
      return data;
   }
   
   // console display
   public String toString()
   {
      return data.toString();
   }
}</pre>

	<p>So, what have we done differently?</p>
	<ol>
		<li>Our <strong>Node</strong> has both the <strong>next</strong> (link) field and the <em><strong>data</strong></em>.  We   	couldn&apos;t add the data this early before because we would have had to say   	what kind of data. With <em><strong>generics</strong></em>, we can use a <strong><em>type parameter</em>, E</strong>, and remove   	the necessity of subclassing <strong>FloatNodes</strong> or <strong>StringNodes</strong>.  This is going   	to be good.</li>
		<li>We provide <em><strong>mutators</strong></em> and <em><strong>accessors</strong></em> for the <strong>data</strong>.</li>
		<li>We have replaced the <strong>Show()</strong> method of times past with the more   	flexible<strong> toString()</strong> method that overrides the ubiquitous  <strong> Object.toString()</strong>.  This is a good thing to do for most classes.</li>
	</ol>
	<h2>9A.3.2 Now for the Stack</h2>
	<p>We are going to make our <strong>Stack</strong> class correspondingly more useful.    Instead of forcing a <strong><em>client</em></strong> — even a technical &quot;tinkerer&quot; client that is   building custom stacks  — to build <em><strong>nodes</strong></em> and place them into the <em><strong>stack</strong></em>, we can   provide the end-user<strong> push()</strong> and <strong>pop()</strong> <em><strong>methods</strong></em> that use our   <em><strong>client&apos;s</strong></em> data immediately.  No more messing with <strong>Nodes</strong> (after this class).    Have a look.</p>

<pre>//Class Stack ---------------------------------------
class Stack&lt;E&gt;
{
   // pointer to first node in stack
   private Node&lt;E&gt; top;
   
   // constructor
   public Stack()
   {
      top = null;
   }
   
   public boolean isEmpty()
   {
      return top == null;
   }
   
   public void push(E data)
   {   
      if (data == null) 
         return;
      // build a node and place it on the stack
      Node&lt;E&gt; newNode = new Node&lt;E&gt;(data);
      newNode.next = top;
      top = newNode;
   }  
   
   public E pop()
   {
      Node&lt;E&gt; temp;
      
      temp = top;
      if (isEmpty())
         return null;

      top = top.next; 
      return temp.getData();     
   }

   // console display
   public String toString()
   {
      Node p;
      
      String showAll = &quot;&quot;;
      // Display all the nodes in the stack
      for( p = top; p != null; p = p.next )
         showAll += p.toString() + &quot;\n&quot;;
      return showAll;  
   }
}</pre>

	<p> Again, we are making the class output-independent (to a degree) by replacing the   old <strong>ShowStack()</strong> with <strong>toString()</strong>.  This is all going to result in a   beautifully easy-to-use class.  Here is a simple client.</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      float x;
      Stack&lt;Float&gt; fStk = new Stack&lt;Float&gt;();

      // build the stack
      for (x = 0; x &lt; 5; x++)
         fStk.push(x);

      System.out.println(&quot;Entire stack without popping:&quot;);
      System.out.println(fStk);
      
      System.out.println(&quot;\nNow pop and show:&quot;);
      while ( !fStk.isEmpty() )
         System.out.println(fStk.pop());
         
      System.out.println();
   }
 }
 
 /* -------------------- RUN -------------------------
Entire stack without popping:
4.0
3.0
2.0
1.0
0.0


Now pop and show:
4.0
3.0
2.0
1.0
0.0
 --------------------------------------------- */</pre>

	<p> On top of everything else, can you see how we no longer have to play games with   formatting our <em><strong>objects</strong></em> for console output?  Because they have <strong>toString()</strong> <em><strong>methods</strong></em> the console output uses them implicitly.  Note that we used the   wrapper class <strong>Float</strong> rather than the <strong><em>primitive</em> float</strong>, when   instantiating a <strong>float</strong> stack.  This is necessary and discussed in   further detail in the next module.</p>
	<p> And what if we want a <strong>Stack</strong> of <strong>Strings</strong>?  Unlike our old way of doing   things, we can do it with a few keystrokes:</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      String x;
      Stack&lt;String&gt; sStk = new Stack&lt;String&gt;();

      // build the stack
      for (x = &quot;HI&quot;; x.length() &lt; 15; x += &quot; !&quot;)
         sStk.push(x);
      
      System.out.println(&quot;\nPop and show:&quot;);
      while ( !sStk.isEmpty() )
         System.out.println(sStk.pop());
         
      System.out.println();
   }
 }
 
 /* ------------------------ RUN ----------------------
 
Pop and show:
HI ! ! ! ! ! !
HI ! ! ! ! !
HI ! ! ! !
HI ! ! !
HI ! !
HI !
HI

----------------------------------------------------- */</pre>

	<p> Now,<em> that&apos;s</em> useful.  And easy-to-use.</p>
</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_9a_4.html -->



<a name="72_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - Deeper Into Class Generics</h1>
	<h2>9A.4.1 More on Generics Classes</h2>
	<p>Now that we have seen an example of a <strong>generic</strong>, let&apos;s review and   expand our understanding of these things.</p>
	<p>Suppose we write a <strong>queue</strong> of <strong>Galaxies</strong> (not a <strong>Collections Queue</strong>,   but our own <em><strong>custom</strong></em> <strong>queue</strong>) in a class we call <strong>QGalaxy</strong>,   and later want a <strong>queue</strong> of <strong>Cards</strong>.   Before we had <strong>generics</strong> we might have taken the <strong>QGalaxy</strong> and converted   it to a <strong>queue</strong> of <strong>Cards,</strong> manually, using copy/paste then changing the name of the new class to <strong>QCard</strong>, doing a global search-and-replace on the word <strong>Galaxy</strong>, replacing it with <strong>Card</strong>, cleaning up any other code manually that   is not applicable to <strong>Cards</strong>.  Not good.</p>
	<p><strong>Generics</strong> have allow us to work smarter. We now know to implement a generic <strong>Queue</strong> by using special notation which (as we saw in our <strong>Revealer </strong>and<strong> Stack</strong>)  includes   a <strong><em>type parameter</em></strong> (usually <strong>E</strong>). <strong>E</strong> can be replaced with an actual type when we are ready to apply our <strong>generic</strong> to a specific class like <strong>Card</strong>.  Thus, if we make a <strong> generic</strong>, <strong> Queue</strong>, we can later apply it to the <strong>Card</strong> class with notation like <strong>Queue&lt;Card&gt;</strong>, and if we want a <strong>queue</strong> of <strong>Galaxies</strong>, we   can   likewise declare that using the notation <strong>Queue&lt;Galaxy&gt;</strong>. If we ever   need to modify the implementation of our generic <strong>Queue,</strong> the changes   will be reflected in the classes <strong>Queue&lt;Galaxy&gt;</strong>, <strong>Queue&lt;Card&gt;</strong>,   and any other <strong>Queue</strong> classes that we might declare using <strong>Queue&lt;Our_Class&gt;</strong>.</p>
	<p> <img align="left" alt="scenic flowers" border="2" height="308" hspace="30" src="./CS 1B Module 9A Section 4_files/cs_C_common_16.jpg" vspace="3" width="410"/></p>
	<h2>9A.4.2 Defining a Generic Class</h2>
	<p>To reiterate, a generic class definition looks like a regular class definition, except you   would follow the class name with the notation &quot;<strong>&lt;E&gt;</strong>&quot;.</p>
	<p><strong>E</strong> is a <em><strong>type parameter</strong></em> and it holds the place of the   specific types that we will ultimately use. Think   of the <strong>E</strong> as you would a function&apos;s <em><strong>formal parameter</strong></em>.    You use it in the definition with the understanding that the actual value (a <em> <strong>type argument</strong></em> like <strong>Float</strong> or <strong>Card</strong>) will be provided when the user <em>invokes</em> or <em><strong>instantiates</strong></em> the <strong> generic</strong>.  The programmer who uses this <strong>generic</strong> can provide any   class in place of <strong>E</strong> (but <em>not</em> any primitive type like <strong>int</strong> or <strong>double</strong>).    Within the <em>definition</em> of the generic methods and data, however, we just use the formal parameter, <strong>E</strong>.</p>
	<div class="important"> Special   		Note On Primitives 
			<p> Generics   		require <em><strong>class</strong></em> types, not <em><strong>primitive</strong></em> types,   		inside the angled brackets.  So <strong>Stack&lt;int&gt;</strong> is illegal. while <strong>Stack&lt;Card&gt;</strong> is fine.   Java allows you to get around   		this restriction somewhat by using &quot;<em><strong>wrapper classes&quot;</strong></em>.    		So, if you have defined a generic class, say <strong>Stack</strong>, and you want   		to instantiate a <strong>Stack</strong> object around a <em><strong>primitive</strong></em> type, like <strong>int</strong>, you could do so by using the primitive&apos;s   		associated wrapper class.  <strong>int</strong>&apos;s wrapper class is called <strong> Integer</strong>, so you instantiate the <strong>Stack</strong> like so:  </p>

<pre>Stack&lt;Integer&gt; stk = new Stack&lt;Integer&gt;();
</pre>

			<p>After this, you can use primitive <strong>ints</strong> in your method calls, because Java supports &quot;<em><strong>autoboxing</strong></em>&quot;,   		which means it automatically will package the <strong>int</strong> into an <strong> Integer</strong> object (behind the scenes) before passing it to the methods   		like <strong>push()</strong>.  Here&apos;s an example:</p>

<pre>   for (int x = 35; x &lt; 70; x += 5)
      stk.push(x);
</pre>

			<p><em><strong>Autoboxing</strong></em> applies to method   		calls, not generic instantiation, so you must use the generic <strong>Integer</strong> when instantiating, but you can use primitive <strong>int</strong>s when calling   		methods.</p>
			<p>In short - <em><strong>generics</strong></em> require a <em> <strong>non-primitive</strong></em> type parameter, but you can use wrapper classes when instantiating a generic object and then apply the methods directly to <strong>primitives</strong> later on.</p>
			</div>
	<p>The type parameter is   used almost as it would be if <strong>E</strong> were a specific class.   For example,   consider the <strong>Node</strong> class:</p>

<pre>class Node&lt;E&gt;
{
   // class definition ...
</pre>

	<p> If we wish to declare a member of type <strong>E</strong>, we just do it:</p>

<pre>   private E data;
</pre>

	<p> If we want a function to return a reference of type <strong>E</strong>, again we do it:</p>

<pre>   public E getData()
   {
      return data;
   }</pre>

	<p> And here we can define a method that takes an <strong>E</strong> object as a parameter:</p>

<pre>   public Node(E data)
   {
      setData(data);
   }</pre>

	<p> There is a limit to this idea.  You <em>cannot</em> use <strong>E</strong> to invoke a   	<em><strong>constructor</strong></em> of type <strong>E</strong>; this is illegal:</p>

<pre>   data = new E();  // compiler error!
</pre>

	<p> The reason is subtle.  When you define a <strong><em>generic class</em></strong> using a type   parameter, <strong>E</strong>,  and present it to the compiler, a <em><strong>class</strong></em> is created   that takes the most basic class type, <strong>Object</strong>, as its fundamental type in   place of <strong>E</strong>.  Since there is no actual <strong>E</strong> yet - at least not   until you <em><strong>instantiate</strong></em> one -- the compiler doesn&apos;t know how to create an <strong>E</strong> object.  </p>
	<p> What you get when you <em><strong>instantiate</strong></em> a class like <strong> Node&lt;Float&gt;</strong> is nothing more (or less) than</p>
	<ol>
		<li>a generic <strong>Node</strong> that uses <strong>Objects</strong> (<em>not</em> <strong>Floats</strong>) as its encapsulated type,  </li>
		<li>the ability to use <strong>Float</strong> objects without<em><strong> type coercion</strong></em> when   	calling or using your <strong> Node</strong> class methods, and </li>
		<li>a type-safe error reporting mechanism that will, at compile time, reject   	non-<strong>Float</strong> operation on this <em><strong>class</strong></em>. </li>
	</ol>
	<p>Don&apos;t get me wrong - this is a lot.  But it is not the same as   implementing the class <strong>Node</strong> using actual <strong>Floats</strong> in the definition.</p>
	<p>In the last section, we created two <strong>Node</strong> classes, <strong>Stack&lt;Float&gt;</strong> and <strong>Stack&lt;String&gt;</strong>.  It provided us with compiler warnings or errors if we   attempted to use  the return value of <strong>fStk.pop()</strong> as anything but a <strong>Float (or float)</strong>, or <strong>sStk.pop()</strong> as anything other than a <strong>String</strong>.  That&apos;s good   - it helps us find errors before we run our program.  But what if we just   declared an  <em><strong>instance</strong></em> of a <strong>Stack</strong> without giving a type parameter:</p>

<pre>   Stack stk = new Stack();
</pre>

	<p> This could be interesting.  It creates a <strong>Stack</strong> of what?  We   don&apos;t have <strong>&lt; some-type </strong>&gt; after the <strong>Stack</strong> name.  The answer is that it   creates a <em><strong>Stack of Objects</strong></em>.  This means we could actually <strong> push()</strong> anything in   the <strong>Stack</strong> and <strong>pop()</strong> anything off .  Try it:</p>

<pre>      Stack stk = new Stack();
      stk.push(3.5);
      stk.push(&quot;hi dad&quot;);
</pre>

	<p>When we <strong>pop()</strong> off this <strong>Stack</strong>, however, we get no help from the   compiler if we misuse the object <strong>pop()</strong>ped.  We must type-coerce to   the correct type, and if we guess wrong, we&apos;ll get a run-time error.  You   can play with this if you like. The code is on the previous pages and all you   have to do is remove the type parameter in the instantiation.  This is a   little advanced, so the first time around you may skip it.  </p>
	<h2>9A.4.3 Using Multiple Class Parameters</h2>
	<p>We can have more than one <em><strong>class parameter</strong></em>.  Let&apos;s create a <strong>generic</strong> that   allows us to have <strong><em>ordered pairs</em></strong> of objects of different types.  For   instance, we might have ordered pairs of <strong>Integers, <font color="#008000">(3, 5), (-4, 12)</font>,</strong>  or   ordered pairs of a <strong>String</strong> and a <strong>Double <font color="#008000">(&quot;mom&quot;.   0.32), (&quot;dad&quot;, -99.32</font></strong><font color="#008000">)</font>. The idea   is that we might want different class types for the first and second component   of what we will call the <strong>OrderedPair</strong> <em><strong>class generic</strong></em>.</p>
	<p>Here is a definition of such a class.  Study it for a moment and notice   that we are allowing virtually any class to be used in each of the positions:</p>

<pre>class OrderedPair&lt;A, B&gt;
{
   private A first;
   private B second; 
   public OrderedPair()
   {
   }

   public OrderedPair(final A a, final B b)
   {
      setBoth(a, b);
   }
   public void setFirst(final A a)
   {
      first = a;
   }
   public void setSecond(final B b)
   {
      second = b;
   }
   public void setBoth(final A a, final B b)
   {
      setFirst(a);
      setSecond(b);  
   }
   public A getFirst()
   { 
      return first;
   } 
   public B getSecond()
   { 
      return second;
   } 
   public String toString()
   {
      return &quot;(&quot; + first + &quot;, &quot; + second + &quot;) &quot;;
   }
}</pre>

	<p> Here is the implementation of these <em><strong>methods</strong></em> along with a trial run.  There are   a few   things that we will discuss in a moment, but the main thing to notice is that we   use the two class parameters <strong>A</strong> and <strong>B</strong> as we would any <em><strong>formal parameters</strong></em>, placing them in   position wherever we would use an ordinary class name (besides, of course, the   special generic notation that precedes the class name and function signatures).</p>

<pre>import java.util.*;

public class Foothill
{
   public static void main (String[] args)
   {
      OrderedPair&lt;Integer, Integer&gt; intPr;
      OrderedPair&lt;String, Double&gt; mixedPr;
      
      intPr = new OrderedPair&lt;Integer, Integer&gt;(3, -59);
      mixedPr = new OrderedPair&lt;String, Double&gt;(&quot;teach&quot;, 21.96);
      
      System.out.println(&quot;Individual pairs: &quot; + intPr + mixedPr);
      
      // we can&apos;t create arrays of generics, but we can create collections
      ArrayList&lt;OrderedPair&lt;String, Double&gt;&gt; mixedPrArray 
         = new ArrayList&lt;OrderedPair&lt;String, Double&gt;&gt;();
      
      // build the mixed pair array and show
      for (int k = 0; k &lt; 10; k++)
      {
         mixedPrArray.add( 
            new OrderedPair&lt;String, Double&gt;(&quot;CIS &quot; + k , k/10.)
            );
      }
      System.out.println(&quot;Mixed Pair Array: &quot;); 
      for (int k = 0; k &lt; 10; k++)
         System.out.println( mixedPrArray.get(k));
   }
}

/* ----------------------- Run ------------------------

Individual pairs: (3, -59) (teach, 21.96) 
Mixed Pair Array: 
(CIS 0, 0.0) 
(CIS 1, 0.1) 
(CIS 2, 0.2) 
(CIS 3, 0.3) 
(CIS 4, 0.4) 
(CIS 5, 0.5) 
(CIS 6, 0.6) 
(CIS 7, 0.7) 
(CIS 8, 0.8) 
(CIS 9, 0.9) 

------------------------------------------------------- */</pre>


</div>
</div>



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_9a_5.html -->



<a name="73_"></a>


<div class="container">
<div class="content">
	<h1>Section 5 - Generic Functions</h1>
	<h2>9A.5.1 Generic Methods</h2>
	<p>Besides <em><strong>generic classes</strong></em>, Java provides another kind of <strong> generic,</strong> a  <strong><em>generic method</em></strong>.  <strong><em>Generic methods </em></strong>are written when we want to create a function that can be used with arbitrary types. For example, one can write   generic searching and sorting <strong><em>methods</em></strong><em><strong> </strong></em>that can be   used with any arbitrary type.</p>
	<p>To perform identical operations for each type of data compactly and conveniently, use <strong><em>generic method</em></strong><em><strong>s</strong></em>. You can write a single function definition. Based on the <em><strong>argument</strong></em> types provided in calls to the <em><strong>function</strong></em>, the compiler   will adapt the definition to support the type passed.</p>
	<h2>9A.5.2 Implementing (Defining) Static Generic Methods</h2>
	<p>You can define <strong>static</strong> methods that contain <em><strong>type parameters</strong></em>, i.e., <em><strong>generic methods</strong></em>,   by adding a type parameter, <strong>&lt;E&gt;</strong> before the return type.  As an example of   the simplest order, here is a <strong>static <em>method</em></strong> that prints an <em><strong>object</strong></em> of any type by   prefacing it with a phrase:</p>

<pre>   static &lt;E&gt; void showThing(E myObject)
   {
      System.out.println(&quot;Here it is :\n&quot; + myObject);
   }</pre>

	<p> This method can be called the usual way:</p>

<pre>   showThing(&quot;Hi&quot;);
   showThing(3);  // auto-boxed to Integer</pre>

	<p>And the result is the predicted:</p>

<pre>Here it is :
Hi
Here it is :
3</pre>

	<p>The following <em><strong>generic method</strong></em> <strong>loadArray(</strong>) empowers us to   to load an array with a fixed value, regardless of the type of the array, and a   second <em><strong>generic method</strong></em> <strong>printArray()</strong> sends out the array to   the screen in a specific format, again without regard for the type.</p>

<pre>public class Foothill
{
   public static void main (String[] args)
   {
      Float[] fltArray = new Float[10];
      String[] strArray = new String[10];
      
      loadArray(fltArray, new Float(-3.5));
      printArray(fltArray);
      
      loadArray(strArray, new String(&quot;Can anyone hear me?&quot;));
      printArray(strArray);
   }
   
   static &lt;E&gt; void printArray(E[] array)
   {
      System.out.println(&quot;The First International List of Loceff&quot;);
      for (int k = 0; k &lt; array.length; k++)
         System.out.println(&quot;&lt;---|&quot; + array[k] + &quot;|---&gt;&quot;);
      System.out.println(&quot;************ END LIST ***********&quot;);
  }

   static &lt;E&gt; void loadArray(E[] array, E value)
   {
      for (int k = 0; k &lt; array.length; k++)
         array[k] = value;
   }
 }

/* --------------------- Run ------------------------

The First International List of Loceff
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
&lt;---|-3.5|---&gt;
************ END LIST ***********
The First International List of Loceff
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
&lt;---|Can anyone hear me?|---&gt;
************ END LIST ***********

---------------------------------------------- */</pre>

	<h2>9A.5.3 Defining Static Methods Outside the Invoking Class</h2>
	<p>You don&apos;t have to define your <em><strong>generic</strong></em><strong> static </strong>methods within your main (<strong>Foothill</strong>) <em><strong>class</strong></em>.  In fact, sometimes   you might create a class simply to hold a few <strong>static</strong> (<em>generic</em>)   methods.  Let&apos;s see why this is good, and show an example of how it is   used.</p>
	<p>Recall a couple pages back to our <strong>Revealer</strong> class.  It was a <em> <strong>generic class</strong></em> that contained two <strong><em>instance methods</em></strong>.     We instantiated a couple <strong>Revealer</strong> objects, one <strong>Revealer&lt;Card&gt;</strong> and   one <strong>Revealer&lt;String&gt;</strong> and used those <em><strong>objects</strong></em> to dereference the desired   <em><strong>methods</strong></em>.  A little thought will lead you to the conclusion that the two <strong> Revealer</strong> <strong>objects</strong> were not really very useful components.  We only   wanted to use the <em><strong>methods</strong></em> in the <em><strong>class</strong></em>, and use them generically — i.e., apply   them to <strong>Card</strong>, <strong>String</strong> or any other type we might have a whim to   &quot;reveal&quot;.  </p>
	<p>Now that we know how to define a <em><strong>generic method</strong></em>, we can change our approach.    Make the <strong>Revealer</strong> class non-generic, but let its two member methods be <em><strong>static   generic methods</strong></em>.  If we do this, we can apply them using the class name,   <strong>Revealer</strong>, without any <em><strong>object instantiations</strong></em>.</p>
	<p>Here is the new, improved <strong>Revealer</strong>:</p>

<pre>class Revealer
{
   static public &lt;E&gt; void displayGUI(E myThing)
   {
      String report = myThing.toString();
      JOptionPane.showMessageDialog(null, report, 
            &quot;Loceff&apos;s Data Revealer&quot;, JOptionPane.PLAIN_MESSAGE);
   }
   
   static public &lt;E&gt; void displayConsole(E myThing)
   {
      String report = myThing.toString();
      System.out.println(&quot; --- Loceff&apos;s Data Revealer ---&quot;);
      System.out.println(report);
      System.out.println(&quot; ------------------------------\n\n&quot;);
   }
}</pre>

	<p> And here is the simpler <strong>main() </strong>showing how we use the class name to   dereference the static methods, <em>without any need to pass a type argument in   angled brackets</em>:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      String string1 = &quot;death of a salesman&quot;;
      String string2 = &quot;queen&apos;s gambit&quot;;
      Card card1, card2, card3;
 
 
      card1 = new Card();
      card2 = new Card(&apos;5&apos;);
      card3 = new Card(&apos;9&apos;, Card.hearts);

      Revealer.displayGUI(card1);
      Revealer.displayGUI(string1);
      Revealer.displayGUI( new Card(&apos;t&apos;,Card.clubs) );
      
      Revealer.displayConsole(card3);   
      Revealer.displayConsole(card2);
      Revealer.displayConsole(string2); 
   }
}</pre>

	<h2>9A.5.4  Restrictions on Generic Methods</h2>
	<p>So, what are the limitations and precautions about using a <strong><em>generic</em></strong><em><strong> method</strong></em>?  </p>
	<p>The first restriction is that the <em><strong>arguments</strong></em> passed to such methods must be   <em><strong>objects</strong></em>, not <em><strong>primitives</strong></em>.  However, since wrapper classes like <strong>Integer</strong> auto-wrap primitives, as needed, you normally don&apos;t even notice this problem.    In the examples above we passed in an <strong>int</strong> and <strong>double</strong> and all was well. However   inside <strong>displayInAsterisks()</strong> we have an actual <em>object</em> (replace <strong>x</strong> with <strong>x.toString()</strong> inside the method and it will run because by the time   the <strong>int</strong> gets into the function it has been auto-boxed in an <strong>Integer</strong> object.)</p>
	<p>The<em><strong> type parameter</strong></em>, <strong>E</strong>, can be used inside a generic method in very limited   contexts.  Declaring a simple reference of type <strong>E</strong> is permissible, for example:</p>

<pre>   static &lt;E&gt; void displayInAsterisks(E x)
   {
      E temp = x;
      
      System.out.println(&quot; *** &quot; + temp + &quot; ***&quot;);
   }
</pre>

	<p>However, you cannot <em><strong>instantiate</strong></em> an object of type <strong>E</strong>.  The following is   illegal:</p>

<pre>   static &lt;E&gt; void displayInAsterisks(E x)
   {
      <span style="background-color: #00FF99">E temp = new E(x);  // error</span>
      System.out.println(&quot; *** &quot; + temp + &quot; ***&quot;);
   }
</pre>

	<p>Also, you cannot access specific <em><strong>members</strong></em> of the <strong>E</strong> class, even if the <em><strong>passed object</strong></em> happens to belong to a class that has those methods.  For example, imagine a class <strong>Instructor</strong> that has a <strong>getName()</strong> method.  You can pass an <strong>Instructor</strong> object to a   generic method, but you cannot try to call <strong>getName()</strong> from inside the definition   since the compiler does not recognize <strong>E</strong> as an <strong>Instructor</strong>, but only a general <strong>Object</strong>.  The following is illegal:</p>

<pre>   static &lt;E&gt; void showNameInAsterisks(E x)
   {
      System.out.println(&quot; *** &quot; + <span style="background-color: #00FF99">x.getName()</span> + &quot; ***&quot;); <span style="background-color: #00FF99">// error</span>
   }</pre>

	<p> The reason these things don&apos;t work is that when the compiler translates a   	generic method, it replaces all occurrences of <strong>E</strong> with <strong>Object</strong> internally and uses type casts to make everything compile. So at compile   	time, you cannot do too many specific things with the <strong>E</strong> types inside   	the <em><strong>method</strong></em> — only things that apply to <strong>Object</strong>.  This hidden   	process is known as <em><strong>type erasure</strong></em>. There are some   	ways to improve this restriction, though, by putting some qualifiers or   	restrictions on the type, <strong>E</strong>, inside the function header. We&apos;ll see   	that next.</p>
	<h2>9A.5.5 Type Bounds</h2>
	<p>Imagine a base class, <strong>Resident</strong> with two accessors <strong>getName()</strong> and <strong>getID()</strong>, and a static method that takes two <strong>Resident</strong> objects and   prints them in order. Here is the signature of the static method (the   implementation is unimportant):</p>

<pre>   static void displayInNameOrder(Resident r1, Resident r2)
</pre>

	<p>If we knew that all the <em><strong>objects</strong></em> we would ever want to send to that <em><strong>method</strong></em> were <em><strong>subclasses</strong></em> of, i.e., extended from, <strong>Resident</strong>, then we could use the   <em><strong>base class methods</strong></em> <strong>getName()</strong> and <strong>getID()</strong> within its definition,   since any <em><strong>derived class</strong></em> of <strong>Resident</strong> <em><strong>inherits</strong></em> them.  So, if we had   various <em><strong>objects</strong></em> in <em><strong>derived classe</strong></em>s like <strong>Citizen</strong>, <strong>ResdientAlien</strong>, <strong> Student</strong>, <strong>Employee</strong>, etc., all of which were derived from <strong>Resident</strong>,   we could pass those <em><strong>objects</strong></em> to <strong>displayInNameOrder()</strong> and everything would   work.</p>
	<p>We would like something like that for <em>generic methods</em>.  Rarely do we   know much about the <em><strong>base classes</strong></em> of any <em><strong>objects</strong></em> we send to <em><strong>generic methods</strong></em>, but   we can demand some weak conditions from them that allow us to treat them more   specifically than just generic objects.  One of the most common things to   demand of an object passed to a generic method is that it <strong>implements</strong> <strong> Comparable</strong>.  By declaring that in the angled brackets we now have the   right to use the<strong> compareTo()</strong> method on the parameterized types, most notably the   <em><strong>method parameters</strong></em>. Here is a function that declares its type parameters   implement <strong>Comparable</strong>.  Note the syntax:</p>

<pre>   static &lt;E extends Comparable&lt;E&gt;&gt; 
   E findLargestOfThree(E x, E y, E z)
   {
      if (x.compareTo(y) &gt; 0)
         return (x.compareTo(z) &gt; 0) ? x : z;
      else
         return (y.compareTo(z) &gt; 0) ? y : z; 
   }</pre>

	<p>Now, our client can call this method on any object of a class <strong>E</strong> that   extend <strong>Comparable&lt;E&gt;:</strong></p>

<pre>   largestInt = findLargestOfThree(4, 9, -9);
   largestString = findLargestOfThree(&quot;hi&quot;, &quot;mom&quot;, &quot;87&quot;);
</pre>

	<h2>9A.5.6 Wildcards</h2>
	<p>This is all nice, but usually we are working with many different derived   classes of some base class that implements <strong>Comparable</strong> <font color="#FF0000"><em>on itself</em></font>.  The   reason the above works, is that <font color="#FF0000"><strong>Integer</strong></font> implements <strong>Comparable&lt;<font color="#FF0000">Integer</font>&gt;</strong> and <font color="#0000FF"><strong>String</strong></font> implements <strong>Comparable&lt;<font color="#0000FF">String</font>&gt;</strong>.  Indeed, we could also define our own   custom class that implements <strong>Comparable</strong> as follows, and this would work, too:</p>

<pre>class MyInt implements Comparable&lt;MyInt&gt;
{
   public int theInt;
   public MyInt(int n) { theInt = n; }
   public int compareTo(MyInt other)
   {
      return (theInt - other.theInt);
   }
}</pre>

	<p>Now, we call <strong>findLargestOfThree()</strong> on <strong>MyInt</strong> objects without any complaint:</p>

<pre>   MyInt a = new MyInt(5);
   MyInt b = new MyInt(-29);
   MyInt c = new MyInt(77);
   MyInt x;

   x = findLargestOfThree(a, b, c);</pre>

	<p>This works because the generic method signature requires that the class <strong>E   extends Comparable&lt;E&gt;</strong>, which all the above classes do.  But what   happens if we <em>derive</em> a class from <strong>MyInt</strong>.  Shouldn&apos;t the   derived objects work?  They are <strong>MyInt</strong> objects, and they can be   compared, so it seems like we should be able to pass in derived objects without   complaint.  Let&apos;s try:</p>

<pre>class SpecialInt extends MyInt
{
   public SpecialInt(int n) { super(n); }
   // etc.
}</pre>

	<p>That&apos;s the derived class. We can certainly use <strong>compareTo() </strong>on  <strong>MyInt</strong> objects.    The compiler is happy to do so:</p>

<pre>   SpecialInt a = new SpecialInt(5);
   SpecialInt b = new SpecialInt(-29);
   SpecialInt c = new SpecialInt(77);
   SpecialInt x;

   a.compareTo(b);  // no problem</pre>

	<p>But now we attempt to apply our generic function on three <strong>SpecialInt</strong> objects:</p>
	<div class="picCenter"><img alt="ide warning shot" border="1" height="152" src="./CS 1B Module 9A Section 5_files/pic_1b9_5.jpg" width="431"/></div>
	<p>Ouch. We have one of those little red circles with the white<strong> <font color="#FFFFFF"><span style="background-color:#FF0000; ">X</span></font></strong> in it. Darn.  Two questions:</p>
	<ol>
		<li><strong>What&apos;s wrong?</strong> (and how do we fix it)</li>
		<li><strong>Do we really need to do this anyway?</strong>  (Maybe we don&apos;t care   	about fixing it)</li>
	</ol>
	<p>The problem is that <strong>SpecialInt</strong> does not implement <strong>Comparable&lt;SpecialInt&gt;</strong>.    The generic declaration of<strong> findLargestOfThree()</strong> states that it requires <strong>E that extends   Comparable&lt;E&gt;</strong>.  Note the <strong>E</strong> in both places. <strong>SpecialInt</strong> <u> <em>does</em></u> extend <strong>Comparable&lt;MyInt</strong>&gt; because it is, by   inheritance, a <strong>MyInt</strong>.    But that&apos;s like saying <strong>E extends Comparable&lt;Q&gt;</strong>, and that&apos;s not what the   signature of <strong>findLargestOfThree()</strong> requires.  </p>
	<p>It seems like, in order to make the signature work on subclasses of <strong>MyInt</strong>, we would have to manually redefine <strong>compareTo()</strong> on every subclass and declare those subclasses to individually implement <strong>Comparable&lt;ON THEMSELVES&gt;</strong>,   something that is ridiculously tedious.</p>
	<p>Instead of being ridiculously tedious, Java is  ridiculously obtuse.    It offers an eye-crossing syntax to handle the situation using the wildcard character, <strong>?</strong>.  Here is how we have to prefaces the generic function (and most   others that we will define):</p>

<pre>   static &lt;E extends Comparable&lt;? super E&gt;&gt;
</pre>

	<p>Roughly, this says that the ensuing generic static method will accept as a   	type parameter any <strong>E</strong> that is a subclass of some base class that   	implements Comparable.  </p>
	<p>It&apos;s not worth a paragraph of definitions to explain the above syntax   	in detail, because whenever we use the wildcard, it will usually be in this exact format, so it   	is best to put this in a safe place and paste it when needed.  It will   	allow you to pass arrays and subclasses of type <strong>Comparable</strong>, or any   	other interface that you want your generic function to receive.</p>
	<p>Here is the entire program with all classes and generics defined:</p>

<pre>public class Foothill
{
   public static void main(String[] args)
   {
      SpecialInt a = new SpecialInt(5);
      SpecialInt b = new SpecialInt(-29);
      SpecialInt c = new SpecialInt(77);
      SpecialInt x;
      
      a.compareTo(b);

      x = findLargestOfThree(a, b, c);
 
      System.out.println(x.theInt + &quot; &quot; );  
    }
   
   static &lt;E extends Comparable&lt;? super E&gt;&gt;
   E findLargestOfThree(E x, E y, E z)
   {
      if (x.compareTo(y) &gt; 0)
         return (x.compareTo(z) &gt; 0) ? x : z;
      else
         return (y.compareTo(z) &gt; 0) ? y : z; 
   } 
}

class MyInt implements Comparable&lt;MyInt&gt;
{
   public int theInt;
   public MyInt(int n) { theInt = n; }
   public int compareTo(MyInt other)
   {
      return (theInt - other.theInt);
   }
}

class SpecialInt extends MyInt
{
   public SpecialInt(int n) { super(n); }
   // etc.
}</pre>

	<p>Do we really need to use this? .  When we do data structures in   Java (<span class="sectionOrAssignmentTitle">CS 1C</span> - the most fascinating,   and by far the most challenging of the <font color="#800080"><em><strong>A</strong></em></font>, <em><font color="#800080"><strong>B</strong></font></em>, <font color="#800080"><em><strong>C</strong></em></font> sequence) we will constantly use this in our custom made <strong>ADT</strong>s (abstract   data types).</p>
	<div class="picCenter"><img alt="scenic dock" border="2" height="308" src="./CS 1B Module 9A Section 5_files/cs_B_common_44.jpg" width="410"/></div>
</div>
</div>



<hr/>

<!--saved from url=(0082)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_3a_2.html -->



<a name="74_"></a>


<div class="container">
  <div class="content">
  		<h1>Section 2 - The Game of Life</h1>
		<h2>3A.2.1 The Game of Life</h2>
		<p>When I was just out of high school, I read   					an article about a mathematical game called <font color="#006699"><strong><em>life</em></strong></font>.  It was   					invented by a mathematician, John Horton Conway.  <font color="#006699"><strong><em>Life</em></strong></font> was not a   					game in the sense of  Xbox 360 or Wii.  It was played by   					oneself in the spirit of solitaire.  One began with a large piece of graph paper   					and placed some marks or stones in   					a few of the squares to create an <em>initial pattern <strong>or</strong> <strong>seed</strong></em>.     					After that, the rules of <font color="#006699"><em><strong>life</strong></em></font> determined what happened next.  One referred to   					<em><strong>Conway&apos;s  rules</strong></em> carefully examining each <em><strong>cell</strong></em> of the <em><strong>seed</strong></em> to figure out whether it survived, died or was reborn   					into the next generation. Thus, a series of <em>generations</em> resulted, each one arising by applying <font color="#006699"> <em><strong>life&apos;</strong></em></font>s rules to the prior generation.  Conway&apos;s   					initial research demonstrated that there were certain <em><strong> seeds</strong></em> that caused things to get boring fast (the   					entire board became empty, i.e., all white/dead), while others   					generated interesting repetitive graphics: blinkers and   					gliders.  He even offered a $50 prize to anyone who could   					prove or disprove that there was no finite initial condition that would   					grow without limit as the generations passed.  <em> Fifty bucks.</em></p>
		<p><font color="#006699"><em><strong>Life&apos;s</strong></em></font> playing   					field, called the <em><strong>universe</strong></em>, is a   					two-dimensional grid of square <strong><em>cells</em></strong>, each of   					which is in one of two possible states, <font color="#990000"><strong><em>alive</em></strong> (black or 1)</font> or <font color="#996600"><strong><em>dead</em></strong> (white or 0)</font>.   					Every <em><strong>cell</strong></em> interacts with its eight neighbors   					to determine whether it and its neighbors will survive to   					the next generation.   The rules are applied to all   					cells simultaneously in one generation, and when all the   					survivors are computed, the old pattern is removed and   					replaced by survivors (and children) of the next generation.    					The rules are simple:</p>
		<ol>
			<li>Any <font color="#990000"><em><strong>live</strong></em></font> cell with two or three <em><font color="#990000"><strong>live</strong></font></em> neighbors lives on to the next generation (ideal life   						support).</li>
			<li>Conversely, if it has zero, one or four-or-more <font color="#990000"><em><strong>live</strong></em></font> neighbors, it <font color="#996600"><em><strong>dies</strong></em></font> (death from loneliness or overcrowding).</li>
			<li>Any <font color="#996600"><em><strong>dead</strong></em></font> cell with exactly three <font color="#990000"><em><strong>live</strong></em></font> neighbors becomes a <em><font color="#990000"><strong>live</strong></font></em> cell (birth).</li>
		</ol>
		<p>Here are some examples taken from Martin Gardner&apos;s 1970   					Scientific American article about <em> <font color="#006699" size="4">life</font></em>.</p>
<table align="center" cellpadding="10">
			<tbody><tr>
				<th> </th>
				<th colspan="3">generations</th>
				<th>ultimate result</th>
			</tr>
			<tr>
				<th> </th>
				<th>0 (seed)</th>
				<th>1</th>
				<th>2</th>
				<th> </th>
			</tr>
			<tr>
				<th>a</th>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="black box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="black box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="black box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="black box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td>dies</td>
			</tr>
			<tr>
				<th>b</th>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td>dies</td>
			</tr>
			<tr>
				<th>c</th>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td>dies</td>
			</tr>
			<tr>
				<th>d</th>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"> </td>
				<td>block (stable)</td>
			</tr>
			<tr>
				<th>e</th>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td align="center"><table border="1" cellpadding="0" cellspacing="0">
						<tbody><tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_1.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
						<tr>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
							<td><img alt="box" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_2.gif"/></td>
						</tr>
				</tbody></table></td>
				<td>blinker (period 2)</td>
			</tr>
		</tbody></table>
		
		<p>Today, we can animate gifs to see how the generations   					evolve.  Here is the <em><strong>blinker</strong></em>, example <strong> e</strong>, above:</p>
		<p> <img alt="box" border="0" height="82" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_4.gif" width="82"/></p>
		<p>Here is an example of a <em><strong>glider</strong></em> — a pattern that moves   					diagonally, forever.   Notice that every four generations, the pattern has moved itself one step   diagonally to the lower-right:</p>
		<p> </p>
		<div class="fullImageLink" id="file"> <img alt="box" border="0" height="84" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_3.gif" width="84"/><br/>
		 </div>

	<p>And about that $50 prize?  Within a year a mathematician, Bill Gosper,   found a seed that resulted in a bullet being ejected every 30 generations, thus   growing without bound.  It is called <em><strong>Gosper&apos;s Glider Gun</strong></em>:</p>
	<p> <img alt="box" border="0" height="180" src="./CS 1and2B Module 3A Section 2_files/pic_1and2b3_5.gif" width="250"/></p>
	<h2>3A.2.2 The Significance of Life</h2>
	<p>In case you think that the behavior of the game of <em><font color="#006699">life</font></em> is nothing more than   a primitive animation, reminiscent of early and clunky video games, you have not   yet gotten the point.  These cute movies are not something that a graphic   designer and animator put together.  They are the direct result of a few   simple <em><strong>rules</strong></em> and a <em><strong>seed</strong></em> — and nothing more.  In the case of <strong><em><font color="#006699">life</font></em></strong>, the   rules are symbolic of a few crude observations that biologists have made about   populations:  If things get either too crowded or too barren, individuals   tend to die.  If they are in the sweet middle ground, they tend to survive.    And there is usually a special condition that creates birth.  (Lest you think that the <em><strong>three</strong></em> neighbors needed to generate a new live cell is wrong — that it should be <em> <strong>two</strong></em> — don&apos;t forget that no one said that the three neighbors are the   parents. Conway&apos;s rule only says that, in general, it is more likely that a   child will result when there are three individuals in close proximity. And   indeed, maybe this is true.  If you randomly group individuals into twos,   you are less likely to get the ingredients for procreation than if you group   them into threes. Jests aside, what we are saying is that there is an ideal   condition that will result in a new member of the group, and this condition is   slightly narrower than the condition for survival of an existing member.)</p>
<img align="left" alt="box" border="2" height="207" hspace="9" src="./CS 1and2B Module 3A Section 2_files/cs_B_common_21.jpg" vspace="3" width="300"/>
	<p>Computational digital modeling of complex natural behavior turns out to be   very common in research and industry.  <font color="#006699"><em><strong>Life</strong></em></font> represents a simple and easily visualized example of this operation, but not the   only, nor even the first, one. Why it captured the imagination of intellectuals   and mathematical enthusiasts when it was introduced while other computational   inventions were confined to the specialists in the field probably had to do with   a combination of things. It had a simple name, it was easy to explain, it   roughly represented population dynamics and human behavior and it was   popularized in a magazine that was read by a larger, lay population (<strong>Scientific   American</strong>).  Also, let&apos;s not forget that Conway offered fifty bucks to   anyone who could settle an assertion about it.</p>
	<p>The game of <font color="#006699"><em><strong>life</strong></em></font> was one of many theoretical inventions which can be traced   back to Alan Turing and John von Neumann, two of the founding fathers of modern theory of computation in the   1940s.  Variously called &quot;self-replicating systems&quot; or &quot;cellular automata&quot;   (<strong><font color="#990000">CA</font></strong>), the field studies how individual building blocks like the binary cells of <font color="#006699"><em><strong>life</strong></em></font> and a simple rule-set can generate larger, more complex structures that   have properties that neither the cells themselves, nor the inventor of their   rules could have anticipated.  </p>
	<p><font color="#990000"><strong>CA</strong></font> (I&apos;ll start using the abbreviation for   cellular automata from here out) are mathematical models characterized by the requirement that time   and space are discrete quantities that can take on only a   finite number of values.  This may seem like an unrealistic model of   the &quot;obviously&quot; continuous  universe in which we live, but ever since Max Planck&apos;s initial work that spawned quantum   physics over 100 years ago, there   has been increasing evidence that at the smallest levels, such assumptions may   be correct.</p>
	<p>The developer of the popular visualization software <em><font color="#800080">Mathematica</font></em>, Stephan   Wolfram, advanced the field of <font color="#990000"><strong>CA</strong></font> in the 1980s and &apos;90s demonstrating that there   were both highly ordered and impossibly chaotic systems that could emerge from   elementary <font color="#990000"><strong>CA</strong></font> models.  More recently, Melanie Mitchell is among many   researchers who have added significantly to the body of knowledge in <strong> <font color="#990000">CA</font></strong>.    We&apos;ll use her elegant rule description in our example of 1-dimensional <strong> <font color="#990000">CA</font></strong>,   coming up next.</p>
	<p>There are many fields which are closely related to <font color="#990000"><strong>CA</strong></font> but which each have a   unique emphasis and application.  You can do a search on these areas by Googling phrases like <font color="#990000"><em>genetic algorithms</em></font>, <font color="#990000"> <em>emergence</em></font> and <font color="#990000"><em>artificial life</em></font>.    A somewhat more distant cousin, but one that has some overlap with <font color="#990000"><strong>CA</strong></font> is that of <font color="#990000"><em>artificial intelligence</em></font>, especially the sub-field of <font color="#990000"><em>artificial neural networks</em></font>.</p>
	<p>The applications of <font color="#990000"><strong>CA</strong></font> and its related fields are varied.  They include:</p>
	<ul>
		<li>Simulation of biological systems</li>
		<li>The design of massively parallel computers</li>
		<li>Graphic design in the visual and performing arts</li>
		<li>Pattern recognition</li>
		<li>Machine intelligence</li>
		<li>Modeling phenomena such as
			<ul>
				<li>the dispersal patterns of forest fires</li>
				<li>occurrence of certain crime patterns in urban areas</li>
				<li>competition between species</li>
				<li>plankton growth</li>
				<li>animal behavior</li>
			</ul>
		</li>
	</ul>
	<p>Soon, we will actually write a program that has all the characteristics of   these more complex <font color="#990000"><strong>CA</strong></font> algorithms yet is surprisingly simple, especially when   formulated in the context of OOP.  Before doing so, we&apos;ll need to acquire   some new programming tools: binary number representations and bit-wise   operators.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0082)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_3a_3.html -->



<a name="75_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 3 - Binary and Hex</h1>
	<h2>3A.3.1 The Binary Number System</h2>

	<p>At the machine level, all data are stored as <em><strong>binary representations</strong></em>.  In   order to work with data at this level, we need to understand what a binary   representation is.</p>
	<h3>Decimal or Base 10</h3>
	<p>We begin by examining the numbers we know, ordinary decimal numbers.    Pick a number, any number.  <strong>3095</strong> you say?  Fine.  While we   think we know what this number means, we might balk if asked to explain it.    One explanation is that each digit, the <strong>3</strong>, the <strong>0</strong>, the <strong>9</strong> and   the <strong>5</strong> represent a portion, or contribution, of/to the full number.    Working <u><em>from right-to-left</em></u>:</p>
	<ul>
		<li>There are <strong>5</strong> 1s in the number 3095, contributing the number 5.</li>
		<li>There are <strong>9</strong> 10s in the number 3095, contributing the number 90.</li>
		<li>There are <strong>0</strong> 100s in the number 3095, contributing the number 0 <font color="#FF0000">(see NOTE).</font></li>
		<li>There are <strong>3</strong> 1000s in the number 3095, contributing the number   	3000.</li>
	</ul>
	<div class="important"> Note 
		<p>When we say &quot;there are <strong>zero</strong> <strong>100</strong>s in <strong>3095&quot;</strong>,   we are not denying that there are lots of <strong>100</strong>s making up the number <strong>3095</strong>.    We mean, rather, that if you <em>first</em> count  all the larger powers  of 10 (cubes or larger) — the thousands, the 10 thousands, etc. <em><u></u></em>— then there are no 100s left over.  After you account for the three (3) thousand (the total of the larger-than-squared powers of 10 in <strong>3095</strong>) there is only a <strong>95</strong> left   over, and this does not contain any <strong>100</strong>s.</p>
	</div>
<p>If you add it all up, you get:</p>
	<p align="center">5*1 + 9*10 + 0*100 + 3*1000 = (no surprise) 3095.</p>
	<p>So you see,  the position of each digit, when measured from the right end   of the number, represents an increasing<em><strong> power of 10</strong></em>. </p>
	<div class="wideTable">
		<table>
			<caption>
				3095 as Properly Intepreted in Decimal
				</caption>
			<tbody><tr>
				<td>10<sup>4 </sup>(and   			beyond)</td>
				<td>10<sup>3</sup></td>
				<td>10<sup>2</sup></td>
				<td>10<sup>1</sup></td>
				<td>10<sup>0</sup></td>
			</tr>
			<tr>
				<td>All 0, so no need to write leading 0s</td>
				<td>3</td>
				<td>0</td>
				<td>9</td>
				<td>5</td>
			</tr>
			<tr>
				<td>10 thousands place (and beyond)</td>
				<td>thousands place</td>
				<td>hundreds place</td>
				<td>tens place</td>
				<td>1s place</td>
			</tr>
		</tbody></table>
</div>
	<p>(In case you didn&apos;t know, 10<sup>0</sup> =   (<em>anything</em> non-zero)<sup>0</sup> = 1.)</p>
	<p>We call this <em><strong>base 10</strong></em> because each position of a number   represents a power of 10, acting as a base to the exponent.  You don&apos;t even   think about it because you&apos;ve been using base 10 since you were old enough to   ask for a new toy.</p>
	<h3>Binary or Base 2</h3>
	<p>At the microscopic level, computer memory consist of <em>bits</em>, each of   which can be in only one of two states (these are usually one of two charge   states in a very tiny capacitor).  This means we can&apos;t store numbers in   decimal format because we cannot represent a 5 vs. a 3 vs. a 9 in a <strong><em>single bit</em></strong>. We can   only represent two values: 0 or 1.  This is why computers use binary   numbers.</p>
	<p>The binary system is like an super-simple decimal system. Instead of ten   digits, 0-9, there are only two digits, 0 and 1.  Each position of a binary   number represents a power of 2.  So, the number 1001 can be understood   using the same table as above, but using 2 as a base, rather than 10.    Again, <u>from right-to-left:</u></p>
	<ul>
		<li>There is <strong>1</strong> 1 in the number 1001, contributing the number 1.</li>
		<li>There are <strong>0</strong> 2s in the number 1001, contributing the number 0.</li>
		<li>There are <strong>0</strong> 4s in the number 1001, contributing the number 0.</li>
		<li>There is <strong>1</strong> 8 in the number 1001, contributing the number 8</li>
	</ul>
	<p>If you add it all up, you get:</p>
	<p align="center">1*1 + 0*2 + 0*4 + 1*8 = 9.</p>
	<p>So, in the <em><strong>binary system</strong></em> <strong>1001</strong> represents the number <strong>9</strong> (<u><em><strong>not</strong></em></u> the number <em>one thousand and one</em>).  Here is the tabular   representation:</p>
	<div align="center">
		<div class="wideTable">
			<table>
			<caption> 9 Represented in Binary</caption>
				<tbody><tr>
					<td>2<sup>4</sup>(and   			beyond)</td>
					<td>2<sup>3</sup></td>
					<td>2<sup>2</sup></td>
					<td>2<sup>1</sup></td>
					<td>2<sup>0</sup></td>
					</tr>
				<tr>
					<td>All 0, so no need to write leading 0s</td>
					<td>1</td>
					<td>0</td>
					<td>0</td>
					<td>1</td>
					</tr>
				<tr>
					<td>16s place (and beyond)</td>
					<td>eights place</td>
					<td>fours place</td>
					<td>twos place</td>
					<td>1s place</td>
					</tr>
			</tbody></table>
		</div>
	</div>
	<p>We usually call the places or positions in a binary number <em><strong>bits</strong></em>.    Because we only get to use a 0 or 1 in each <em>bit</em>, it takes more digits to   represent the same number in binary than it does in decimal. For example the   number 129 in binary requires eight bits:</p>
	<p align="center">129 decimal = 10000001 binary</p>
	<p>This is easily seen by noticing that the eighth place from the right is the   128s place (start with 1 and double it 7 times).  So the number is 1*128 +   1 = 129.</p>
	<p>Eight bits has a special name in computation: the <em>byte</em>. </p>
	<p>Here are some binary and decimal equivalents:</p>
	<div align="center">
		<div class="narrowTable">
			<table>
				<caption> Some Binary-Decimal Equivalents </caption>
				<tbody><tr>
					<td align="right" width="200">decimal</td>
					<td align="right" width="200">binary</td>
					</tr>
				<tr>
					<td align="right" width="200">3</td>
					<td align="right" width="200">11</td>
					</tr>
				<tr>
					<td align="right" width="200">21</td>
					<td align="right" width="200">10101</td>
					</tr>
				<tr>
					<td align="right" width="200">32</td>
					<td align="right" width="200">100000</td>
					</tr>
				<tr>
					<td align="right" height="26" width="200">137</td>
					<td align="right" height="26" width="200">10001001</td>
					</tr>
				<tr>
					<td align="right" width="200">255</td>
					<td align="right" width="200">11111111</td>
					</tr>
			</tbody></table>
		</div>
		<h2 align="left">3A.3.2 Hexadecimal Notation</h2>
	</div>
	<h3>Hexadecimal or Base 16</h3>
	<p>In base 16, also called <em><strong>hexadecimal</strong></em>, each position represents a power of 16.    That means we need 16 digits for each place.  Of course the digits 0-9 are   good for the first 10 but what about the next six?  We use the characters <strong>A</strong> - <strong>F</strong>.  So <strong>A</strong> represents 10, <strong>B</strong> = 11, <strong>C</strong> =   12, and so on up to <strong>F</strong> = 15.  This means that we can use fewer   positions in hex to represent the same number in decimal.  For example <strong>D</strong> (hex) = 13 (decimal).  And <strong>FFF</strong> (hex) = 4095 (decimal).</p>
	<p>The <em><strong>hexadecimal</strong></em> number (or <em><strong>hex</strong></em> number, for short) <strong>2DA1</strong> can be   analyzed.   Again, <u>from right-to-left:</u></p>
	<ul>
		<li>There is <strong>1</strong> 1 in the number 2DA1, contributing the number 1.</li>
		<li>There are <strong>A (that is, 10)</strong> 16s in the number 2DA1, contributing   	the number 160.</li>
		<li>There are <strong>D</strong> (that is, 13) 256s in the number 2DA1, contributing   	the number 3328.</li>
		<li>There are <strong>2</strong> 4096s in the number 2DA1, contributing the number   	8192</li>
	</ul>
	<p>If you add it all up, you get:</p>
	<p align="center">1*1 + A*16 + D*256 + 2*4096 = 11681.</p>
	<p>So, in the hexadecimal system 2DA1 represents the number 11681.  Here is   the tabular representation:</p>
	<div class="wideTable">
		<table>
			<caption>
				2DA1 Interpreted as Hex
				</caption>
			<tbody><tr>
				<td>16<sup>4</sup>(and   			beyond)</td>
				<td>16<sup>3</sup></td>
				<td>16<sup>2</sup></td>
				<td>16<sup>1</sup></td>
				<td>16<sup>0</sup></td>
			</tr>
			<tr>
				<td>All 0, so no need to write leading 0s</td>
				<td>2</td>
				<td>D</td>
				<td>A</td>
				<td>1</td>
			</tr>
			<tr>
				<td>65,536s place (and beyond)</td>
				<td>4096 place</td>
				<td>256s place</td>
				<td>16s place</td>
				<td>1s place</td>
			</tr>
		</tbody></table>
</div>
	<p>Sometimes programmers use <em><strong>hex</strong></em> when they really want to enter a <em><strong>binary number</strong></em>,   because <em><strong>hex</strong></em> is easier on the eyes.  It is easy to convert a <em><strong>binary</strong></em> number   to a <em><strong>hex</strong></em> and back:  just group the binary number into clumps of 4 digits:</p>
	
    <p>   1010 0011 0111 1000 binary = A 3 7 8 hex</p>
	<p>You can write a hex literal in C++ and Java using the prefix <strong>0x</strong> before the   number:</p>

<pre>   int x = 0x2DA1;  // the decimal value happens to be 11681 as we saw
   int y = 0xA378;  // the binary value happens to be 1010001101111000 as we saw
  // now print x and y to see the decimal values 
</pre>

	<p>Note that we are not discussing <em><strong>hex</strong></em> or <em><strong>bin</strong></em> <em><strong>output</strong></em>, so the result of the   output will be decimal.</p>
	<p>We won&apos;t use <em><strong>hex</strong></em> in what follows, but it is important to know that it is seen   and needed in programming frequently.</p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0082)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_3a_5.html -->



<a name="76_"></a>


<div class="container">
  <div class="content">
  	<h1>Section 5 - Cellular Automata</h1>
  	<h2>3A.5.1 1D Cellular Automata</h2>
	<p><em><strong><font color="#006699">Life</font></strong></em> is an example of a <em><strong>2D CA</strong></em> (<strong>Two-Dimensional </strong> <strong>C</strong>ellular <strong>A</strong>utomaton)   because it uses input and output on a 2D grid.    However, we can get all the adrenaline-pumping,   heart-pounding action of <font color="#006699"><strong><em>l</em></strong><em><strong>ife</strong></em></font> with a   fraction of the complexity by implementing a <em><strong>1D CA</strong></em> (<strong>One</strong> <strong>D</strong>imensional <strong>C</strong>ellular <strong>A</strong>utomaton). This   suits our lesson plan because we have been covering <em><strong>one   dimensional arrays</strong></em>.  Not only that, but we can display   our <em><strong>1D arrays</strong></em> a-row-at-a-time, stacking them up, so to speak,   so as to build up a <em><strong>2D pattern</strong></em>.</p>
	<p>In one dimension, each generation exists as a linear <em><strong>row</strong></em> of <em><strong>cells</strong></em>, each <em><strong>cell</strong></em> being either <strong>on</strong> (<em><strong>alive</strong></em> or <strong>1</strong>) or <strong>off</strong> (<em><strong>dead</strong></em> or <strong>0</strong>).  (Since we are not really going to emulate <font color="#006699"><em><strong>life</strong></em></font>, we will use <em><strong>on</strong></em> or <strong>1</strong> rather than <em><strong>alive</strong></em>,   and <em><strong>off</strong></em> or <strong>0</strong> rather than <em><strong>dead</strong></em>.)  In a   console application, we can also represent the <em><strong>row</strong></em> as a <em><strong>1D array</strong></em> of <em><strong>characters,</strong></em> or a <strong>string</strong>, with a <strong></strong>blank, <strong class="codeInLine"> </strong> for <strong>0</strong> and an <strong>asterisk, <span class="codeInLine">*</span>,</strong> for <strong>1</strong>.  So in our pictures and   discussion, I will use <font class="codeInLine" color="#000080"><em> </em></font> and<font class="codeInLine" color="#000080"> <em>*</em></font> interchangeably with <font color="#000080"><strong><em>off</em></strong> and <strong><em>on</em></strong></font> or <font color="#000080"><em><strong>0</strong></em> and <strong> <em>1</em></strong></font>, respectively.</p>
	<p>Here are three random (and   unrelated)   <em><strong>generations</strong></em> for a possible <em><strong>1D CA</strong></em>:</p>
<pre>   &quot;**  *   ** ***  ***   ***   **  **  * * * ******     **&quot;

   &quot;                          *                            &quot;

   &quot; ******  ******  ****** * * * * ** **      ***      *  &quot;
</pre>

	<p>Any of these three <em><strong>generations</strong></em> might be a <em><strong>seed</strong></em> for a <em><strong>1D CA</strong></em> or they might arise as a result of <em><strong>applying</strong></em> a <em><strong>rule</strong></em> to a <em><strong>previous generation</strong></em> of some <em><strong>1D CA</strong></em>.  As usual, all of the <em><strong>cells</strong></em> update their state depending on the   states of their <em><strong>neighbors</strong></em>. The state of a particular <em><strong>cell</strong></em> in the <em><strong>current generation</strong></em> is determined by the <em><strong>states</strong></em> of  </p>
	<p>
    </p><ul>
    <li>the <strong><em>cell</em></strong>, <strong><em>itself</em></strong>,  </li>
    <li>its <em><strong>left neighbor</strong></em>, and </li>
    <li>its <em><strong>right   neighbor</strong></em>,</li>
    </ul>
	<p></p>
	<p>all three values read from the <em><strong>previous   generation</strong></em>.  For example, let&apos;s say that the cell (named <font color="#FF0000"><strong>Bob</strong></font>) is <u><strong>on</strong></u>.  To <font color="#FF0000"><strong>Bob&apos;s</strong></font> left, <font color="#008000"><strong>Frank</strong></font> is also <em><strong>on</strong></em>,   and to <font color="#FF0000"><strong>Bob&apos;s</strong></font> right, <font color="#0000FF"><strong>Shelly</strong></font> is <em><strong>off</strong></em>.  Then we need to   know what <font color="#FF0000"><strong>Bob</strong></font> will be in the next generation. Of course,   this depends on the <em><strong>rule</strong></em> we are using.  </p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="2" cellspacing="2">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><strong><font color="#008000">Frank (On)</font></strong></td>
				<td align="center" bgcolor="#000000"><strong><font color="#FF0000">Bob (On)</font></strong></td>
				<td align="center" bgcolor="#FFFFFF"><strong><font color="#0000FF">Shelly (Off)</font></strong></td>
			</tr>
			<tr>
				<td> </td>
				<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
				<td> </td>
			</tr>
			<tr>
				<td> </td>
				<td align="center" bgcolor="#CCFF99"><font color="#FF0000"><strong>Bob?</strong></font></td>
				<td> </td>
			</tr>
		</tbody></table>
	</div>
	<p></p>
	<p>But let&apos;s say that we happen to be using a <em><strong>rule</strong></em> that   tells <font color="#FF0000"><strong>Bob</strong></font> to turn-<strong>Off</strong> in response to this.  We can   represent this as follows:</p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="2" cellspacing="2">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><strong><font color="#008000">On</font></strong></td>
				<td align="center" bgcolor="#000000"><strong><font color="#FF0000">On</font></strong></td>
				<td align="center" bgcolor="#FFFFFF"><strong><font color="#0000FF">Off</font></strong></td>
			</tr>
			<tr>
				<td> </td>
				<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
				<td> </td>
			</tr>
			<tr>
				<td> </td>
				<td align="center" bgcolor="#FFFFFF"><strong><font color="#FF0000">Off</font></strong></td>
				<td> </td>
			</tr>
		</tbody></table>
	</div>
	<p> Or, in terms of <strong>1</strong>s and <strong>0</strong>s:</p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
				<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
				<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
			</tr>
			<tr>
				<td> </td>
				<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
				<td> </td>
			</tr>
			<tr>
				<td> </td>
				<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
				<td> </td>
			</tr>
		</tbody></table>
	</div>
	<p>And if we were using  <em><strong>blanks</strong></em> and <em><strong>asterisks</strong></em>, we could represent it as:</p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
			<tbody><tr>
				<td align="center" bgcolor="#FFFFFF"><strong>*</strong></td>
				<td align="center" bgcolor="#FFFFFF"><strong>*</strong></td>
				<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF">  </font></td>
			</tr>
			<tr>
				<td> </td>
				<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
				<td> </td>
			</tr>
			<tr>
				<td> </td>
				<td align="center" bgcolor="#FFFFFF"><strong> </strong></td>
				<td> </td>
			</tr>
		</tbody></table>
	</div>
	<p>Now, <font color="#FF0000"><strong>Bob&apos;s</strong></font> [<font color="#008000">on</font>-<font color="#FF0000">on</font>-<font color="#0000FF">off</font>]   environment from the <em><strong>previous generation</strong></em> is just one of   eight possible <em><strong>states</strong></em> in which <font color="#FF0000">Bob</font> might   find himself.  In order to have a complete <em><strong>rule-set</strong></em> for   our <strong>CA</strong>, we&apos;d need to know the outcomes for <em><strong>all eight</strong></em> possibilities.  After selecting seven other <em><strong>rules</strong></em> to go along   with the one above, we would have a<em><strong> complete rule-set</strong></em> for this particular  <em><strong>CA</strong></em>. It can be shown in a table as follows   (we&apos;ll use <strong>1</strong>s and <strong>0</strong>s):</p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="7" cellspacing="2">
			<tbody><tr>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
			</tr>
		</tbody></table>
	</div>
	<p>Now we have the<em><strong> complete rule for this particular 1D   automaton</strong></em>.  For example, what if, in a given   generation, <font color="#FF0000"><strong>Bob&apos;s</strong></font> environment is described by <font color="#008000">off</font>-<font color="#FF0000">on</font>-<font color="#0000FF">on</font> (<span class="codeInLine"> **</span> or <strong>0<font color="#FF0000">1</font>1</strong>).  What is <strong> <font color="#FF0000">Bob</font></strong> in the next generation?    Look up and find <strong>0<font color="#FF0000">1</font>1</strong> in the top row of the   <em><strong>rule table</strong></em>.  It is the<em><strong> fifth triplet</strong></em> from the   <em><strong>left</strong></em>, and we see, by looking at the result directly below that <em><strong>triplet</strong></em>, the output for <font color="#FF0000"><strong>Bob</strong></font> is <font color="#FF0000"><strong>1</strong></font> or <span class="codeInLine">*</span>.</p>
	<p>Remember, I have chosen only one <em><strong>rule</strong></em>, somewhat at random, by picking <em><strong>outputs</strong></em> for each of the eight possible combinations of <em><strong>inputs</strong></em>.</p>
	<p>Notice that the <em><strong>triplet</strong></em> at the far right of this table tells us how to   respond if the <em><strong>input</strong></em> is <strong>000</strong>.  Looking immediately left in that same   table, we see the rule&apos;s <em><strong>output</strong></em> for the   <em><strong>input triplet</strong></em> <strong>001</strong>.  Left a little more gives the rule&apos;s response to   an input of <strong>010,</strong> and so on, until we get to the <em><strong>far left</strong></em> where we have the   <em><strong>rule&apos;s output</strong></em> for <strong>111</strong>.  If we agree that we will <em>always</em> use this   arrangement when describing a <em><strong>rule</strong></em>, <em>we don&apos;t even need   the top rows</em>.  All we need are numbers at the bottom.    So, the above <em><strong>rule</strong></em> can be described more succinctly as follows:</p>
	<pre align="center">                              0 0 0 1 1 1 1 0</pre>
	<p>Here, the <strong>0</strong> at the far right is assumed to be the output   of <strong>000</strong>.  The <strong>1</strong> to its left is assumed to be the   output of<strong> 001</strong>.  Continuing, we get to the   leftmost <strong>0</strong> which is, by agreement, the output  for the   inputs <strong>111</strong>.  This is a pretty simple way to   express the <em><strong>rule</strong></em>.</p>
	<p><em>But wait.</em> If you order now, you can get an even   more concise notation.  We see that every rule-set will   always be <em><strong>eight bits</strong></em><strong><em></em></strong> (can you tell me why?). Since each <em><strong>bit</strong></em> is either <strong>0</strong> or <strong>1</strong>, the   above <em><strong>rule</strong></em>, if interpreted as a <em><strong>binary number</strong></em>, can be   converted to its <em><strong>decimal</strong></em> equivalent.  What is that?    <strong>00011110</strong> is ... drum roll please... the <em><strong>number 30</strong></em>.  We   have just shown that if someone tells us they are using <em><strong>rule-set</strong></em> <em><strong>#30</strong></em> then we know exactly how our <strong>CA</strong> will evolve.    But what if they tell us they are using, say, rule-set <em><strong>#182</strong></em>?  Just   convert the number <em><strong>182</strong></em> to binary and build the   table.</p>
	<pre align="center">                          182 = 1 0 1 1 0 1 1 0</pre>
	<p>So, the rule will be:</p>
	<div align="center">
		<table bgcolor="#888888" cellpadding="7" cellspacing="2">
			<tbody><tr>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#000000"><font color="#808080"><strong>1</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
				<td><table bgcolor="#888888" cellpadding="2" cellspacing="2" width="50">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td> </td>
						<td align="center"><font color="#FFFF00"> <strong>↓</strong></font></td>
						<td> </td>
					</tr>
					<tr>
						<td> </td>
						<td align="center" bgcolor="#FFFFFF"><font color="#808080"> <strong>0</strong></font></td>
						<td> </td>
					</tr>
				</tbody></table></td>
			</tr>
		</tbody></table>
	</div>
	<p>This means that we can completely describe   all possible <em><strong>1D cellular automata</strong></em>.  <strong><em>Every automaton is   completely determined by a number between 0 and 255.</em></strong>  That number   gives the <em><strong>rule-set</strong></em> for propagating each <em><strong>cell</strong></em> to its new value in the <em><strong>next   generation</strong></em>.  This efficient codification for the <strong>256</strong> possible <em><strong>1-D cellular   automata</strong></em> was initially devised by <em><strong>Melanie Mitchell</strong></em>, one of the most active   contributors to the fields of cellular automata and <em><strong>genetic algorithms</strong></em> in recent   years.</p>
	<p><strong>Qualification:</strong>  In fact, we have been dealing with a   special type of <em><strong>1D CA</strong></em>.  Our<em> <strong>CA</strong></em>s are <em><strong>1D</strong></em> <em>and</em> have the following two additional constraints:</p>
	<ol>
		<li>Each cell only has <em><strong>two possible states</strong></em>, 1 or 0 (on   	or off), and</li>
		<li>Each cell&apos;s state is determined only by <strong>it and its   	two closest neighbors</strong>.</li>
	</ol>
	<p>It is for these kinds of <em><strong>CA</strong></em>, only, that we can assert that   a single number from <strong>0</strong> to <strong>255</strong> completely describes the <em><strong>CA</strong></em>.  In general <em><strong>CA theory</strong></em>, there can be more than two states,   and a cell can be affected directly by its more distant   neighbors, not just the ones to its immediate left and right.  But we are not   considering these more general entities.</p>
	<h2>3A.5.2 Rule 30</h2>
	<p>If we start out with the <em><strong>seed</strong></em> pattern:  <span class="codeInLine">0001000</span> and   apply <em><strong>rule #30</strong></em> to it, we will get <span class="codeInLine">0011100</span>    (check it yourself — don&apos;t take my word for it). Apply <em> <strong>rule #30</strong></em> again and you&apos;ll get <span class="codeInLine">0110010</span>.  Do it again and you get   <span class="codeInLine">1101111</span>.  If we print out each <em><strong>generation</strong></em> below the   previous one, using <em><strong>black</strong></em> and <em><strong>white</strong></em> squares rather than <strong>0</strong>s   and <strong>1</strong>s, we will get this pattern:</p>
	<div class="figure">
		<div align="center">
			<div align="center">
				<table bgcolor="#C0C0C0" border="1" cellpadding="1" cellspacing="0" width="140">
					<tbody><tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
					</tr>
					<tr>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#FFFFFF"><font color="#FFFFFF"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
						<td align="center" bgcolor="#000000"><font color="#000000"> <strong>0</strong></font></td>
					</tr>
				</tbody></table>
			</div>
		</div>
		<div class="caption">  
			<p>Now, let&apos;s assume that our <em><strong>1D seed pattern</strong></em> is as long as we wish, so that it   		is <em><strong>left-padded</strong></em> and <em><strong>right-padded</strong></em> with <em><strong>0</strong></em>s (or <em><strong>white</strong></em>, <strong>off   		cells</strong>).  Then we can continue applying <em><strong>rule #30</strong></em> many times.  Here is what we get if we apply   		it 200 times:</p>
			<p align="center"> <img alt="picture several gens of rule 30" border="0" height="201" src="./CS 1and2B Module 3A Section 5_files/pic_1and2b3_6.png" width="401"/></p>
			<p>Notice that it   		has some regularity (on the left) and some   		randomness (in the center).  In fact, this is a   		somewhat famous <em><strong>rule</strong></em> because it is used to generate   		<strong>pseudo-random numbers</strong> in computers by taking  the   		<em><strong>states</strong></em> of the <em><strong>center cell</strong></em> only (i.e., the changes   		from <em><strong>on</strong></em> to <em><strong>off</strong></em> and back as we start at the <em><strong>top</strong></em> of   		the triangle and <em><strong>move down</strong></em> a thin <em><strong>vertical path</strong></em>).  I have heard   		that this is what several <em><strong>compilers</strong></em>, including   		<span class="windows">Microsoft&apos;s C++</span> and <span class="mac">Eclipse&apos;s Java</span>, use for the <strong>rand()</strong> and <strong>random() </strong>functions.</p>
		</div>
	</div>
	<p>Gosh, we have a <em><strong>seed</strong></em> <strong>string</strong>, <font class="codeInLine" color="#800080">                *                   </font> and a <font color="#800080"><em><strong>rule #30</strong></em></font>.  From these two things, we can manually create new   <strong>strings</strong>.  Not only that, we can output each <strong>string</strong> to the screen on its own   line.  (This should result in our own personal <em><strong>rule #30 </strong></em>image   for this <em><strong>seed </strong></em><strong>string</strong>). Can we write a program that asks for a rule from <strong>0 - 255 </strong>and then   produces an image?</p>
<pre>Enter Rule (0 - 255): 30
   start
                                       *
                                      ***
                                     **  *
                                    ** ****
                                   **  *   *
                                  ** **** ***
                                 **  *    *  *
                                ** ****  ******
                               **  *   ***     *
                              ** **** **  *   ***
                             **  *    * **** **  *
                            ** ****  ** *    * ****
                           **  *   ***  **  ** *   *
                          ** **** **  *** ***  ** ***
                         **  *    * ***   *  ***  *  *
                        ** ****  ** *  * *****  *******
                       **  *   ***  **** *    ***      *
                      ** **** **  ***    **  **  *    ***
                     **  *    * ***  *  ** *** ****  **  *
                    ** ****  ** *  ******  *   *   *** ****
                   **  *   ***  ****     **** *** **   *   *
                  ** **** **  ***   *   **    *   * * *** ***
                 **  *    * ***  * *** ** *  *** ** * *   *  *
                ** ****  ** *  *** *   *  ****   *  * ** ******
               **  *   ***  ****   ** *****   * ***** *  *     *
              ** **** **  ***   * **  *    * ** *     *****   ***
             **  *    * ***  * ** * ****  ** *  **   **    * **  *
            ** ****  ** *  *** *  * *   ***  **** * ** *  ** * ****
           **  *   ***  ****   **** ** **  ***    * *  ****  * *   *
          ** **** **  ***   * **    *  * ***  *  ** ****   *** ** ***
         **  *    * ***  * ** * *  ***** *  ******  *   * **   *  *  *
        ** ****  ** *  *** *  * ****     ****     **** ** * * *********
       **  *   ***  ****   **** *   *   **   *   **    *  * * *        *
      ** **** **  ***   * **    ** *** ** * *** ** *  ***** * **      ***
     **  *    * ***  * ** * *  **  *   *  * *   *  ****     * * *    **  *
    ** ****  ** *  *** *  * **** **** ***** ** *****   *   ** * **  ** ****
   **  *   ***  ****   **** *    *    *     *  *    * *** **  * * ***  *   *
  ** **** **  ***   * **    **  ***  ***   ******  ** *   * *** * *  **** ***
 **  *    * ***  * ** * *  ** ***  ***  * **     ***  ** ** *   * ****    *  *
** ****  ** *  *** *  * ****  *  ***  *** * *   **  ***  *  ** ** *   *  ******
*  *   ***  ****   **** *   ******  ***   * ** ** ***  ******  *  ** *****
 **** **  ***   * **    ** **     ***  * ** *  *  *  ***     ******  *    *   *
 *    * ***  * ** * *  **  * *   **  *** *  **********  *   **     ****  *** **
***  ** *  *** *  * **** *** ** ** ***   ****         **** ** *   **   ***   *
   ***  ****   **** *    *   *  *  *  * **   *       **    *  ** ** * **  * **
* **  ***   * **    **  *** *********** * * ***     ** *  *****  *  * * *** *
  * ***  * ** * *  ** ***   *           * * *  *   **  ****    ****** * *   ***
 ** *  *** *  * ****  *  * ***         ** * ***** ** ***   *  **      * ** **
**  ****   **** *   ****** *  *       **  * *     *  *  * ***** *    ** *  * *
  ***   * **    ** **      *****     ** *** **   ******** *     **  **  **** *

   end
</pre>
<div class="important"> IMPORTANT
	<p> Because of console limitations, I have truncated the <em><strong>display to 79 characters width</strong></em> (just as you will do if you write the program). The last few <em><strong>generations</strong></em> are only partly displayed — we only see the &quot;center core&quot; of the actual <em><strong>generations</strong></em> which, if fully displayed, would continue to show the angled slopes left and right.</p>
</div>
<p> You have to squint a little to see the various sized upside-down triangles, but   this is, indeed, the same result as shown in the prettier images, above.    Look at the first three <em><strong>generations</strong></em>, for instance, and compare that with the   first graphic in this section. </p>
	<p> This output results from a program that allows the user to enter any <em><strong>rule</strong></em>,    then applies that <em><strong>rule</strong></em> to a <em><strong>seed</strong></em> consisting of a <em><strong>single asterisk (on) floating in a   sea of blank (off) cells</strong></em>.  A different program might allow the user to choose a   <em><strong>seed</strong></em>, but that requires more work from the user.</p>
	<p> Let&apos;s run the program again, this time applying <strong><em>rule</em> 124</strong> to the same <em><strong>seed</strong></em>:</p>

<pre>&apos;
Enter Rule (0 - 255): 124
   start
                                       *
                                       **
                                       ***
                                       * **
                                       *****
                                       *   **
                                       **  ***
                                       *** * **
                                       * *******
                                       ***     **
                                       * **    ***
                                       *****   * **
                                       *   **  *****
                                       **  *** *   **
                                       *** * ****  ***
                                       * *****  ** * **
                                       ***   ** ********
                                       * **  ****      **
                                       ***** *  **     ***
                                       *   **** ***    * **
                                       **  *  *** **   *****
                                       *** ** * *****  *   **
                                       * ********   ** **  ***
                                       ***      **  ****** * **
                                       * **     *** *    *******
                                       *****    * ****   *     **
                                       *   **   ***  **  **    ***
                                       **  ***  * ** *** ***   * **
                                       *** * ** ****** *** **  *****
                                       * ********    *** ***** *   **
                                       ***      **   * ***   ****  ***
                                       * **     ***  *** **  *  ** * **
                                       *****    * ** * ***** ** ********
                                       *   **   ********   ******      **
                                       **  ***  *      **  *    **     ***
                                       *** * ** **     *** **   ***    * **
                                       * **********    * *****  * **   *****
                                       ***        **   ***   ** *****  *   **
                                       * **       ***  * **  ****   ** **  ***
                                       *****      * ** ***** *  **  ****** * **
                                       *   **     ******   **** *** *    ******
                                       **  ***    *    **  *  *** ****   *
                                       *** * **   **   *** ** * ***  **  **
                                       * *******  ***  * ******** ** *** ***
                                       ***     ** * ** ***      ****** *** **
                                       * **    ********* **     *    *** *****
                                       *****   *       *****    **   * ***   **
                                       *   **  **      *   **   ***  *** **  *
                                       **  *** ***     **  ***  * ** * ***** **
                                       *** * *** **    *** * ** ********   ****
                                       * ***** *****   * ********      **  *
                                       ***   ***   **  ***      **     *** **
                                       * **  * **  *** * **     ***    * *****
                                       ***** ***** * *******    * **   ***   **
                                       *   ***   *****     **   *****  * **  **
                                       **  * **  *   **    ***  *   ** ***** *
                                       *** ***** **  ***   * ** **  ****   ****
                                       * ***   ***** * **  ******** *  **  *  *
                                       *** **  *   ******* *      **** *** ** *
                                       * ***** **  *     ****     *  *** ******
                                       ***   ***** **    *  **    ** * ***
                                       * **  *   *****   ** ***   ****** **
                                       ***** **  *   **  **** **  *    *****
                                       *   ***** **  *** *  ***** **   *   **
                                       **  *   ***** * **** *   *****  **  ***
                                       *** **  *   *****  ****  *   ** *** * **
                                       * ***** **  *   ** *  ** **  **** ******
                                       ***   ***** **  ***** ****** *  ***
                                       * **  *   ***** *   ***    **** * **
                                       ***** **  *   ****  * **   *  *******
                                       *   ***** **  *  ** *****  ** *     **
                                       **  *   ***** ** ****   ** *****    ***
                                       *** **  *   ******  **  ****   **   * **
                                       * ***** **  *    ** *** *  **  ***  ****
                                       ***   ***** **   **** **** *** * ** *
                                       * **  *   *****  *  ***  *** *********
                                       ***** **  *   ** ** * ** * ***       **

   end
Press any key to continue . . .
</pre>

	<p> It seems that someone has written a program that works.   Let&apos;s see how much of a challenge this actually is.  While it&apos;s relatively easy from a programming standpoint, you may have found   that the one tricky part was — or is — understanding the meaning of a rule as a <em>single number</em>.  Some of you will get this on the first &quot;read&quot; and have it down   already, while others   will need to reread the above development to really see how we get a complete   <em><strong>rule-set</strong></em> from a <em><strong>single 8-bit number</strong></em>.  Do that first, before going on to the   next sections which propose an<em><strong> OOP implementation</strong></em> of this <em><strong>1D CA</strong></em>.</p>
	<h2> 3A.5.3  Some Perspective</h2>
	<p> What we are going to do next has all the characteristics of <em><strong>CA programming</strong></em>.    The brain connections you are about to cultivate will work very well for much   more complicated systems because they all use the same basic ideas that we are   learning here, i.e., applying a discrete rule set to the elements of an <em><strong>array</strong></em>.</p>
	<p>I like to give some perspective every now and then, because sometimes these   topics can seem a little abstract.  Is there any use for the techniques we   are about to apply?  Yes. The skills developed in this <span class="sectionOrAssignmentTitle">Module</span> and the   associated <span class="sectionOrAssignmentTitle">Programming Assignment</span> are used in areas such as computer animation, image processing, pattern recognition, artificial   intelligence, biological systems theory, environmental systems theory, chaos,   fractals, genetic algorithms, econometrics, epidemiology modeling (i.e.,   health/illness epidemics), computer games, multi-robot autonomous control   theory, film and television special effects and fluid dynamics.  </p>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0089)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_bool_func_1.html -->



<a name="77_"></a>


<div class="container">
  <div class="content">
  	<h1>Section BOOL - Boolean Functions </h1>
  	<h2>BOOL.1 Boolean Functions</h2>
	<p>A subject of intense interest and research in computer science is that of <em><strong>boolean functions</strong></em> (or <em><strong>logic gates</strong></em>). These are functions that have one or more binary inputs (<em><strong>input bits</strong></em>) and one or more binary outputs (<em><strong>output bits</strong></em>). Such <em><strong>functions</strong></em> can be built using a special class of functions which only have one output bit. Here&apos;s an example with <em><strong>three inputs</strong></em> and <em><strong>one output</strong></em>:</p>
    <div class="picCenter"><img alt="bools" height="131" src="./CS 1and2B Module Bool Section 1_files/bool_a.JPG" width="387"/></div>
    
   	<p>Each of the inputs, <strong>A</strong>, <strong>B</strong> and <strong>C</strong>, can take one of two values: <strong>true</strong> or <strong>false</strong> (or if we prefer, <strong>1</strong> or <strong>0</strong>). The output, <strong>Z</strong>, can be either <strong>true</strong> (<strong>1</strong>) or <strong>false</strong> (<strong>0</strong>).</p>
   	<p>How many possible inputs are there? Count them: <strong>ABC</strong> can be <strong>000</strong>, <strong>001</strong>, <strong>010</strong>, ... , <strong>111</strong>, in binary notation, or <strong>0</strong>, <strong>1</strong>, <strong>2</strong>, ..., <strong>7</strong>, in decimal integer notation. So this particular function can be thought of as taking an <strong>int</strong> from 0 to 7 as input and a <strong>boolean</strong> (<strong>true</strong> or <strong>false</strong>) as  output.</p>
   	<p>These are the beasts we want to study today. It turns out that the most complicated and open problems in computer science can be reduced to, or described by, such <em><strong>boolean functions</strong></em>. One studies the <em><strong>circuits</strong></em> that implement these functions and asks questions about how fast the circuits grow as we increase the number of inputs. </p>
   	<h2> BOOL.2   Some Important Unary and Binary Boolean Functions</h2>
	<p> We are all familiar with boolean operators   <strong>OR</strong> (<span class="codeInLine">||</span>), <strong>AND</strong> (<span class="codeInLine">&amp;&amp;</span>) and <strong>NOT</strong> (<span class="codeInLine">!</span>) of computer programming. Their <em><strong>output</strong></em> value (<strong>true</strong> or <strong>false</strong>) is determined by the boolean values of one input (in the case of the <strong>NOT</strong> operator) or  two inputs (in the case of the <strong>OR</strong> and <strong>AND</strong> operators). Here  are the tables — also called the <em><strong>truth tables</strong></em> — that define the <strong>OR</strong> and <strong>AND</strong> <em><strong>operator</strong></em>:</p>
	<div align="center"> <font face="Arial Black" size="4">OR</font>
		<table bgcolor="#808080" border="0" bordercolor="#808080" bordercolordark="#000000" bordercolorlight="#800000" cellpadding="0" cellspacing="0" height="131" id="table4" width="60%">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">a</font></strong></td>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">b</font></strong></td>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">a||b</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
			</tr>
	  </tbody></table>
		<br/>
		<font face="Arial Black" size="4">AND</font>
	  <table bgcolor="#808080" border="0" bordercolor="#808080" bordercolordark="#000000" bordercolorlight="#800000" cellpadding="0" cellspacing="0" height="131" id="table5" width="60%">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">a</font></strong></td>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">b</font></strong></td>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">a&amp;&amp;b</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
			</tr>
	  </tbody></table>
	</div>
    
    <p>These operators are now seen to be <em><strong>boolean functions</strong></em> which have two <strong>boolean</strong> (or binary) inputs and one <em><strong>boolean</strong></em> (binary) output.  Here are the same <em><strong>truth tables</strong></em> shown in binary form with the common mathematical symbols:</p>
    <div class="picCenter"><img alt="andor" src="./CS 1and2B Module Bool Section 1_files/and_or.JPG"/></div>
    <p class="question">How many other <em><strong>boolean functions</strong></em> are there that have <em><strong>two inputs</strong></em> and <em><strong>one output</strong></em>? Same question for functions with <em><strong>one input</strong></em> and one output. (You can discuss this in the forums.)</p>
    <p>Here is the important unary  function <strong>NOT</strong> (unary means one input):</p>
    <div class="picCenter"><img alt="not" src="./CS 1and2B Module Bool Section 1_files/not.JPG"/></div>
    <p>There are three more  <em><strong>binary operations</strong></em> (also called <em><strong>gates</strong></em>) which are commonly used in computer science and engineering. They are, along with their symbols:</p>
    <div class="picCenter"><img alt="nandnor" src="./CS 1and2B Module Bool Section 1_files/nand_nor.JPG"/></div>
    <div class="picCenter"><img alt="xor" src="./CS 1and2B Module Bool Section 1_files/xor.JPG"/></div>
    <h2>BOOL.3 Boolean Functions as Functions of Integers</h2>
    <p>If we consider the two binary inputs, <strong>a</strong> and <strong>b</strong>, taken together as a single <em><strong>decimal integer number</strong></em>, then we can show the <em><strong>truth tables</strong></em> in the following way:</p>
    <div align="center">
    		<font face="Arial Black" size="4"> OR</font>
		<table bgcolor="#808080" border="0" bordercolor="#808080" bordercolordark="#000000" bordercolorlight="#800000" cellpadding="0" cellspacing="0" height="131" id="table6" width="60%">
			<tbody><tr>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">input</font></strong></td>
				<td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">ouput</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false false → 00 = 0(dec)</font></strong></td>
				<td align="center"><strong><font face="Courier">false</font></strong></td>
			</tr>
			<tr>
				<td align="center"><strong><font face="Courier">false true → 01 = 1(dec)</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
            <tr>
				<td align="center"><strong><font face="Courier">true false → 10 = 2(dec)</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
            <tr>
				<td align="center"><strong><font face="Courier">true true → 11 = 3(dec)</font></strong></td>
				<td align="center"><strong><font face="Courier">true</font></strong></td>
			</tr>
	  </tbody></table>
    </div>
	<p>  </p>
	<div align="center"> <font face="Arial Black" size="4"> AND</font>
	  <table bgcolor="#808080" border="0" bordercolor="#808080" bordercolordark="#000000" bordercolorlight="#800000" cellpadding="0" cellspacing="0" height="131" id="table" width="60%">
	    <tbody><tr>
	      <td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">input</font></strong></td>
	      <td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">ouput</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">false false → 00 = 0(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">false</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">false true → 01 = 1(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">false</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">true false → 10 = 2(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">false</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">true true → 11 = 3(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">true</font></strong></td>
        </tr>
      </tbody></table>
    </div>
	<p> </p>
	<p>As you can see, we have turned our original tables, which took <em><strong>two boolean inputs</strong></em> (<strong>a</strong> and <strong>b</strong>), into equivalent tables that take<em><strong> a single decimal int input</strong></em> (<strong>0 - 3</strong>).  Here are the tables for <strong>AND</strong> and <strong>OR</strong> expressed as <em><strong>functions</strong></em> of <em><strong>decimal ints</strong></em>:</p>
    <div class="picCenter"><img alt="andorint" height="427" src="./CS 1and2B Module Bool Section 1_files/and_or_as_ints.JPG" width="209"/></div>
	<p>If you prefer, you can even take the output to be an int, but in this case, it will only take on the values 0 or 1.</p>
	<p>These two <em><strong>boolean functions</strong></em> -- and any other <em><strong>boolean function</strong></em> -- can be therefore represented in our programs as an <em><strong>array</strong></em> of <strong>bools</strong> (C++ or Python) or <em><strong>array</strong></em> of <strong>booleans</strong> (Java), the size of the array being the 2<sup><em>N</em></sup>, where <em>N</em> is the number of binary inputs. The <em><strong>input</strong></em> to the <em><strong>function</strong></em> would be the <em><strong>index</strong></em> of the <em><strong>array element</strong></em>, and the <em><strong>output</strong></em> is the <em><strong>boolean</strong></em> <strong>true/false</strong> (or <strong>int 1/0</strong>) value stored at that position of the <em><strong>array</strong></em>. For the above gates with 2 binary inputs, the size of the table is 2<sup>2</sup> = 4, as you can see.</p>
    
<pre>   // C++ ---------------------------
   bool orGate[4] = {false, true, true, true};
   bool andGate[4] = {false, false, false, true};
   

   // Java ---------------------------
   boolean[] orGate = {false, true, true, true};
   boolean[] andGate = {false, false, false, true};


   # Python -------------------------
   or_gate = [False, True, True, True]<br/>   and_gate = [False, False, False, True]
</pre>
<p>Each <em><strong>array</strong></em> (<strong>list</strong> in Python) allows us to compute the answer to any input question by indexing the array:</p>
<pre>   // C++ ---------------------------
   bool output;

   // value of OR gate for input #2 (corresponding to a=true and b=false):
   output = orGate[2];
   cout &lt;&lt; &quot;or[2] &quot; &lt;&lt; output &lt;&lt; endl;

   // value of AND gate for input #1 (corresponding to a=false and b=true):
   output = andGate[1];
   cout &lt;&lt; &quot;and[1] &quot; &lt;&lt; output &lt;&lt; endl;
   

   // Java ---------------------------
   boolean output;
      
   // value of OR gate for input #2 (corresponding to a=true and b=false):
   output = orGate[2];
   System.out.println(&quot;or[2] &quot; + output);
         
   // value of AND gate for input #1 (corresponding to a=false and b=true):
   output = andGate[1];
   System.out.println(&quot;and[1] &quot; + output);


   # Python ---------------------------
   # value of OR gate for input #2 (corresponding to a=True and b=False):
   output = or_gate[2]
   print(&quot;or[2] &quot; + str(output))
         
   # value of AND gate for input #1 (corresponding to a=False and b=True):
   output = and_gate[1]
   print(&quot;and[1] &quot; + str(output))</pre>
<p>The runs for these programs:</p>
<pre>// C++ ---------------------------

or[2] 1
and[1] 0
Press any key to continue . . .
   
// Java --------------------------
or[2] true
and[1] false

# Python -------------------------

or[2] True<br/>and[1] False</pre>
  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0089)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_bool_func_2.html -->



<a name="78_"></a>


<div class="container">
  <div class="content">
  	<h1>Section CIRC - Circuit Complexity</h1>
    <div class="parenthetical"> This page is optional. It gives context to some of the concepts just described.    </div>
  	<h2>CIRC.1 Circuit Complexity and Exponential Growth</h2>
	<p>An arbitrary boolean function that has <em>N</em> inputs requires, as we just saw, a list of 2<sup><em>N</em></sup> booleans (the outputs for each possible input) to represent it, at least it would if we were to use the array representation just described. In other words, let&apos;s assume that  we have a boolean function which we name <strong><em>f</em><sub><em>N</em></sub></strong>, where we appended the subscript <em>N</em> to indicate the number of input bits; it can handle inputs in the range, 0 to 2<sup><em>N</em></sup>-1, and the table size for <strong><em>f</em><sub><em>N </em></sub></strong>would be 2<sup><em>N</em></sup>. If we were to build a new function, &quot;based somehow on <strong><em>f</em><sub><em>N</em></sub></strong>&quot;, but which took one extra bit, and called the new function <strong><em>f</em><sub><em>N</em>+1</sub></strong>, the table size of the new function would, of course, have size 2<sup><em>N+1</em></sup>, that is, it would require a table twice as large compared with the table of the original <strong><em>f</em><sub><em>N</em></sub></strong>. </p>
	<p>Why do we care about this, and what does it even mean that  <strong><em>f</em><sub><em>N</em>+1</sub></strong> was &quot;somehow based&quot; on the function  <strong><em>f</em><sub><em>N</em></sub></strong>? </p>
	<p>The answer lies in a field called <em><strong>decision theory</strong></em>. It turns out that a huge infinity of computational questions can be translated into a single (often large) boolean function with one ouput. Practically any computational problem you can think of asking can be expressed using a boolean function that solves it. The time it takes to solve the problem (the algorithm) corresponds to the size of the circuit (or table) that represents its boolean function. </p>
	<p>The statement that &quot;<strong><em>f<sub>N+1</sub></em></strong><em> is somehow based on the function <strong>f<sub>N</sub></strong></em>&quot; is a way to say that <strong><em>f</em><sub><em>N</em></sub></strong> represented the decision problem for an input  of size <em>N</em> and <strong><em>f</em><sub><em>N</em>+1</sub></strong> represents <em>that same decision problem</em> for an input size one larger than <em>N</em>, or <em>N</em>+1. Both functions are related by virtue of their solving the same basic problem, but for different input sizes. Here, I&apos;m using the letter <strong><em>f</em></strong> to label the decision problem at hand. If I had a different problem, I might use <strong><em>g</em></strong> (and the two tables for the different size inputs for this second problem, <strong><em>g</em><sub><em>N</em> </sub></strong>and <strong><em>g</em><sub><em>N</em>+1</sub></strong>).</p>
	<p>As an example,  the problem whose solution depends on <em>N</em> is </p>
    <div class="picCenter">
      <p> <strong>Given any integer <em>k</em> between 0 and 2<sup><em>N</em></sup>-1, <em>is k prime?</em></strong>	</p>
    </div>
	<p>(The reason for picking the upper limit <strong>2<sup><em>N</em></sup></strong>-1 is that we are asking whether <em>k</em> can be represented using <em>N</em> binary digits.) This question has a boolean function, <strong><em>f</em><sub><em>N</em></sub></strong>, that corresponds to the solution of the problem and a table that represents  <strong><em>f</em><sub><em>N</em></sub></strong> . That function would answer the question for all inputs <em>k</em> &lt;= 2<sup><em>N</em></sup>-1; you supply any such <em>k</em> as an input, and the table would answer <strong>true</strong> if <em>k</em> were prime and <strong>false</strong> if not. In fact, for each <em>N</em>, we build a different boolean function that solves the prime number problem for all <em>k</em> &lt; 2<sup><em>N</em></sup>, so we get a function family, { <strong><em>f</em><sub><em>N</em></sub></strong>} dedicated to the prime number problem. As you can imagine, the algorithm takes more time to answer as <em>N</em> grows larger. This is also reflected in the table size for  <strong><em>f</em><sub><em>N</em></sub></strong> which has  has  2<sup><em>N</em></sup> elements in it. Using such tables, { <strong><em>f</em><sub><em>N</em></sub></strong>}, the size of each  <strong><em>f</em><sub><em>N</em></sub></strong> <em><strong>grows exponentially</strong></em> with <em>N: each table is twice the size of the table before it</em>. If we cannot find any better way to represent this algorithm other than to construct these brute-force tables then we say that the algorithm grows exponentially. For sake of argument, let&apos;s say we have not found  a better way to answer this prime number question other than to supply the entire table of size 2<sup><em>N</em></sup>. That would make the problem (potentially) one that exhibits <em><strong>exponential growth</strong></em>.</p>
	<p>There are many circuits (and questions) that don&apos;t require a large table to represent them. For example, the question </p>
	<div class="picCenter">
	  <p><strong>Given any integer <em>k</em> between 0 and 2<sup><em>N</em></sup>-1, <em>is k &gt; 0?</em></strong></p>
	</div>
	<p></p>
	<p>can be answered by <strong>OR</strong>-ing the <em>N</em> bits that constitute <em>k</em> together. This is merely <em>N</em>-1 <strong>OR</strong> gates, and it grows <em>linearly</em> (like <em>N</em>) not <em>exponentially</em> (like 2<sup><em>N</em></sup>). In other words, the boolean function family, { <strong><em>g</em><sub><em>N</em></sub></strong>}, that correspond to this question  has a much slower growth rate than the family { <strong><em>f</em><sub><em>N</em></sub></strong>} that corresponds to the prime number question. So, some problems can be represented by a circuit that has a slower growth rate, others require circuits that grow exponentially.</p>
	<p>The manner in which a problem&apos;s algorithm takes grows with <em>N</em> -- or the size that its family of functions {<strong><em>f</em><sub><em>N</em></sub></strong>} grows with <em>N</em> -- is called the <strong><em>complexity of the algorithm</em></strong>. Algorithms (<em><strong>function families</strong></em>) that have polynomial growth (grow like <em>N</em> or <em>N</em><sup><em>2</em></sup> or <em>N</em><sup><em>7</em></sup>) are labeled <em><strong>easy</strong></em>. Those that have exponential growth are called <em><strong>hard</strong></em>. </p>
	<p>There are lots of ill-defined statements in this last section, all of which require several pages of math to make rigorous. They require us to define terms like deterministic and non-deterministic circuit families, and lead the famous P ≠ NP conjecture. That&apos;s for another course.</p>
	<h2>CIRC.2 Universal Gates</h2>
	<p>Just as we could represent the question &quot;is <em>k</em> (in the range 0 to 2<sup><em>N</em></sup>-1) greater than zero?&quot; using (<em>N</em>-1) OR-gates, it turns out any arbitrary function <strong><em>f</em><sub><em>N</em></sub></strong> can be expressed using a circuit with a combination of relatively few binary or unary gates (like <strong>AND</strong>, <strong>OR</strong>, <strong>NOT</strong>, etc.) Whenever you have a small set of  gates which can be used to build any boolean function, that set is called <strong><em>universal</em></strong>. </p>
	<p>The gates <strong>AND</strong>, <strong>OR</strong> and <strong>NOT</strong> form one universal set. It&apos;s very easy to show this, although I won&apos;t do it here.</p>
	<p>Can we do it in fewer gates? Yes. We only need one gate to build everything else: the <strong>NAND</strong>-gate (the not-and gate). We introduced ii in the previous page, but for reference, its defining table is:</p>
	<div align="center"> <font face="Arial Black" size="4"> NAND</font>
	  <table bgcolor="#808080" border="0" bordercolor="#808080" bordercolordark="#000000" bordercolorlight="#800000" cellpadding="0" cellspacing="0" height="131" id="table2" width="60%">
	    <tbody><tr>
	      <td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">input</font></strong></td>
	      <td align="center" bgcolor="#000000"><strong> <font color="#00FF00" face="Courier">ouput</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">false false = 00 = 0(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">true</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">false true = 01 = 1(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">true</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">true false = 10 = 2(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">true</font></strong></td>
        </tr>
	    <tr>
	      <td align="center"><strong><font face="Courier">true true = 11 = 3(dec)</font></strong></td>
	      <td align="center"><strong><font face="Courier">false</font></strong></td>
        </tr>
      </tbody></table>
    </div>
	<p>You can do everything with this one gate. Furthermore, it isn&apos;t the only gate that can be used, without the help of other gates, to represent all boolean functions.  (Think about it, or search for it online.)</p>

  </div>
<!--end .container --></div>



<hr/>

<!--saved from url=(0089)https://www.fgamedia.org/faculty/loceff/cs_courses/common/LIFE/cs_1and2B_bool_func_3.html -->



<a name="79_"></a>


<div class="container">
  <div class="content">
  	<h1>Section SSD - The Seven Segment Display</h1>

	<h2>SSD.1 The Seven Segment Display</h2>
	<p>Let&apos;s look at <em>seven</em> very special boolean functions which, together, are used throughout computing to display numeric digits on LEDs: these are the seven elements of the <em><strong>seven segment display</strong></em>.</p>
    <div class="picCenter"><img alt="seven" height="251" src="./CS 1and2B Module Bool Section 3_files/seven_seg_display.JPG" width="272"/></div>
	<p>As you can see, there are actually 16 common patterns plus decimal point. However, we&apos;ll focus mostly on the first 10, digits <strong>0 - 9</strong>.</p>
	<p>A <em><strong>seven segment display</strong></em> consists of seven separate units, or <em><strong>segments</strong></em>, which are usually named <strong>a</strong>, <strong>b</strong>, <strong>c</strong>, <strong>d</strong>, <strong>e</strong>, <strong>f</strong> and <strong>g</strong>. There is also a decimal point, but let&apos;s ignore that for this lecture.</p>
    <div class="picCenter"><img alt="sevenseg2" height="245" src="./CS 1and2B Module Bool Section 3_files/seven_seg_display2.JPG" width="243"/></div>
	<p>Can we express each of these <em><strong>seven segments</strong></em> in terms of boolean functions? Yes. First, they are either on or off (<strong>true</strong> or <strong>false</strong>), so the output is consistent with a boolean function. Second, the inputs are non-negative integers, again, consistent with boolean functions. What is the range of input ints? We only need 0 - 9, but even for that, four input bits are required, meaning that we can define the outputs for inputs 10 - 15 however we wish.</p>
	<p>There are two common choices. First, we might define the output for 10-15  all so that they display the letter &quot;<strong>E</strong> as in <strong>E</strong>rror&quot;. Or, we may choose to display them as their hexadecimal equivalents: <strong>A</strong>, <strong>b</strong>, <strong>C</strong>, <strong>d</strong>, <strong>E</strong>, <strong>F</strong>.  (Why do we use lower case for <strong>b</strong> and <strong>d</strong>?)</p>
	<p>Let&apos;s look at the table that represents just one of these seven segments: the horizontal segment <strong>a</strong> along the top. When the input is <strong>0</strong>, we want a to light up. <strong>So segA[0] = true</strong>. When the input is <strong>1</strong>, we don&apos;t want a to light up. So <strong>segA[1] = false</strong>. Continuing in this manner we get the full truth table. I&apos;m going with the alternative in which we express the letters <strong>A</strong>, <strong>b</strong>, <strong>C</strong>, <strong>d</strong>, <strong>E</strong>, <strong>F</strong> for inputs 10 - 16.</p>
	<div class="narrowTable">
			
					&gt;
					<table border="0" cellpadding="0" cellspacing="0" width="90%">
			<caption>
			The &quot;a&quot; bit (in 7-segment display)
			 </caption>
				<tbody><tr>
					<th scope="col">input</th>
					<th scope="col">a</th>
				</tr>
				<tr>
					<td>0</td>
					<td>T</td>
				</tr>
				<tr>
					<td>1</td>
					<td>F</td>
				</tr>
				<tr>
					<td>2</td>
					<td>T</td>
				</tr>
				<tr>
					<td>3</td>
					<td>T</td>
				</tr>
				<tr>
					<td>4</td><td>F</td>
				</tr>
				<tr>
					<td>5</td>
					<td>T</td>
				</tr>
				<tr>
					<td>6</td>
					<td>T</td>
				</tr>
				<tr>
					<td>7</td>
					<td>T</td>
				</tr>
				<tr>
					<td>8</td>
					<td>T</td>
				</tr>
				<tr>
					<td>9</td>
					<td>T</td>
				</tr>
				<tr>
					<td>10</td>
					<td>T</td>
				</tr>
 				<tr>
					<td>11</td>
					<td>F</td>
				</tr>
				<tr>
					<td>12</td>
					<td>T</td>
				</tr>
				<tr>
					<td>13</td>
					<td>F</td>
				</tr>
				<tr>
					<td>14</td>
					<td>T</td>
				</tr>
				<tr>
					<td>15</td>
					<td>T</td>
				</tr>
			</tbody></table>
		</div>
		<p>I&apos;ll let you look up the tables for the remaining six segments in your upcoming <span class="sectionOrAssignmentTitle">lab</span>.</p>
  </div>
	
  </div>
<!--end .container -->



<hr/>

<!--saved from url=(0072)https://www.fgamedia.org/faculty/loceff/cs_courses/cs_1b/cs_1B_7b_4.html -->



<a name="80_"></a>


<div class="container">
<div class="content">
	<h1>Section 4 - A Pseudo-Datamatrix Class  (Optional)</h1>
	<div class="parenthetical"> <strong>This section is optional</strong><strong></strong>. Ultimatly, it will be replaced by sections <strong>7B.5</strong> through <strong>7B.7</strong>. You may proceed directly to those if you wish. </div>
	<h2>7B.4.1 A Strategy for the Solution Barcode Classes</h2>
	<p>We are ready for the actual class or classes that will implement <strong>BarcodeIO</strong> and contain, as an internal member object, a <strong>BarcodeImage</strong>.  Before we   jump in and start creating this class, let&apos;s think about what its purpose is.    Are we ready to implement a specific barcode symbology like <strong>Datamatrix</strong>,   or <strong>pdf-417</strong>?  </p>
<p>Maybe not.  A lot of the things we want to do next would apply to <em>any</em> symbology.  So a good design should implement <strong>BarcodeIO</strong> with an   embedded <strong>String</strong> and <strong>BarcodeImage</strong> members into a new <em>base class </em>called <strong>ImageReaderWriter</strong> that does things like print a label and read in   a label.  What we should <em>not</em> be doing at this level of abstraction   is converting the image to text or vice versa, since that is symbology-dependent.     From the recommended <strong>ImageReaderWriter</strong>, we would subclass specific symbology classes.    When you think about it, you might ask what to do with the two interface   methods, <strong>generateImageFromText() </strong>and<strong> translateImageToText()</strong>.    They don&apos;t quite have an obvious place in <strong>ImageReaderWriter</strong>, since we   need a symbology for their implementation.  However, we can give abstract   and generic shells for these methods and require the subclasses do the   implementation.</p>
<p>Anyway, the structure should be something like this:</p>
	<div class="picCenter"><img alt="class diag" src="./CS 2B Module 7B Section 4_files/cs_B_common_38.JPG"/></div>
	<p>This is what it <em>should</em> look like.  What we <em>will</em> do,   however, is skip the   general base class <strong>ImageReaderWriter</strong> and go directly, instead, to <strong> DataMatrix</strong>.  This is to keep the example and assignment manageable.    So here is the diagram we will follow:</p>
<div class="picCenter"><img alt="actual class diagram" height="398" src="./CS 2B Module 7B Section 4_files/cs_B_common_39.JPG" width="387"/></div>
	<h2>7B.4.2 The Target Class, DataMatrix</h2>
	<p>This class is a pseudo <em>Datamatrix</em> data structure, not a true <em> Datamatrix</em> implementation, because it does not contain   any of the error correction or encoding in a real <em>Datamatrix</em>.  However, it   does have the 2D array format and a left and bottom <strong>BLACK</strong> edge and an   alternating right and top <strong>BLACK-WHITE</strong> pattern as seen in prior pages.</p>
	<h3>   DataMatrix Data</h3>
	<ul>
		  	<li><strong>public static final char BLACK_CHAR = &apos;*&apos;; </strong></li>
			<li><strong>public static final char WHITE_CHAR = &apos; &apos;</strong>;   </li>
			<li><strong>private BarcodeImage image </strong>- a single internal copy of any image <em>scanned-in</em> OR <em> passed-into the constructor</em> OR <em>created   	by BarcodeIO&apos;s <strong>generateImageFromText()</strong><strong>.</strong></em></li>
			<li><strong>private String text</strong> - a single internal copy of any text <em>read-in</em> OR <em> passed-into the constructor</em> OR <em>created   	by <strong>BarcodeIO&apos;s translateImageToText()</strong><strong>.</strong></em></li>
			<li><strong>private int actualWidth</strong> and <strong>actualHeight</strong> - two <strong>ints</strong> that are typically <strong><em>less than</em></strong> <strong>BarcodeImage.MAX_WIDTH</strong> and <strong>BarcodeImage.MAX_HEIGHT</strong> which represent the actual portion of the <strong> BarcodeImage</strong> that has real <em>signal</em>.  This is dependent on the   	data in the image, and can change as the image changes through mutators.</li>
	</ul>
	<h3>   DataMatrix Methods</h3>
	<ul>
		  	<li><em><strong>Constructors</strong></em>.  Three minimum, but you could have   	more:
		  		<ul>
		  			<li><strong>Default Constructor </strong>-  constructs an empty, but   		non-null, image and text value.  The initial image should be all   		white, however, <strong>actualWidth</strong> and <strong>actualHeight</strong> should start at <strong>0</strong>, so it   		won&apos;t really matter what&apos;s in this default image, in practice.  The <strong>text</strong> can   		be set to blank, &quot;&quot;, or something like &quot;undefined&quot;.</li>
		  			<li><strong>DataMatrix(BarcodeImage image)</strong> - sets the <strong>image</strong> but leaves   		the <strong>text</strong> at its default value.  Call <strong>scan()</strong> and avoid duplication   		of code here.</li>
		  			<li><strong>DataMatrix(String text)</strong> - sets the <strong>text</strong> but leaves the <strong>image</strong> at its default value.  Call <strong>readText()</strong> and avoid duplication   		of code here.</li>
	  			</ul>
	  		</li>
			<li><strong>readText(String text)</strong> - a <strong><em>mutator</em></strong> for text.    	Like the constructor;  in fact it is called <em>by</em> the constructor.</li>
			<li><strong>scan(BarcodeImage image)</strong> - a <em><strong>mutator</strong></em> for <strong>image</strong>.  Like   	the constructor;  in fact it is called <em>by</em> the constructor.  Besides calling   	the <strong>clone()</strong> method of the <strong>BarcodeImage</strong> class, this method would do one   	thing, at minimum, in the basic option:  set the <strong>actualWidth</strong> and <strong>actualHeight</strong>.     	Because <strong>scan()</strong> calls <strong>clone()</strong>, it should deal with the <strong> CloneNotSupportedException</strong> by <strong><em>embedding</em></strong><em><strong> the clone() call within a try/catch block</strong></em>.  Don&apos;t   	attempt to hand-off the exception using a &quot;throws&quot; clause in the function   	header since that will not be compatible with the underlying <strong>BarcodeIO</strong> interface.  The <strong>catches(...)</strong> clause can have an empty body that   	does nothing.</li>
			<li><em><strong>Accessors</strong></em> for <strong>actualWidth</strong> and <strong>actualHeight</strong> but <em><strong>no mutators!</strong></em> (why?)</li>
			<li><strong>private int computeSignalWidth()</strong> and <strong>private int   	computeSignalHeight()</strong> - Assuming that the image is correctly situated in   	the lower-left corner of the larger <strong>boolean</strong> array, these methods use the   	&quot;spine&quot; (Closed Limitation Line) of the array (left and bottom BLACK) to determine the actual size - it   	returns the <strong>int</strong> values as <em><strong>functional returns</strong></em>. </li>
			<li><strong>Implementation of all BarcodeIO methods.</strong></li>
	</ul>
<h3>Other Considerations for <strong>DataMatrix</strong></h3>
	<ul>
		<li><strong>displayImageToConsole()</strong> should display only the relevant portion   	of the image, clipping the excess blank/white from the top and right.    	Also, show a border as in:</li>
<pre>------------------------------------
|* * * * * * * * * * * * * * * * * |
|*                                *|
|****   * ***** **** **** ******** |
|*   *** ***************** ********|
|*  * **  *   *   *  *    * **     |
|* *       * *  **    * * *    ****|
|*     *   *    ** * *  *  *  ** * |
|** * *** *****  **     * *      **|
|****  *   **** ** *   *   *  * *  |
|**********************************|
------------------------------------ 
</pre>

		<li><font color="#800080"><em>Optional - </em></font>The methods <strong>generateImageFromText()</strong> and <strong>translateImageToText()</strong> are the tricky parts, and it will help if you   	have some methods like the following to break up the work:  <strong>private   	char readCharFromCol(int col)</strong> and <strong>private boolean writeCharToCol(int   	col, int code)</strong>.  While you don&apos;t have to use these exact methods,   	you must not turn in huge methods <strong>generateImageFromText()</strong> and <strong>translateImageToText()</strong> that are not broken down to smaller ones.</li>
	</ul>
	<ul>
		<li><font color="#800080"><em>Optional </em></font>- <strong>public void   	displayRawImage() </strong>can be implemented to show the full image data   	including the blank top and right.  It is a useful debugging tool.</li>
	</ul>
	<ul>
		<li><font color="#800080"><em>Optional </em></font>- <strong>private void   	clearImage()</strong> - a nice utility that sets the image to white =  false.</li>
	</ul>
<p>As you can tell, the implementation of this is going to be your assignment   this week.  I have provided some significant structure and also a lot of   useful code that you can steal from the <strong>TwoDimImage</strong> class.</p>
	<p>Do this one step-at-a-time, following my outline and also digesting   what you are doing and why you are doing it at each juncture. I am here for   questions, as usual.</p>
	<h2>7B.4.3  A Sample Main()</h2>
	<p>Here is a <strong>main()</strong> to use as a test of your code.  You should create simpler <strong>main()</strong>s as you work your way up to this:</p>
	
<pre>  public static void main(String[] args)
   {
      String[] sImageIn = 
      { 
            &quot;                                      &quot;,
            &quot;                                      &quot;,
            &quot;                                      &quot;,
            &quot;* * * * * * * * * * * * * * * * *     &quot;,
            &quot;*                                *    &quot;,
            &quot;**** * ****** ** ****** *** ****      &quot;,
            &quot;* ********************************    &quot;,
            &quot;*    *   *  * *  *   *  *   *  *      &quot;,
            &quot;* **    *      *   **    *       *    &quot;,
            &quot;****** ** *** **  ***** * * *         &quot;,
            &quot;* ***  ****    * *  **        ** *    &quot;,
            &quot;* * *   * **   *  *** *   *  * **     &quot;,
            &quot;**********************************    &quot;
      };
      
      String[] sImageIn_2 = 
      { 
            &quot;                                          &quot;,
            &quot;                                          &quot;,
            &quot;* * * * * * * * * * * * * * * * * * *     &quot;,
            &quot;*                                    *    &quot;,
            &quot;**** *** **   ***** ****   *********      &quot;,
            &quot;* ************ ************ **********    &quot;,
            &quot;** *      *    *  * * *         * *       &quot;,
            &quot;***   *  *           * **    *      **    &quot;,
            &quot;* ** * *  *   * * * **  *   ***   ***     &quot;,
            &quot;* *           **    *****  *   **   **    &quot;,
            &quot;****  *  * *  * **  ** *   ** *  * *      &quot;,
            &quot;**************************************    &quot;
      };
      
      BarcodeImage bc = new BarcodeImage(sImageIn);
      DataMatrix dm = new DataMatrix(bc);
     
      // First secret message
      dm.translateImageToText();
      dm.displayTextToConsole();
      dm.displayImageToConsole();
      
      // second secret message
      bc = new BarcodeImage(sImageIn_2);
      dm.scan(bc);
      dm.translateImageToText();
      dm.displayTextToConsole();
      dm.displayImageToConsole();
      
      // create your own message
      dm.readText(&quot;CS 1B rocks more than Zeppelin&quot;);
      dm.generateImageFromText();
      dm.displayTextToConsole();
      dm.displayImageToConsole();
   } 
</pre>

</div>
</div>



<hr/>

<!--saved from url=(0085)https://www.fgamedia.org/faculty/loceff/cs_courses/common/BARCODE/cs_1and2B_6b_3.html -->



<a name="81_"></a>


<div class="container">
<div class="content">
	<h1>Section 2 - Optical Barcodes (Optional)</h1>
    <div class="parenthetical"> <strong>This section is optional</strong><strong></strong>. Ultimatly, it -- and the following two -- will be replaced by sections <strong>5</strong> through <strong>7</strong>  of the current module. You may proceed directly to those if you wish.    </div>
	<h2>BARCODE.2.1 Barcodes</h2>
	<p>Barcodes are ubiquitous.  It is hard to imagine life without them.    As a consumer, you use them indirectly as you watch a clerk scan the items that   you purchased.  If you request a mail-in rebate, you have to cut out the <strong><em>UPC code</em></strong> and attach it to your rebate request.  When you send or receive a   package, your carrier has the tracking information encoded and printed as a   barcode on the box.</p>
	<p> <img align="left" alt="barcode pic" border="0" height="336" hspace="15" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_Barcode-scanner.jpg" width="300"/>In   industrial applications barcodes are used to manufacture, purchase and assemble   products.  Medical centers place them on every drug container, syringe,   patient record and even on the patients themselves (look at the wrist band next   time you or someone you know is in the hospital). </p>
	<p>Imagine the number and variety of companies that provide hardware and   software to encode, print, scan and decode these labels which are everywhere.    And it is growing.  </p>
	<p>The reason that this industry is so active is due, in part, to the fact that   the problem is not completely solved.  In supermarkets, where angled   mirrors scan the item from several directions, there is redundancy (in the good   sense) that enables the bar code to be reconstructed with over 99% accuracy even if   the label is wrinkled, faded or poorly positioned;  less than one in 100   items scanned require the clerk to manually key in the product number due to a   read error.  But a shipping label that&apos;s been through a rainstorm,   stepped-on or partially ripped by the staple from a neighboring package, will   contain errors at a higher frequency.  Add to that the fact that hand-held   scanners don&apos;t (yet) have the sophistication of their big brothers in the   supermarket, so they don&apos;t have as much &quot;redundancy&quot; (again in the good sense),   which multiplies the likelihood of an error.  These errors cost money, so the companies are very motivated to improve things by buying better products   or hiring engineers internally to solve the problem.</p>
	<p> <img align="right" alt="barcode pic" border="2" height="232" hspace="15" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_rusty.jpg" vspace="5" width="301"/>To   give you a further sense of the reality of this problem, pharmaceutical   companies that process over a million orders a month can get errors at the rate   of 50% because of cheap printers from under-funded hospitals, doctor signatures   written over part of the codes, and transportation damage.  Meanwhile,   energy companies, the military and construction manufacturers attempt to track   equipment by using codes embedded into the steel with lasers, but rust and sand   often destroy part of the codes.  We cannot eliminate the damage, but we can   use error correcting codes that allow for 100% of the data to be recovered even   if part of the barcode is completely lost ... if the programming is done   right.  That&apos;s where you come in.</p>
	<p>This is an industry that will need programmers for decades.  This   week, you&apos;ll get some hands on experience in coding and testing software that   manages optical barcode patterns.</p>
	<h2>BARCODE.2.2 Tw0-Dimensional  Barcode Symbologies</h2>
	<p> <img align="left" alt="barcode pic" border="0" height="79" hspace="20" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_pdf417.jpg" width="263"/>One   of the most important class of barcodes are the 2-dimensional, or 2D, codes.    They can pack more information over a smaller area than the longer 1D strips.    There are several different formats, or <em><strong>symbologies</strong></em> as they are called, and any   product that reads 2D barcodes usually has to be designed to recognize and   interpret more than one format.  Therefore<img align="right" alt="barcode pic" border="0" height="94" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_aztec.jpg" width="99"/> each has some large feature that helps a programmed algorithm to identify what   type it is.   Above, left, you&apos;ll see a format called<em><strong> pdf-417</strong></em>. On the   right you&apos;ll see the same information in a format called <em><strong>Aztec</strong></em>.  And below   is the format that I want to explore in a little more detail; it is called <strong> <em>Datamatrix</em></strong> (or <strong>DataMatrix</strong> or <strong>Data Matrix</strong>).</p>
	<p align="center"> <img alt="barcode pic" border="0" height="95" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_datamatrix.jpg" width="97"/></p>
	<p align="left">By the way, all of these codes are carrying the same text   string.  Can you guess what it is?  Here&apos;s a hint:</p>
	<div class="picCenter"><img alt="barcode pic" border="0" height="118" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_128.jpg" width="459"/></div>
	<p align="left">This last one, by the way, is a 1D code.  While we&apos;re not   so interested in those this week, it is the only one that actually prints out   the words on the label with the code.  It is called <em><strong>Code-128</strong></em>.</p>
	<h2 align="left">BARCODE.2.3 Datamatrix</h2>
	<p align="left">Let&apos;s look again at <em><strong>Datamatrix</strong></em>.  Below are a   couple more samples.  What do you notice about them?  The more recognizable   feature, perhaps, is the solid black on the<em><strong> left and bottom</strong></em>.  This is   called the <em><strong>Closed Limitation Line</strong></em>.   Look a little more   closely and you&apos;ll notice that the <strong><em>right and top</em></strong> consist of an alternating black and white   pattern, so that the odd numbered pixels on the far right (and top) are black,   while the even numbered pixels are white.  This is called the <em><strong>Open   Borderline</strong></em>.  The <em><strong>Closed Limitation Line</strong></em> and <em><strong>Open   Borderline</strong></em> help   the algorithms because they:</p>
	<ul>
		<li>  Help   	situate the code in a standard position.<img align="right" alt="barcode pic" border="0" height="154" hspace="10" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_bacode_datamatrix2.jpg" width="161"/>		</li>
		<li> Determine the minimum size of each pixel.		</li>
		<li> Determine the height and width of the <em><strong>Datamatrix</strong></em> (which as   	you can see from the examples can vary).		</li>
	</ul>
	<h4 align="left">There are two aspects of all these encoding schemes.</h4>
	<ol>
		<li> They have actual data - the message that is to be encoded.		</li>
		<li> There is extra information encoded that allows much of the   	image to be destroyed without loss of the message.		</li>
	</ol>
	<p align="left">This second aspect is knows as <em><strong>error-correction</strong></em>,   and can be very sophisticated.  Hamming codes are a simple example.  <em><strong>Datamatrix</strong></em> uses something   called <em><strong>Reed-Solomon error correction</strong></em>, and to explain it, I&apos;d have to ask you to   take two years of upper division math, and then we would need a three <img align="left" alt="barcode pic" border="2" height="400" hspace="30" src="./CS 2B Module BARCODE Section 2_files/cs_1and2B_6b_3_Galois.jpg" vspace="30" width="317"/>week   seminar on the coding of the algorithm, itself.  Needless to say, we&apos;re not   going there.  I will, however take a moment to tell you that the code is   based on the work done in the early 19th century by a young French mathematician   named <em><strong>Evariste Galois</strong></em>, who was neither recognized as a   mathematician nor able to stay out of political prison during the latter part   of his short, 21 year life.  Galois was a tragic example of how a closed   and imbalanced educational system can shut out great genius and even ruin lives.    (We try to avoid that here at Foothill College.)   He died in a duel that some say was   orchestrated by the government to   kill (he was a bit of a mis-guided   rabble   rouser, to be sure). Luckily (an understatement), he wrote up everything he discovered over his short life   the night before the duel.  He sent it to his only living friend and fellow   mathematician, who himself did not comprehend its full value.  Fifty years   later, it was discovered and motivated a branch of mathematics now called <em><strong> Galois Theory</strong></em>  that is required for every math and theoretical physics Ph.D. student   to understand.   From modern particle physics to these error   correcting codes that appear on PC boards, submarines and packages, <em><strong>Galois   Theory</strong></em> -- the theory that manipulates objects called <strong><em>finite fields</em></strong> -- is the underlying theory that enables the error correction technology for <em><strong>Datamatrix</strong></em>.</p>
	<p align="left">In our simplified approach we will pretend that the data is   stored as simple <strong>ASCII</strong> from left to right, packed between the <em><strong>Closed Limitation   Line</strong></em> and the <em><strong>Open Borderline</strong></em>.  In other words, we are   not considering any error correction.  Since <strong>ASCII</strong> uses (formally) 8 bits, and   we&apos;ll need an extra bit below and above each character, the bit pattern or dot   matrix for this pseudo-datamatrix will be 10 bits high (8 bits for the character   and 1 additional bit above and below.  The simplified code will not be square,   because the width will be determined by the length of the message.  Again,   whatever the width is, we&apos;ll need an extra bit on the left for the <em><strong>Closed   Limitation Line</strong></em> and one on the right for the <strong>Open Borderline</strong>.</p>
	<p align="left">An example of our silly pseudo-datamatrix is this:</p>

<pre>   * * * * * * * * * * * * * * * * * * * 
   *                                    *
   **** *** **   ***** ****   *********  
   * ************ ************ **********
   ** *      *    *  * * *         * *   
   ***   *  *           * **    *      **
   * ** * *  *   * * * **  *   ***   *** 
   * *           **    *****  *   **   **
   ****  *  * *  * **  ** *   ** *  * *  
   **************************************
</pre>

<p align="left">As you can see, I am using *s to indicate black pixels, and   	blanks to indicate white ones.  Also, the bottom and left edge are   	&quot;solid&quot; black (you have to use your imagination a little) and the top and   	right are alternating black-white pixels.  In order to read this   	message we need to start at the far left and look at each column.  We   	throw away the left column which is part of the <em><strong>Closed Limitation Line</strong></em> and   	also throw away the bottom and top.  The first column is, then:</p>

<pre>     128s
   * 64s
     32s
   * 16s 
   * Eights
     Fours
     Twos
   * Ones
</pre>

<p align="left"> This tells us exactly how do read the code:  It is 1 + 8 + 16 + 64 =   		89 = &apos;Y&apos;  (capital <strong>Y</strong>).  We then move to the next   		column, and decode that one the same way.  </p>
	
<p align="left"> This is pretty much punched paper tape from the 1970s (of which I have some great   		memories).</p>
	
<p align="left"> In summary, we are going to use the solid <em><strong>Closed Limitation Line </strong></em>and the <em><strong>Open Borderline</strong></em> simply to identify the size and extent of the code.    		After that, we&apos;ll look at (or print if we are creating the label) each   		column from left-to-right, converting the ASCII codes into a sequence of   		8 characters, or visa-versa.</p>
<p align="left"> It turns out, the structure of the classes, objects and algorithms we&apos;ll   		need to write will be adequate as a framework for the more complex and   		real <em><strong>Datamatrix</strong></em>, even though we will only program a faint   		suggestion of the real deal.</p>
	
	<p align="left">Here is a complete text and the code to go with it, for you   	to use as you write your program:</p>

<pre>* * * * * * * * * * * * * * * * * 
*                                *
****   * ***** **** **** ******** 
*   *** ***************** ********
*  * **  *   *   *  *    * **     
* *       * *  **    * * *    ****
*     *   *    ** * *  *  *  ** * 
** *   * *****  **     * *      **
**** **   **** ** *   *   *  * *  
**********************************
 CIS 15B rocks more than Zeppelin
</pre>

	<p>(<strong>CIS 15B</strong> is the older and slightly weaker version of <strong>CS 2B</strong> which, like <strong>CS 1B</strong>, rocks even <em>more</em> than <strong>CIS 15B</strong> rocked.) You can see that each side of the string contains an extra position for the   enclosing border columns.  Remember, you have to remove the bottom and top, as well   to get the 8-bit codes.</p>
</div>
</div>


</body></html>